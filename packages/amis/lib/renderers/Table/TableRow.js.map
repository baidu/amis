{
    "version": 3,
    "file": "TableRow.js",
    "sourceRoot": "",
    "sources": [
        "/src/renderers/Table/TableRow.tsx"
    ],
    "names": [],
    "mappings": "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",
    "sourcesContent": [
        "import {observer} from 'mobx-react';\nimport React from 'react';\nimport {IRow, IColumn} from '../../store/table';\nimport {RendererProps} from '../../factory';\nimport {Action} from '../Action';\nimport {reaction} from 'mobx';\nimport {isClickOnInput} from '../../utils/helper';\n\ninterface TableRowProps extends Pick<RendererProps, 'render'> {\n  onCheck: (item: IRow) => void;\n  classPrefix: string;\n  renderCell: (\n    region: string,\n    column: IColumn,\n    item: IRow,\n    props: any\n  ) => React.ReactNode;\n  columns: Array<IColumn>;\n  item: IRow;\n  parent?: IRow;\n  itemClassName?: string;\n  itemIndex: number;\n  regionPrefix?: string;\n  checkOnItemClick?: boolean;\n  ignoreFootableContent?: boolean;\n  [propName: string]: any;\n}\n\n@observer\nexport class TableRow extends React.Component<TableRowProps> {\n  // reaction?: () => void;\n  constructor(props: TableRowProps) {\n    super(props);\n    this.handleAction = this.handleAction.bind(this);\n    this.handleQuickChange = this.handleQuickChange.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleItemClick = this.handleItemClick.bind(this);\n  }\n\n  // 定义点击一行的行为，通过 itemAction配置\n  handleItemClick(e: React.MouseEvent<HTMLTableRowElement>) {\n    if (isClickOnInput(e)) {\n      return;\n    }\n    const {itemAction, onAction, item} = this.props;\n    if (itemAction) {\n      onAction && onAction(e, itemAction, item?.data);\n      item.toggle();\n    } else {\n      this.props.onCheck(this.props.item);\n    }\n  }\n\n  handleAction(e: React.UIEvent<any>, action: Action, ctx: any) {\n    const {onAction, item} = this.props;\n    onAction && onAction(e, action, ctx || item.data);\n  }\n\n  handleQuickChange(\n    values: object,\n    saveImmediately?: boolean,\n    savePristine?: boolean,\n    resetOnFailed?: boolean\n  ) {\n    const {onQuickChange, item} = this.props;\n    onQuickChange &&\n      onQuickChange(item, values, saveImmediately, savePristine, resetOnFailed);\n  }\n\n  handleChange(\n    value: any,\n    name: string,\n    submit?: boolean,\n    changePristine?: boolean\n  ) {\n    if (!name || typeof name !== 'string') {\n      return;\n    }\n\n    const {item, onQuickChange} = this.props;\n\n    onQuickChange?.(\n      item,\n      {\n        [name]: value\n      },\n      submit,\n      changePristine\n    );\n  }\n\n  render() {\n    const {\n      itemClassName,\n      itemIndex,\n      item,\n      columns,\n      renderCell,\n      children,\n      footableMode,\n      ignoreFootableContent,\n      footableColSpan,\n      regionPrefix,\n      checkOnItemClick,\n      classPrefix: ns,\n      render,\n      classnames: cx,\n      parent,\n      itemAction,\n      ...rest\n    } = this.props;\n\n    if (footableMode) {\n      if (!item.expanded) {\n        return null;\n      }\n\n      return (\n        <tr\n          data-id={item.id}\n          data-index={item.newIndex}\n          onClick={\n            checkOnItemClick || itemAction ? this.handleItemClick : undefined\n          }\n          className={cx(itemClassName, {\n            'is-hovered': item.isHover,\n            'is-checked': item.checked,\n            'is-modified': item.modified,\n            'is-moved': item.moved,\n            [`Table-tr--hasItemAction`]: itemAction, // 就是为了加鼠标效果\n            [`Table-tr--odd`]: itemIndex % 2 === 0,\n            [`Table-tr--even`]: itemIndex % 2 === 1\n          })}\n        >\n          <td className={cx(`Table-foot`)} colSpan={footableColSpan}>\n            <table className={cx(`Table-footTable`)}>\n              <tbody>\n                {ignoreFootableContent\n                  ? columns.map(column => (\n                      <tr key={column.index}>\n                        {column.label !== false ? <th></th> : null}\n                        <td></td>\n                      </tr>\n                    ))\n                  : columns.map(column => (\n                      <tr key={column.index}>\n                        {column.label !== false ? (\n                          <th>\n                            {render(\n                              `${regionPrefix}${itemIndex}/${column.index}/tpl`,\n                              column.label\n                            )}\n                          </th>\n                        ) : null}\n\n                        {renderCell(\n                          `${regionPrefix}${itemIndex}/${column.index}`,\n                          column,\n                          item,\n                          {\n                            ...rest,\n                            width: null,\n                            rowIndex: itemIndex,\n                            colIndex: column.index,\n                            key: column.index,\n                            onAction: this.handleAction,\n                            onQuickChange: this.handleQuickChange,\n                            onChange: this.handleChange\n                          }\n                        )}\n                      </tr>\n                    ))}\n              </tbody>\n            </table>\n          </td>\n        </tr>\n      );\n    }\n\n    if (parent && !parent.expanded) {\n      return null;\n    }\n\n    return (\n      <tr\n        onClick={\n          checkOnItemClick || itemAction ? this.handleItemClick : undefined\n        }\n        data-index={item.depth === 1 ? item.newIndex : undefined}\n        data-id={item.id}\n        className={cx(\n          itemClassName,\n          {\n            'is-hovered': item.isHover,\n            'is-checked': item.checked,\n            'is-modified': item.modified,\n            'is-moved': item.moved,\n            'is-expanded': item.expanded && item.expandable,\n            'is-expandable': item.expandable,\n            [`Table-tr--hasItemAction`]: itemAction,\n            [`Table-tr--odd`]: itemIndex % 2 === 0,\n            [`Table-tr--even`]: itemIndex % 2 === 1\n          },\n          `Table-tr--${item.depth}th`\n        )}\n      >\n        {columns.map(column =>\n          renderCell(`${itemIndex}/${column.index}`, column, item, {\n            ...rest,\n            rowIndex: itemIndex,\n            colIndex: column.index,\n            key: column.index,\n            onAction: this.handleAction,\n            onQuickChange: this.handleQuickChange,\n            onChange: this.handleChange\n          })\n        )}\n      </tr>\n    );\n  }\n}\n"
    ]
}