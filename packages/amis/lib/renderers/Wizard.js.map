{
    "version": 3,
    "file": "Wizard.js",
    "sourceRoot": "",
    "sources": [
        "/src/renderers/Wizard.tsx"
    ],
    "names": [],
    "mappings": "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",
    "sourcesContent": [
        "import React from 'react';\nimport {ScopedContext, IScopedContext} from '../Scoped';\nimport {Renderer, RendererProps} from '../factory';\nimport {ServiceStore, IServiceStore} from '../store/service';\nimport {Api, Action} from '../types';\nimport {filter, evalExpression} from '../utils/tpl';\nimport {\n  createObject,\n  until,\n  isVisible,\n  getScrollParent,\n  autobind,\n  SkipOperation\n} from '../utils/helper';\nimport {isApiOutdated, isEffectiveApi} from '../utils/api';\nimport {IFormStore} from '../store/form';\nimport {Spinner} from '../components';\nimport {Icon} from '../components/icons';\nimport {findDOMNode} from 'react-dom';\nimport {resizeSensor} from '../utils/resize-sensor';\nimport {\n  BaseSchema,\n  SchemaApi,\n  SchemaClassName,\n  SchemaExpression,\n  SchemaName,\n  SchemaReload\n} from '../Schema';\nimport {FormSchema} from './Form';\nimport {ActionSchema} from './Action';\n\nimport {tokenize} from '../utils/tpl-builtin';\n\nexport type WizardStepSchema = Omit<FormSchema, 'type'> & {\n  /**\n   * 当前步骤用来保存数据的 api。\n   */\n  api?: SchemaApi;\n\n  asyncApi?: SchemaApi;\n\n  /**\n   * 当前步骤用来获取初始数据的 api\n   */\n  initApi?: SchemaApi;\n\n  /**\n   * 是否可直接跳转到该步骤，一般编辑模式需要可直接跳转查看。\n   */\n  jumpable?: boolean;\n\n  /**\n   * 通过 JS 表达式来配置当前步骤可否被直接跳转到。\n   */\n  jumpableOn?: SchemaExpression;\n\n  /**\n   * Step 标题\n   */\n  title?: string;\n  label?: string;\n\n  /**\n   * 每一步可以单独配置按钮。如果不配置wizard会自动生成。\n   */\n  actions?: Array<ActionSchema>;\n\n  /**\n   * 保存完后，可以指定跳转地址，支持相对路径和组内绝对路径，同时可以通过 $xxx 使用变量\n   */\n  redirect?: string;\n\n  reload?: SchemaReload;\n\n  /**\n   * 默认表单提交自己会通过发送 api 保存数据，但是也可以设定另外一个 form 的 name 值，或者另外一个 `CRUD` 模型的 name 值。 如果 target 目标是一个 `Form` ，则目标 `Form` 会重新触发 `initApi` 和 `schemaApi`，api 可以拿到当前 form 数据。如果目标是一个 `CRUD` 模型，则目标模型会重新触发搜索，参数为当前 Form 数据。\n   */\n  target?: string;\n};\n\n/**\n * 表单向导\n * 文档：https://baidu.gitee.io/amis/docs/components/wizard\n */\nexport interface WizardSchema extends BaseSchema {\n  /**\n   * 指定为表单向导\n   */\n  type: 'wizard';\n\n  /**\n   * 配置按钮 className\n   */\n  actionClassName?: SchemaClassName;\n\n  /**\n   * 完成按钮的文字描述\n   */\n  actionFinishLabel?: string;\n\n  /**\n   * 下一步按钮的文字描述\n   */\n  actionNextLabel?: string;\n\n  /**\n   * 下一步并且保存按钮的文字描述\n   */\n  actionNextSaveLabel?: string;\n\n  /**\n   * 上一步按钮的文字描述\n   */\n  actionPrevLabel?: string;\n\n  /**\n   * Wizard 用来保存数据的 api。\n   * [详情](https://baidu.github.io/amis/docs/api#wizard)\n   */\n  api?: SchemaApi;\n\n  /**\n   * 是否合并后再提交\n   */\n  bulkSubmit?: boolean;\n\n  /**\n   * Wizard 用来获取初始数据的 api。\n   */\n  initApi?: SchemaApi;\n\n  /**\n   * 展示模式\n   *\n   * @default vertical\n   */\n  mode?: 'vertical' | 'horizontal';\n\n  name?: SchemaName;\n\n  /**\n   * 是否为只读模式。\n   */\n  readOnly?: boolean;\n\n  /**\n   * 保存完后，可以指定跳转地址，支持相对路径和组内绝对路径，同时可以通过 $xxx 使用变量\n   */\n  redirect?: string;\n\n  reload?: SchemaReload;\n\n  /**\n   * 默认表单提交自己会通过发送 api 保存数据，但是也可以设定另外一个 form 的 name 值，或者另外一个 `CRUD` 模型的 name 值。 如果 target 目标是一个 `Form` ，则目标 `Form` 会重新触发 `initApi` 和 `schemaApi`，api 可以拿到当前 form 数据。如果目标是一个 `CRUD` 模型，则目标模型会重新触发搜索，参数为当前 Form 数据。\n   */\n  target?: string;\n\n  /**\n   * 是否将底部按钮固定在底部。\n   */\n  affixFooter?: boolean | 'always';\n\n  steps: Array<WizardStepSchema>;\n\n  startStep?: string;\n}\n\nexport interface WizardProps\n  extends RendererProps,\n    Omit<WizardSchema, 'className'> {\n  store: IServiceStore;\n  onFinished: (values: object, action: any) => any;\n}\n\nexport interface WizardState {\n  currentStep: number;\n  completeStep: number;\n}\n\nexport default class Wizard extends React.Component<WizardProps, WizardState> {\n  static defaultProps: Partial<WizardProps> = {\n    mode: 'horizontal', // vertical\n    readOnly: false,\n    messages: {},\n    actionClassName: '',\n    actionPrevLabel: 'Wizard.prev',\n    actionNextLabel: 'Wizard.next',\n    actionNextSaveLabel: 'Wizard.saveAndNext',\n    actionFinishLabel: 'Wizard.finish',\n    startStep: '1'\n  };\n\n  static propsList: Array<string> = [\n    'steps',\n    'mode',\n    'messages',\n    'actionClassName',\n    'actionPrevLabel',\n    'actionNextLabel',\n    'actionNextSaveLabel',\n    'actionFinishLabel',\n    'onFinished',\n    'affixFooter',\n    'startStep'\n  ];\n\n  dom: any;\n  form: any;\n  asyncCancel: () => void;\n\n  parentNode?: any;\n  unSensor: Function;\n  affixDom: React.RefObject<HTMLDivElement> = React.createRef();\n  footerDom: React.RefObject<HTMLDivElement> = React.createRef();\n  initalValues: {\n    [propName: string]: any;\n  } = {};\n\n  state = {\n    currentStep: -1, // init 完后会设置成 1\n    completeStep: -1\n  };\n\n  componentDidMount() {\n    const {\n      initApi,\n      initFetch,\n      initAsyncApi,\n      initFinishedField,\n      store,\n      messages: {fetchSuccess, fetchFailed},\n      onInit\n    } = this.props;\n\n    if (isEffectiveApi(initApi, store.data, initFetch)) {\n      store\n        .fetchInitData(initApi, store.data, {\n          successMessage: fetchSuccess,\n          errorMessage: fetchFailed,\n          onSuccess: () => {\n            if (\n              !isEffectiveApi(initAsyncApi, store.data) ||\n              store.data[initFinishedField || 'finished']\n            ) {\n              return;\n            }\n\n            return until(\n              () => store.checkRemote(initAsyncApi, store.data),\n              (ret: any) => ret && ret[initFinishedField || 'finished'],\n              cancel => (this.asyncCancel = cancel)\n            );\n          }\n        })\n        .then(value => {\n          this.handleInitEvent(store.data);\n\n          const state = {\n            currentStep:\n              typeof this.props.startStep === 'string'\n                ? parseInt(tokenize(this.props.startStep, this.props.data))\n                : 1\n          };\n\n          if (\n            value &&\n            value.data &&\n            (typeof value.data.step === 'number' ||\n              (typeof value.data.step === 'string' &&\n                /^\\d+$/.test(value.data.step)))\n          ) {\n            state.currentStep = parseInt(value.data.step, 10);\n          }\n\n          this.setState(state, () => {\n            // 如果 initApi 返回的状态是正在提交，则进入轮顺状态。\n            if (\n              value &&\n              value.data &&\n              (value.data.submiting || value.data.submited)\n            ) {\n              this.checkSubmit();\n            }\n          });\n          return value;\n        });\n    } else {\n      this.setState(\n        {\n          currentStep:\n            typeof this.props.startStep === 'string'\n              ? parseInt(tokenize(this.props.startStep, this.props.data))\n              : 1\n        },\n        () => this.handleInitEvent(store.data)\n      );\n    }\n\n    const dom = findDOMNode(this) as HTMLElement;\n    if (!(dom instanceof Element)) {\n      return;\n    }\n\n    let parent: HTMLElement | Window | null = dom ? getScrollParent(dom) : null;\n    if (!parent || parent === document.body) {\n      parent = window;\n    }\n    this.parentNode = parent;\n    parent.addEventListener('scroll', this.affixDetect);\n    this.unSensor = resizeSensor(dom as HTMLElement, this.affixDetect);\n    this.affixDetect();\n  }\n\n  componentDidUpdate(prevProps: WizardProps) {\n    const props = this.props;\n    const {store, fetchSuccess, fetchFailed} = props;\n\n    if (\n      isApiOutdated(\n        prevProps.initApi,\n        props.initApi,\n        prevProps.data,\n        props.data\n      )\n    ) {\n      store.fetchData(props.initApi, store.data, {\n        successMessage: fetchSuccess,\n        errorMessage: fetchFailed\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    this.asyncCancel && this.asyncCancel();\n    const parent = this.parentNode;\n    parent && parent.removeEventListener('scroll', this.affixDetect);\n    this.unSensor && this.unSensor();\n  }\n\n  async dispatchEvent(action: string, value?: object) {\n    const {dispatchEvent, data} = this.props;\n\n    const rendererEvent = await dispatchEvent(\n      action,\n      value ? createObject(data, value) : data\n    );\n\n    return rendererEvent?.prevented ?? false;\n  }\n\n  async handleInitEvent(data: any) {\n    const {onInit} = this.props;\n    (await this.dispatchEvent('inited', data)) && onInit && onInit(data);\n  }\n\n  @autobind\n  affixDetect() {\n    if (\n      !this.props.affixFooter ||\n      !this.affixDom.current ||\n      !this.footerDom.current\n    ) {\n      return;\n    }\n\n    const affixDom = this.affixDom.current;\n    const footerDom = this.footerDom.current;\n    let affixed = false;\n    footerDom.offsetWidth &&\n      (affixDom.style.cssText = `width: ${footerDom.offsetWidth}px;`);\n\n    if (this.props.affixFooter === 'always') {\n      affixed = true;\n      footerDom.classList.add('invisible2');\n    } else {\n      const clip = footerDom.getBoundingClientRect();\n      const clientHeight = window.innerHeight;\n      affixed = clip.top + clip.height / 2 > clientHeight;\n    }\n\n    affixed ? affixDom.classList.add('in') : affixDom.classList.remove('in');\n  }\n\n  async gotoStep(index: number) {\n    const steps = this.props.steps || [];\n    index = Math.max(Math.min(steps.length, index), 1);\n\n    if (index != this.state.currentStep) {\n      if (\n        await this.dispatchEvent('stepChange', {\n          step: index\n        })\n      ) {\n        return;\n      }\n\n      this.setState({\n        currentStep: index,\n        completeStep: Math.max(this.state.completeStep, index - 1)\n      });\n    }\n  }\n\n  @autobind\n  formRef(ref: any) {\n    if (ref) {\n      while (ref && ref.getWrappedInstance) {\n        ref = ref.getWrappedInstance();\n      }\n      this.form = ref;\n    } else {\n      this.form = undefined;\n    }\n  }\n\n  submitToTarget(target: string, values: object) {\n    throw new Error('Please implements this!');\n  }\n\n  reloadTarget(target: string, data: any) {\n    throw new Error('Please implements this!');\n  }\n\n  reload(subPath?: string, query?: any, ctx?: any) {\n    if (query) {\n      return this.receive(query);\n    }\n\n    const {\n      initApi,\n      initAsyncApi,\n      initFinishedField,\n      store,\n      messages: {fetchSuccess, fetchFailed}\n    } = this.props;\n\n    if (isEffectiveApi(initApi, store.data) && this.state.currentStep === 1) {\n      store\n        .fetchInitData(initApi, store.data, {\n          successMessage: fetchSuccess,\n          errorMessage: fetchFailed,\n          onSuccess: () => {\n            if (\n              !isEffectiveApi(initAsyncApi, store.data) ||\n              store.data[initFinishedField || 'finished']\n            ) {\n              return;\n            }\n\n            return until(\n              () => store.checkRemote(initAsyncApi, store.data),\n              (ret: any) => ret && ret[initFinishedField || 'finished'],\n              cancel => (this.asyncCancel = cancel)\n            );\n          }\n        })\n        .then(value => {\n          const state = {\n            currentStep: 1\n          };\n\n          if (\n            value &&\n            value.data &&\n            (typeof value.data.step === 'number' ||\n              (typeof value.data.step === 'string' &&\n                /^\\d+$/.test(value.data.step)))\n          ) {\n            state.currentStep = parseInt(value.data.step, 10);\n          }\n\n          this.setState(state, () => {\n            // 如果 initApi 返回的状态是正在提交，则进入轮顺状态。\n            if (\n              value &&\n              value.data &&\n              (value.data.submiting || value.data.submited)\n            ) {\n              this.checkSubmit();\n            }\n          });\n          return value;\n        });\n    }\n  }\n\n  receive(values: object) {\n    const {store} = this.props;\n\n    store.updateData(values);\n    this.reload();\n  }\n\n  @autobind\n  domRef(ref: any) {\n    this.dom = ref;\n  }\n\n  @autobind\n  getPopOverContainer() {\n    return this.dom;\n  }\n\n  // 用来还原异步提交状态。\n  checkSubmit() {\n    const {store, steps, asyncApi, finishedField, env} = this.props;\n\n    const step = steps[this.state.currentStep - 1];\n    let finnalAsyncApi =\n      (step && step.asyncApi) ||\n      (this.state.currentStep === steps.length && asyncApi);\n\n    if (!step || !isEffectiveApi(finnalAsyncApi, store.data)) {\n      return;\n    }\n\n    store.markSaving(true);\n    store.updateData({\n      [finishedField || 'finished']: false\n    });\n\n    until(\n      () => store.checkRemote(finnalAsyncApi as Api, store.data),\n      (ret: any) => ret && ret[finishedField || 'finished'],\n      cancel => (this.asyncCancel = cancel)\n    )\n      .then(() => {\n        store.markSaving(false);\n        this.gotoStep(this.state.currentStep + 1);\n      })\n      .catch(e => {\n        env.notify('error', e.message);\n        store.markSaving(false);\n      });\n  }\n\n  @autobind\n  handleAction(\n    e: React.UIEvent<any> | void,\n    action: Action,\n    data: object,\n    throwErrors: boolean = false,\n    delegate?: IScopedContext\n  ) {\n    const {onAction, store, env, steps} = this.props;\n\n    if (\n      action.actionType === 'next' ||\n      action.type === 'submit' ||\n      action.actionType === 'step-submit'\n    ) {\n      this.form.doAction(\n        {\n          ...action,\n          actionType: 'submit'\n        },\n        data\n      );\n    } else if (action.actionType === 'prev') {\n      this.gotoStep(this.state.currentStep - 1);\n    } else if (action.type === 'reset') {\n      this.form.reset();\n    } else if (action.actionType === 'dialog') {\n      store.setCurrentAction(action);\n      store.openDialog(data);\n    } else if (action.actionType === 'ajax') {\n      if (!action.api) {\n        return env.alert(`当 actionType 为 ajax 时，请设置 api 属性`);\n      }\n\n      return store\n        .saveRemote(action.api as Api, data, {\n          successMessage: action.messages && action.messages.success,\n          errorMessage: action.messages && action.messages.failed\n        })\n        .then(async () => {\n          this.form && this.form.isValidated() && this.form.validate(true);\n\n          const feedback = action.feedback;\n          if (feedback && isVisible(feedback, store.data)) {\n            const confirmed = await this.openFeedback(feedback, store.data);\n\n            // 如果 feedback 配置了，取消就跳过原有逻辑。\n            if (feedback.skipRestOnCancel && !confirmed) {\n              throw new SkipOperation();\n            } else if (feedback.skipRestOnConfirm && confirmed) {\n              throw new SkipOperation();\n            }\n          }\n\n          const reidrect =\n            action.redirect && filter(action.redirect, store.data);\n          reidrect && env.jumpTo(reidrect, action);\n\n          action.reload && this.reloadTarget(action.reload, store.data);\n        })\n        .catch(reason => {\n          if (reason instanceof SkipOperation) {\n            return;\n          }\n        });\n    } else if (action.actionType === 'reload') {\n      action.target && this.reloadTarget(action.target, data);\n    } else if (action.actionType === 'goto-step') {\n      const targetStep = (data as any).step;\n\n      if (\n        targetStep !== undefined &&\n        targetStep <= steps.length &&\n        targetStep >= 0\n      ) {\n        this.gotoStep((data as any).step);\n      }\n    } else if (action.actionType === 'submit') {\n      this.finalSubmit();\n    } else if (onAction) {\n      onAction(e, action, data, throwErrors, delegate || this.context);\n    }\n  }\n\n  @autobind\n  handleQuery(query: any) {\n    if (this.props.initApi) {\n      this.receive(query);\n    } else {\n      this.props.onQuery?.(query);\n    }\n  }\n\n  openFeedback(dialog: any, ctx: any) {\n    return new Promise(resolve => {\n      const {store} = this.props;\n      store.setCurrentAction({\n        type: 'button',\n        actionType: 'dialog',\n        dialog: dialog\n      });\n      store.openDialog(ctx, undefined, confirmed => {\n        resolve(confirmed);\n      });\n    });\n  }\n\n  @autobind\n  async handleChange(values: object) {\n    const {store} = this.props;\n\n    const previous = store.data;\n    const final = {...previous, ...values};\n\n    if (await this.dispatchEvent('change', final)) {\n      return;\n    }\n\n    store.updateData(values);\n  }\n\n  @autobind\n  handleInit(values: any) {\n    const step = this.state.currentStep;\n    this.initalValues[step] = this.initalValues[step] || values;\n    const store = this.props.store;\n\n    store.updateData(values);\n  }\n\n  @autobind\n  handleReset(values: any) {\n    const {store} = this.props;\n    const initalValue = this.initalValues[this.state.currentStep];\n    const reseted: any = {};\n    Object.keys(values).forEach(key => {\n      reseted[key] = initalValue.hasOwnProperty(key)\n        ? initalValue[key]\n        : undefined;\n    });\n\n    store.updateData(reseted);\n  }\n\n  async finalSubmit(values: object = {}, action: Action = {type: 'submit'}) {\n    const {\n      store,\n      steps,\n      api,\n      asyncApi,\n      finishedField,\n      target,\n      redirect,\n      reload,\n      env,\n      onFinished\n    } = this.props;\n\n    if (await this.dispatchEvent('finished', store.data)) {\n      return;\n    }\n\n    const step = steps[this.state.currentStep - 1];\n    store.updateData(values);\n\n    // 最后一步\n    if (target) {\n      this.submitToTarget(target, store.data);\n      this.setState({completeStep: steps.length});\n    } else if (action.api || step.api || api) {\n      let finnalAsyncApi = action.asyncApi || step.asyncApi || asyncApi;\n\n      isEffectiveApi(finnalAsyncApi, store.data) &&\n        store.updateData({\n          [finishedField || 'finished']: false\n        });\n\n      const formStore = this.form\n        ? (this.form.props.store as IFormStore)\n        : store;\n      store.markSaving(true);\n\n      formStore\n        .saveRemote(action.api || step.api || api!, store.data, {\n          onSuccess: async (result: any) => {\n            const dispatcher = await this.dispatchEvent(\n              'submitSucc',\n              createObject(this.props.data, {result})\n            );\n\n            if (\n              !isEffectiveApi(finnalAsyncApi, store.data) ||\n              store.data[finishedField || 'finished']\n            ) {\n              return {\n                cbResult: null,\n                dispatcher\n              };\n            }\n\n            const cbResult = until(\n              () => store.checkRemote(finnalAsyncApi as Api, store.data),\n              (ret: any) => ret && ret[finishedField || 'finished'],\n              cancel => (this.asyncCancel = cancel)\n            );\n            return {\n              cbResult,\n              dispatcher\n            };\n          },\n          onFailed: async (error: any) => {\n            const dispatcher = await this.dispatchEvent(\n              'submitFail',\n              createObject(this.props.data, {error})\n            );\n            return {\n              dispatcher\n            };\n          }\n        })\n        .then(async value => {\n          const feedback = action.feedback;\n          if (feedback && isVisible(feedback, value)) {\n            const confirmed = await this.openFeedback(feedback, value);\n\n            // 如果 feedback 配置了，取消就跳过原有逻辑。\n            if (feedback.skipRestOnCancel && !confirmed) {\n              throw new SkipOperation();\n            } else if (feedback.skipRestOnConfirm && confirmed) {\n              throw new SkipOperation();\n            }\n          }\n\n          this.setState({completeStep: steps.length});\n          store.updateData({\n            ...store.data,\n            ...value\n          });\n          store.markSaving(false);\n\n          if (value && typeof value.step === 'number') {\n            this.gotoStep(value.step);\n          } else if (onFinished && onFinished(value, action) === false) {\n            // 如果是 false 后面的操作就不执行\n            return value;\n          }\n\n          const finalRedirect =\n            (action.redirect || step.redirect || redirect) &&\n            filter(action.redirect || step.redirect || redirect, store.data);\n\n          if (finalRedirect) {\n            env.jumpTo(finalRedirect, action);\n          } else if (action.reload || step.reload || reload) {\n            this.reloadTarget(\n              action.reload || step.reload || reload!,\n              store.data\n            );\n          }\n\n          return value;\n        })\n        .catch(error => {});\n    } else {\n      onFinished && onFinished(store.data, action);\n      this.setState({completeStep: steps.length});\n    }\n  }\n\n  // 接管里面 form 的提交，不能直接让 form 提交，因为 wizard 自己需要知道进度。\n  @autobind\n  async handleSubmit(values: object, action: Action) {\n    const {store, steps, finishedField} = this.props;\n\n    if (this.state.currentStep < steps.length) {\n      const step = steps[this.state.currentStep - 1];\n      store.updateData(values);\n\n      let finnalAsyncApi = action.asyncApi || step.asyncApi;\n\n      isEffectiveApi(finnalAsyncApi, store.data) &&\n        store.updateData({\n          [finishedField || 'finished']: false\n        });\n\n      if (isEffectiveApi(action.api || step.api, store.data)) {\n        store\n          .saveRemote(action.api || step.api!, store.data, {\n            onSuccess: () => {\n              this.dispatchEvent('stepSubmitSucc');\n\n              if (\n                !isEffectiveApi(finnalAsyncApi, store.data) ||\n                store.data[finishedField || 'finished']\n              ) {\n                return;\n              }\n\n              return until(\n                () => store.checkRemote(finnalAsyncApi as Api, store.data),\n                (ret: any) => ret && ret[finishedField || 'finished'],\n                cancel => (this.asyncCancel = cancel)\n              );\n            },\n            onFailed: json => {\n              this.dispatchEvent('stepSubmitFail', {error: json});\n              if (json.status === 422 && json.errors && this.form) {\n                this.form.props.store.setFormItemErrors(json.errors);\n              }\n            }\n          })\n          .then(async (value: any) => {\n            const feedback = action.feedback;\n            if (feedback && isVisible(feedback, value)) {\n              const confirmed = await this.openFeedback(feedback, value);\n\n              // 如果 feedback 配置了，取消就跳过原有逻辑。\n              if (feedback.skipRestOnCancel && !confirmed) {\n                throw new SkipOperation();\n              } else if (feedback.skipRestOnConfirm && confirmed) {\n                throw new SkipOperation();\n              }\n            }\n\n            this.gotoStep(\n              value && typeof value.step === 'number'\n                ? value.step\n                : this.state.currentStep + 1\n            );\n          })\n          .catch(reason => {\n            this.dispatchEvent('stepSubmitFail', {error: reason});\n            if (reason instanceof SkipOperation) {\n              return;\n            }\n            // do nothing\n          });\n      } else {\n        this.gotoStep(this.state.currentStep + 1);\n      }\n    } else {\n      this.finalSubmit(values, action);\n    }\n\n    return false;\n  }\n\n  @autobind\n  handleDialogConfirm(values: object[], action: Action, targets: Array<any>) {\n    const {store} = this.props;\n\n    if (\n      action.mergeData &&\n      values.length === 1 &&\n      values[0] &&\n      targets[0].props.type === 'form'\n    ) {\n      store.updateData(values[0]);\n    }\n\n    store.closeDialog(true);\n  }\n\n  @autobind\n  handleDialogClose(confirmed = false) {\n    const {store} = this.props;\n    store.closeDialog(confirmed);\n  }\n\n  renderSteps() {\n    const {steps, store, mode, classPrefix: ns, classnames: cx} = this.props;\n    const {currentStep, completeStep} = this.state;\n\n    return (\n      <div className={`${ns}Wizard-steps`} id=\"form-wizard\">\n        {Array.isArray(steps) && steps.length ? (\n          <ul>\n            {steps.map((step, key) => {\n              const canJump = isJumpable(step, key, currentStep, store.data);\n              const isComplete = canJump || key < completeStep;\n              const isActive = currentStep === key + 1;\n\n              return (\n                <li\n                  key={key}\n                  className={cx({\n                    'is-complete': isComplete,\n                    'is-active': isActive\n                  })}\n                  onClick={() => (canJump ? this.gotoStep(key + 1) : null)}\n                >\n                  <span\n                    className={cx('Badge', {\n                      // 'Badge--success': canJump && currentStep != key + 1,\n                      'is-complete': isComplete,\n                      'is-active':\n                        isActive || (canJump && currentStep != key + 1)\n                    })}\n                  >\n                    {isComplete && !isActive ? (\n                      <Icon icon=\"check\" className=\"icon\" />\n                    ) : (\n                      key + 1\n                    )}\n                  </span>\n                  {step.title || step.label || `第 ${key + 1} 步`}\n                </li>\n              );\n            })}\n          </ul>\n        ) : null}\n      </div>\n    );\n  }\n\n  renderActions() {\n    const {\n      steps,\n      store,\n      readOnly,\n      disabled,\n      actionClassName,\n      actionPrevLabel,\n      actionNextLabel,\n      actionNextSaveLabel,\n      actionFinishLabel,\n      render,\n      translate: __\n    } = this.props;\n\n    if (!Array.isArray(steps)) {\n      return null;\n    }\n\n    const currentStepIndex = this.state.currentStep;\n    const nextStep = steps[currentStepIndex];\n    const prevStep = steps[currentStepIndex - 2];\n    const waiting = store.loading;\n    const step = steps[currentStepIndex - 1];\n\n    if (!step) {\n      return null;\n    }\n\n    const prevCanJump = prevStep\n      ? isJumpable(prevStep, currentStepIndex - 2, currentStepIndex, store.data)\n      : false;\n\n    if (step.actions && Array.isArray(step.actions)) {\n      return step.actions.length ? (\n        <>\n          {step.actions.map((action, index) =>\n            render(`action/${index}`, action, {\n              key: index,\n              onAction: this.handleAction,\n              disabled:\n                action.disabled ||\n                waiting ||\n                disabled ||\n                (action.actionType === 'prev' && !prevCanJump) ||\n                (action.actionType === 'next' &&\n                  readOnly &&\n                  (!!step.api || !nextStep))\n            })\n          )}\n        </>\n      ) : null;\n    }\n\n    return (\n      <>\n        {render(\n          `prev-btn`,\n          {\n            type: 'button',\n            label: __(actionPrevLabel),\n            actionType: 'prev',\n            className: actionClassName\n          },\n          {\n            disabled: waiting || !prevCanJump || disabled,\n            onAction: this.handleAction\n          }\n        )}\n\n        {render(\n          `next-btn`,\n          {\n            type: 'button',\n            label: !nextStep\n              ? __(actionFinishLabel)\n              : !step.api\n              ? __(actionNextLabel)\n              : __(actionNextSaveLabel),\n            actionType: 'next',\n            primary: !nextStep || !!step.api,\n            className: actionClassName\n          },\n          {\n            disabled:\n              waiting || disabled || (readOnly && (!!step.api || !nextStep)),\n            onAction: this.handleAction\n          }\n        )}\n      </>\n    );\n  }\n\n  renderFooter() {\n    const actions = this.renderActions();\n\n    if (!actions) {\n      return actions;\n    }\n    const {classnames: cx, affixFooter} = this.props;\n\n    return (\n      <>\n        <div\n          role=\"wizard-footer\"\n          ref={this.footerDom}\n          className={cx('Panel-footer Wizard-footer')}\n        >\n          {actions}\n        </div>\n\n        {affixFooter ? (\n          <div\n            ref={this.affixDom}\n            className={cx('Panel-fixedBottom Wizard-footer')}\n          >\n            <div className={cx('Panel-footer')}>{actions}</div>\n          </div>\n        ) : null}\n      </>\n    );\n  }\n\n  renderWizard() {\n    const {\n      className,\n      steps,\n      render,\n      store,\n      classPrefix: ns,\n      classnames: cx,\n      popOverContainer,\n      mode,\n      translate: __\n    } = this.props;\n\n    const currentStep = this.state.currentStep;\n    const step = Array.isArray(steps) ? steps[currentStep - 1] : null;\n\n    return (\n      <div\n        ref={this.domRef}\n        className={cx(\n          `${ns}Panel ${ns}Panel--default ${ns}Wizard ${ns}Wizard--${mode}`,\n          className\n        )}\n      >\n        <div className={`${ns}Wizard-step`}>\n          {this.renderSteps()}\n          <div\n            role=\"wizard-body\"\n            className={`${ns}Wizard-stepContent clearfix`}\n          >\n            {step ? (\n              render(\n                'body',\n                {\n                  ...step,\n                  type: 'form',\n                  wrapWithPanel: false,\n\n                  // 接口相关需要外部来接管\n                  api: null\n                },\n                {\n                  key: this.state.currentStep,\n                  ref: this.formRef,\n                  onInit: this.handleInit,\n                  onReset: this.handleReset,\n                  onSubmit: this.handleSubmit,\n                  onAction: this.handleAction,\n                  onQuery: this.handleQuery,\n                  disabled: store.loading,\n                  popOverContainer:\n                    popOverContainer || this.getPopOverContainer,\n                  onChange: this.handleChange,\n                  formStore: undefined\n                }\n              )\n            ) : currentStep === -1 ? (\n              __('loading')\n            ) : (\n              <p className=\"text-danger\">{__('Wizard.configError')}</p>\n            )}\n          </div>\n          {this.renderFooter()}\n        </div>\n\n        {render(\n          'dialog',\n          {\n            ...((store.action as Action) &&\n              ((store.action as Action).dialog as object)),\n            type: 'dialog'\n          },\n          {\n            key: 'dialog',\n            data: store.dialogData,\n            onConfirm: this.handleDialogConfirm,\n            onClose: this.handleDialogClose,\n            show: store.dialogOpen\n          }\n        )}\n        <Spinner size=\"lg\" overlay key=\"info\" show={store.loading} />\n      </div>\n    );\n  }\n\n  render() {\n    return this.renderWizard();\n  }\n}\n\nfunction isJumpable(step: any, index: number, currentStep: number, data: any) {\n  let canJump = false;\n\n  if (step && step.hasOwnProperty('jumpable')) {\n    canJump = step.jumpable;\n  } else if (step && step.jumpableOn) {\n    canJump = evalExpression(\n      step.jumpableOn,\n      createObject(data, {\n        currentStep\n      })\n    );\n  } else {\n    canJump = index + 1 < currentStep;\n  }\n\n  return canJump;\n}\n\n@Renderer({\n  type: 'wizard',\n  storeType: ServiceStore.name,\n  isolateScope: true\n})\nexport class WizardRenderer extends Wizard {\n  static contextType = ScopedContext;\n\n  constructor(props: WizardProps, context: IScopedContext) {\n    super(props);\n\n    const scoped = context;\n    scoped.registerComponent(this);\n  }\n\n  componentWillUnmount() {\n    const scoped = this.context as IScopedContext;\n    scoped.unRegisterComponent(this);\n    super.componentWillUnmount();\n  }\n\n  doAction(action: Action, data: object, throwErrors: boolean = false) {\n    return this.handleAction(undefined, action, data);\n  }\n\n  submitToTarget(target: string, values: object) {\n    const scoped = this.context as IScopedContext;\n    scoped.send(target, values);\n  }\n\n  reloadTarget(target: string, data: any) {\n    const scoped = this.context as IScopedContext;\n    scoped.reload(target, data);\n  }\n\n  @autobind\n  handleDialogConfirm(values: object[], action: Action, targets: Array<any>) {\n    super.handleDialogConfirm(values, action, targets);\n\n    const store = this.props.store;\n    const scoped = this.context as IScopedContext;\n    if (action.reload) {\n      scoped.reload(action.reload, store.data);\n    } else if (store.action && store.action.reload) {\n      scoped.reload(store.action.reload, store.data);\n    }\n  }\n\n  setData(values: object) {\n    return this.props.store.updateData(values);\n  }\n}\n"
    ]
}