{
    "version": 3,
    "file": "Audio.js",
    "sourceRoot": "",
    "sources": [
        "/src/renderers/Audio.tsx"
    ],
    "names": [],
    "mappings": "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",
    "sourcesContent": [
        "import React from 'react';\nimport upperFirst from 'lodash/upperFirst';\nimport {Renderer, RendererProps} from '../factory';\nimport {autobind, detectPropValueChanged, getPropValue} from '../utils/helper';\nimport {Icon} from '../components/icons';\nimport {resolveVariable} from '../utils/tpl-builtin';\nimport {filter} from '../utils/tpl';\nimport {BaseSchema, SchemaUrlPath} from '../Schema';\n\n/**\n * Audio 音频渲染器。\n * 文档：https://baidu.gitee.io/amis/docs/components/audio\n */\nexport interface AudioSchema extends BaseSchema {\n  /**\n   * 指定为音频播放器\n   */\n  type: 'audio';\n\n  /**\n   * 是否是内联模式\n   */\n  inline?: boolean;\n\n  /**\n   * \"视频播放地址, 支持 $ 取变量。\n   */\n  src?: SchemaUrlPath;\n\n  /**\n   * 是否循环播放\n   */\n  loop?: boolean;\n\n  /**\n   * 是否自动播放\n   */\n  autoPlay?: boolean;\n\n  /**\n   * 配置可选播放倍速\n   */\n  rates?: Array<number>;\n\n  /**\n   * 可以配置控制器\n   */\n  controls?: Array<'rates' | 'play' | 'time' | 'process' | 'volume'>;\n}\n\nexport interface AudioProps\n  extends RendererProps,\n    Omit<AudioSchema, 'className'> {}\n\nexport interface AudioState {\n  src?: string;\n  isReady?: boolean;\n  muted?: boolean;\n  playing?: boolean;\n  played: number;\n  seeking?: boolean;\n  volume: number;\n  prevVolume: number;\n  loaded?: number;\n  playbackRate: number;\n  showHandlePlaybackRate: boolean;\n  showHandleVolume: boolean;\n}\n\nexport class Audio extends React.Component<AudioProps, AudioState> {\n  audio: HTMLMediaElement;\n  progressTimeout: ReturnType<typeof setTimeout>;\n  durationTimeout: ReturnType<typeof setTimeout>;\n\n  static defaultProps: Pick<\n    AudioProps,\n    | 'inline'\n    | 'autoPlay'\n    | 'playbackRate'\n    | 'loop'\n    | 'rates'\n    | 'progressInterval'\n    | 'controls'\n  > = {\n    inline: true,\n    autoPlay: false,\n    playbackRate: 1,\n    loop: false,\n    rates: [],\n    progressInterval: 1000,\n    controls: ['rates', 'play', 'time', 'process', 'volume']\n  };\n\n  state: AudioState = {\n    src:\n      getPropValue(this.props, props =>\n        props.src ? filter(props.src, props.data, '| raw') : undefined\n      ) || '',\n    isReady: false,\n    muted: false,\n    playing: false,\n    played: 0,\n    seeking: false,\n    volume: 0.8,\n    prevVolume: 0.8,\n    loaded: 0,\n    playbackRate: 1.0,\n    showHandlePlaybackRate: false,\n    showHandleVolume: false\n  };\n\n  componentWillUnmount() {\n    clearTimeout(this.progressTimeout);\n    clearTimeout(this.durationTimeout);\n  }\n\n  componentDidMount() {\n    const autoPlay = this.props.autoPlay;\n    const playing = autoPlay ? true : false;\n    this.setState(\n      {\n        playing: playing\n      },\n      this.progress\n    );\n  }\n\n  componentDidUpdate(prevProps: AudioProps) {\n    const props = this.props;\n\n    detectPropValueChanged(\n      props,\n      prevProps,\n      value =>\n        this.setState(\n          {\n            src: value,\n            playing: false\n          },\n          () => {\n            this.audio.load();\n            this.progress();\n          }\n        ),\n      props => (props.src ? filter(props.src, props.data, '| raw') : undefined)\n    );\n  }\n\n  @autobind\n  progress() {\n    clearTimeout(this.progressTimeout);\n    if (this.state.src && this.audio) {\n      const currentTime = this.audio.currentTime || 0;\n      const duration = this.audio.duration;\n      const played = currentTime / duration;\n      let playing = this.state.playing;\n      playing = played != 1 && playing ? true : false;\n      this.setState({\n        played,\n        playing\n      });\n      this.progressTimeout = setTimeout(\n        this.progress,\n        this.props.progressInterval / this.state.playbackRate\n      );\n    }\n  }\n\n  @autobind\n  audioRef(audio: HTMLMediaElement) {\n    this.audio = audio;\n  }\n\n  @autobind\n  load() {\n    this.setState({\n      isReady: true\n    });\n  }\n\n  @autobind\n  handlePlaybackRate(rate: number) {\n    this.audio.playbackRate = rate;\n    this.setState({\n      playbackRate: rate,\n      showHandlePlaybackRate: false\n    });\n  }\n\n  @autobind\n  handleMute() {\n    if (!this.state.src) {\n      return;\n    }\n    const {muted, prevVolume} = this.state;\n    const curVolume = !muted ? 0 : prevVolume;\n    this.audio.muted = !muted;\n    this.setState({\n      muted: !muted,\n      volume: curVolume\n    });\n  }\n\n  @autobind\n  handlePlaying() {\n    if (!this.state.src) {\n      return;\n    }\n    let playing = this.state.playing;\n    playing ? this.audio.pause() : this.audio.play();\n    this.setState({\n      playing: !playing\n    });\n  }\n\n  @autobind\n  getCurrentTime() {\n    if (!this.audio || !this.state.src || !this.state.isReady) {\n      return '0:00';\n    }\n    const duration = this.audio.duration;\n    const played = this.state.played;\n    return this.formatTime(duration * (played || 0));\n  }\n\n  @autobind\n  getDuration() {\n    if (!this.audio || !this.state.src) {\n      return '0:00';\n    }\n    if (!this.state.isReady) {\n      this.onDurationCheck();\n      return '0:00';\n    }\n    const {duration, seekable} = this.audio;\n    // on iOS, live streams return Infinity for the duration\n    // so instead we use the end of the seekable timerange\n    if (duration === Infinity && seekable.length > 0) {\n      return seekable.end(seekable.length - 1);\n    }\n    return this.formatTime(duration);\n  }\n\n  @autobind\n  onDurationCheck() {\n    clearTimeout(this.durationTimeout);\n    const duration = this.audio && this.audio.duration;\n    if (!duration) {\n      this.durationTimeout = setTimeout(this.onDurationCheck, 500);\n    }\n  }\n\n  @autobind\n  onSeekChange(e: any) {\n    if (!this.state.src) {\n      return;\n    }\n    const played = e.target.value;\n    this.setState({played: played});\n  }\n\n  @autobind\n  onSeekMouseDown() {\n    this.setState({seeking: true});\n  }\n\n  @autobind\n  onSeekMouseUp(e: any) {\n    if (!this.state.seeking) {\n      return;\n    }\n    const played = e.target.value;\n    const duration = this.audio.duration;\n    this.audio.currentTime = duration * played;\n\n    const loop = this.props.loop;\n    let playing = this.state.playing;\n    playing = played < 1 || loop ? playing : false;\n    this.setState({\n      playing: playing,\n      seeking: false\n    });\n  }\n\n  @autobind\n  setVolume(e: any) {\n    if (!this.state.src) {\n      return;\n    }\n    const volume = e.target.value;\n    this.audio.volume = volume;\n    this.setState({\n      volume: volume,\n      prevVolume: volume\n    });\n  }\n\n  @autobind\n  formatTime(seconds: number) {\n    const date = new Date(seconds * 1000);\n    const hh = date.getUTCHours();\n    const mm = date.getUTCMinutes();\n    const ss = this.pad(date.getUTCSeconds());\n    if (hh) {\n      return `${hh}:${this.pad(mm)}:${ss}`;\n    }\n    return `${mm}:${ss}`;\n  }\n\n  @autobind\n  pad(string: number) {\n    return ('0' + string).slice(-2);\n  }\n\n  @autobind\n  toggleHandlePlaybackRate() {\n    if (!this.state.src) {\n      return;\n    }\n    this.setState({\n      showHandlePlaybackRate: !this.state.showHandlePlaybackRate\n    });\n  }\n\n  @autobind\n  toggleHandleVolume(type: boolean) {\n    if (!this.state.src) {\n      return;\n    }\n    this.setState({\n      showHandleVolume: type\n    });\n  }\n\n  renderRates() {\n    const {rates, classnames: cx} = this.props;\n    const {showHandlePlaybackRate, playbackRate} = this.state;\n\n    return rates && rates.length ? (\n      showHandlePlaybackRate ? (\n        <div className={cx('Audio-rateControl')}>\n          {rates.map((rate, index) => (\n            <div\n              key={index}\n              className={cx('Audio-rateControlItem')}\n              onClick={() => this.handlePlaybackRate(rate)}\n            >\n              x{rate.toFixed(1)}\n            </div>\n          ))}\n        </div>\n      ) : (\n        <div\n          className={cx('Audio-rates')}\n          onClick={this.toggleHandlePlaybackRate}\n        >\n          x{playbackRate.toFixed(1)}\n        </div>\n      )\n    ) : null;\n  }\n\n  renderPlay() {\n    const {classnames: cx} = this.props;\n    const {playing} = this.state;\n\n    return (\n      <div className={cx('Audio-play')} onClick={this.handlePlaying}>\n        {playing ? (\n          <Icon icon=\"pause\" className=\"icon\" />\n        ) : (\n          <Icon icon=\"play\" className=\"icon\" />\n        )}\n      </div>\n    );\n  }\n\n  renderTime() {\n    const {classnames: cx} = this.props;\n\n    return (\n      <div className={cx('Audio-times')}>\n        {this.getCurrentTime()} / {this.getDuration()}\n      </div>\n    );\n  }\n\n  renderProcess() {\n    const {classnames: cx} = this.props;\n    const {played} = this.state;\n\n    return (\n      <div className={cx('Audio-process')}>\n        <input\n          type=\"range\"\n          min={0}\n          max={1}\n          step=\"any\"\n          value={played || 0}\n          onMouseDown={this.onSeekMouseDown}\n          onChange={this.onSeekChange}\n          onMouseUp={this.onSeekMouseUp}\n        />\n      </div>\n    );\n  }\n\n  renderVolume() {\n    const {classnames: cx} = this.props;\n    const {volume, showHandleVolume} = this.state;\n\n    return showHandleVolume ? (\n      <div\n        className={cx('Audio-volumeControl')}\n        onMouseLeave={() => this.toggleHandleVolume(false)}\n      >\n        <div\n          className={cx('Audio-volumeControlIcon')}\n          onClick={this.handleMute}\n        >\n          {volume > 0 ? (\n            <Icon icon=\"volume\" className=\"icon\" />\n          ) : (\n            <Icon icon=\"mute\" className=\"icon\" />\n          )}\n        </div>\n        <input\n          type=\"range\"\n          min={0}\n          max={1}\n          step=\"any\"\n          value={volume}\n          onChange={this.setVolume}\n        />\n      </div>\n    ) : (\n      <div\n        className={cx('Audio-volume')}\n        onMouseEnter={() => this.toggleHandleVolume(true)}\n      >\n        {volume > 0 ? (\n          <Icon icon=\"volume\" className=\"icon\" />\n        ) : (\n          <Icon icon=\"mute\" className=\"icon\" />\n        )}\n      </div>\n    );\n  }\n\n  render() {\n    const {\n      className,\n      inline,\n      autoPlay,\n      loop,\n      controls,\n      classnames: cx\n    } = this.props;\n    const {muted, src} = this.state;\n\n    return (\n      <div className={cx('Audio', className, inline ? 'Audio--inline' : '')}>\n        <audio\n          className={cx('Audio-original')}\n          ref={this.audioRef}\n          onCanPlay={this.load}\n          autoPlay={autoPlay}\n          controls\n          muted={muted}\n          loop={loop}\n        >\n          <source src={src} />\n        </audio>\n        <div className={cx('Audio-controls')}>\n          {controls &&\n            controls.map((control: string, index: number) => {\n              control = 'render' + upperFirst(control);\n              const method:\n                | 'renderRates'\n                | 'renderPlay'\n                | 'renderTime'\n                | 'renderProcess'\n                | 'renderVolume'\n                | 'render' = control as any;\n              return (\n                <React.Fragment key={index}>{this[method]()}</React.Fragment>\n              );\n            })}\n        </div>\n      </div>\n    );\n  }\n}\n\n@Renderer({\n  type: 'audio'\n})\nexport class AudioRenderer extends Audio {}\n"
    ]
}