{
    "version": 3,
    "file": "Video.js",
    "sourceRoot": "",
    "sources": [
        "/src/renderers/Video.tsx"
    ],
    "names": [],
    "mappings": "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",
    "sourcesContent": [
        "/**\n * @file video\n * @author fex\n */\n\nimport React from 'react';\n\nimport {\n  Player,\n  Shortcut,\n  BigPlayButton,\n  ControlBar,\n  PlaybackRateMenuButton\n  // @ts-ignore\n} from 'video-react';\nimport {getPropValue, padArr} from '../utils/helper';\nimport {Renderer, RendererProps} from '../factory';\nimport {resolveVariable} from '../utils/tpl-builtin';\nimport {filter} from '../utils/tpl';\n// import css\n// import 'video-react/dist/video-react.css';\nimport {BaseSchema, SchemaClassName, SchemaUrlPath} from '../Schema';\n\n/**\n * 视频播放器\n * 文档：https://baidu.gitee.io/amis/docs/components/video\n */\nexport interface VideoSchema extends BaseSchema {\n  /**\n   * 指定为视频类型\n   */\n  type: 'video';\n\n  /**\n   * 是否自动播放\n   */\n  autoPlay?: boolean;\n\n  /**\n   * 如果显示切帧，通过此配置项可以控制每行显示多少帧\n   */\n  columnsCount?: number;\n\n  /**\n   * 设置后，可以显示切帧.点击帧的时候会将视频跳到对应时间。\n   *\n   * frames: {\n   *  '01:22': 'http://domain/xxx.jpg'\n   * }\n   */\n  frames?: {\n    [propName: string]: string;\n  };\n\n  /**\n   * 配置帧列表容器className\n   */\n  framesClassName?: SchemaClassName;\n\n  /**\n   * 如果是实时的，请标记一下\n   */\n  isLive?: boolean;\n\n  /**\n   * 点击帧画面时是否跳转视频对应的点\n   *\n   * @default true\n   */\n  jumpFrame?: boolean;\n\n  /**\n   * 是否初始静音\n   */\n  muted?: boolean;\n\n  /**\n   * 配置播放器 className\n   */\n  playerClassName?: SchemaClassName;\n\n  /**\n   * 视频封面地址\n   */\n  poster?: SchemaUrlPath;\n\n  /**\n   * 是否将视频和封面分开显示\n   */\n  splitPoster?: boolean;\n\n  /**\n   * 视频播放地址\n   */\n  src?: SchemaUrlPath;\n\n  /**\n   * 视频类型如： video/x-flv\n   */\n  videoType?: string;\n\n  /**\n   * 视频比率\n   */\n  aspectRatio?: 'auto' | '4:3' | '16:9';\n\n  /**\n   * 视频速率\n   */\n  rates?: Array<number>;\n\n  /**\n   * 跳转到帧时，往前多少秒。\n   */\n  jumpBufferDuration?: number;\n\n  /**\n   * 默认播放的时候到了下一帧会继续播放，同时高亮下一帧。\n   * 如果配置这个则会停止播放，等待用户选择新的区间再播放。\n   */\n  stopOnNextFrame?: boolean;\n}\n\nconst str2seconds: (str: string) => number = str =>\n  str.indexOf(':')\n    ? str\n        .split(':')\n        .reverse()\n        .reduce(\n          (seconds, value, index) =>\n            seconds + (parseInt(value, 10) || 0) * Math.pow(60, index),\n          0\n        )\n    : parseInt(str, 10);\n\nexport interface FlvSourceProps {\n  src?: string;\n  type?: string;\n  video?: any;\n  config?: object;\n  manager?: any;\n  isLive?: boolean;\n  autoPlay?: boolean;\n  actions?: any;\n  order?: number;\n  setError: (error: string) => void;\n}\n\n// let currentPlaying: any = null;\n\nexport class FlvSource extends React.Component<FlvSourceProps, any> {\n  mpegtsPlayer: any;\n  loaded = false;\n  timer: any;\n  unsubscribe: any;\n\n  componentDidMount() {\n    let {src, video, config, manager, isLive, autoPlay, actions, setError} =\n      this.props;\n\n    this.initFlv({\n      video,\n      manager,\n      src,\n      isLive,\n      config,\n      actions,\n      setError,\n      autoPlay\n    });\n  }\n\n  componentDidUpdate(prevProps: FlvSourceProps) {\n    const props = this.props;\n    let {autoPlay, actions, src, setError, isLive, config, video, manager} =\n      props;\n\n    if (src !== prevProps.src) {\n      setError('');\n      this.mpegtsPlayer?.destroy();\n      this.unsubscribe?.();\n      this.loaded = false;\n      this.initFlv({\n        video,\n        manager,\n        src,\n        isLive,\n        config,\n        actions,\n        setError,\n        autoPlay\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.mpegtsPlayer) {\n      this.mpegtsPlayer.destroy();\n      this.props.setError?.('');\n    }\n  }\n\n  initFlv({\n    video,\n    manager,\n    src,\n    isLive,\n    config,\n    actions,\n    setError,\n    autoPlay\n  }: any) {\n    import('mpegts.js').then((mpegts: any) => {\n      video = video || (manager.video && manager.video.video);\n\n      let mpegtsPlayer = mpegts.createPlayer(\n        {\n          type: 'flv',\n          url: src,\n          isLive: isLive\n        },\n        config\n      );\n      mpegtsPlayer.attachMediaElement(video);\n      this.mpegtsPlayer = mpegtsPlayer;\n\n      this.unsubscribe = manager.subscribeToOperationStateChange(\n        (operation: any) => {\n          const type = operation.operation.action;\n\n          if (type === 'play') {\n            clearTimeout(this.timer);\n            if (!this.loaded) {\n              this.loaded = true;\n              mpegtsPlayer.load();\n            }\n\n            mpegtsPlayer.play();\n          } else if (type === 'pause') {\n            mpegtsPlayer.pause();\n\n            if (isLive) {\n              this.timer = setTimeout(() => {\n                actions.seek(0);\n                mpegtsPlayer.unload();\n                this.loaded = false;\n              }, 30000);\n            }\n          }\n        }\n      );\n\n      mpegtsPlayer.on(mpegts.Events.RECOVERED_EARLY_EOF, () => {\n        setError('直播已经结束');\n      });\n      mpegtsPlayer.on(mpegts.Events.ERROR, () => {\n        setError('视频加载失败');\n        mpegtsPlayer.unload();\n      });\n\n      if (autoPlay) {\n        setTimeout(() => actions.play(), 200);\n      }\n    });\n  }\n\n  render() {\n    return (\n      <source src={this.props.src} type={this.props.type || 'video/x-flv'} />\n    );\n  }\n}\n\nexport interface HlsSourceProps {\n  src?: string;\n  type?: string;\n  video?: any;\n  config?: object;\n  manager?: any;\n  isLive?: boolean;\n  autoPlay?: boolean;\n  actions?: any;\n  order?: number;\n}\nexport class HlsSource extends React.Component<HlsSourceProps, any> {\n  hls: any;\n  loaded = false;\n  unsubscribe: any;\n  componentDidMount() {\n    let {src, video, config, manager, isLive, autoPlay, actions} = this.props;\n    this.initHls({\n      video,\n      manager,\n      src,\n      autoPlay,\n      actions\n    });\n  }\n\n  componentWillUnmount() {\n    if (this.hls) {\n      this.hls.stopLoad();\n      this.hls.detachMedia();\n    }\n  }\n\n  componentDidUpdate(prevProps: HlsSourceProps) {\n    const props = this.props;\n    let {autoPlay, actions, src, isLive, config, video, manager} = props;\n\n    if (src !== prevProps.src) {\n      this.hls?.stopLoad();\n      this.hls?.detachMedia();\n      this.unsubscribe?.();\n      this.loaded = false;\n      this.initHls({\n        video,\n        manager,\n        src,\n        autoPlay,\n        actions\n      });\n    }\n  }\n\n  initHls({video, manager, src, autoPlay, actions}: any) {\n    // @ts-ignore\n    import('hls.js').then(({default: Hls}: any) => {\n      // load hls video source base on hls.js\n      if (Hls.isSupported()) {\n        video = video || (manager.video && manager.video.video);\n\n        let hls = (this.hls = new Hls({\n          autoStartLoad: false\n        }));\n        hls.attachMedia(video);\n        hls.loadSource(src);\n\n        this.unsubscribe = manager.subscribeToOperationStateChange(\n          (operation: any) => {\n            const type = operation.operation.action;\n\n            if (type === 'play') {\n              if (!this.loaded) {\n                this.loaded = true;\n                hls.startLoad();\n              }\n\n              video.play();\n            } else if (type === 'pause') {\n              video.pause();\n              hls.stopLoad();\n              this.loaded = false;\n            }\n          }\n        );\n\n        autoPlay && setTimeout(actions.play, 200);\n      }\n    });\n  }\n\n  render() {\n    return (\n      <source\n        src={this.props.src}\n        type={this.props.type || 'application/x-mpegURL'}\n      />\n    );\n  }\n}\n\nexport interface VideoProps\n  extends RendererProps,\n    Omit<VideoSchema, 'className'> {\n  columnsCount: number;\n}\n\nexport interface VideoState {\n  posterInfo?: any;\n  videoState?: any;\n  error?: string;\n}\n\nexport default class Video extends React.Component<VideoProps, VideoState> {\n  static defaultProps = {\n    columnsCount: 8,\n    isLive: false,\n    jumpFrame: true,\n    aspectRatio: 'auto'\n  };\n\n  frameDom: any;\n  cursorDom: any;\n  player: any;\n  times: Array<number>;\n  currentIndex: number;\n  manualJump = false;\n  constructor(props: VideoProps) {\n    super(props);\n\n    this.state = {\n      posterInfo: null,\n      videoState: {}\n    };\n\n    this.frameRef = this.frameRef.bind(this);\n    this.cursorRef = this.cursorRef.bind(this);\n    this.playerRef = this.playerRef.bind(this);\n    this.onImageLoaded = this.onImageLoaded.bind(this);\n    this.onClick = this.onClick.bind(this);\n    this.setError = this.setError.bind(this);\n  }\n\n  onImageLoaded(e: Event) {\n    let image: any = new Image();\n    image.onload = () => {\n      this.setState({\n        posterInfo: {\n          width: image.width,\n          height: image.height\n        }\n      });\n      image = image.onload = null;\n    };\n    image.src = (e.target as HTMLElement).getAttribute('src');\n  }\n\n  frameRef(dom: any) {\n    this.frameDom = dom;\n  }\n\n  cursorRef(dom: any) {\n    this.cursorDom = dom;\n  }\n\n  playerRef(player: any) {\n    this.player = player;\n\n    if (!player) {\n      return;\n    }\n\n    player.subscribeToStateChange((state: any) => {\n      this.setState({\n        videoState: state\n      });\n\n      // if (!state.paused) {\n      //   if (\n      //     currentPlaying &&\n      //     currentPlaying.video &&\n      //     currentPlaying !== player\n      //   ) {\n      //     currentPlaying.pause();\n      //   }\n\n      //   currentPlaying = player;\n      // }\n\n      if (!this.frameDom || !this.times) {\n        return;\n      }\n\n      const jumpBufferDuration = this.props.jumpBufferDuration || 0;\n      let index = 0;\n      const times = this.times;\n      const len = times.length;\n      const stopOnNextFrame = this.props.stopOnNextFrame;\n      while (index < len - 1) {\n        if (\n          times[index + 1] &&\n          state.currentTime < times[index + 1] - jumpBufferDuration\n        ) {\n          break;\n        }\n\n        index++;\n      }\n\n      if (this.currentIndex !== index) {\n        this.moveCursorToIndex(index);\n\n        stopOnNextFrame && !this.manualJump && player.pause();\n\n        if (this.manualJump) {\n          this.manualJump = false;\n        }\n      }\n    });\n  }\n\n  moveCursorToIndex(index: number) {\n    const {classPrefix: ns} = this.props;\n    if (!this.frameDom || !this.cursorDom) {\n      return;\n    }\n    const items = this.frameDom.querySelectorAll(`.${ns}Video-frame`);\n\n    if (items && items.length && items[index]) {\n      this.currentIndex = index;\n      const item = items[index];\n      const frameRect = this.frameDom.getBoundingClientRect();\n      const rect = item.getBoundingClientRect();\n      this.cursorDom.setAttribute(\n        'style',\n        `width: ${rect.width - 4}px; height: ${rect.height - 4}px; left: ${\n          rect.left + 2 - frameRect.left\n        }px; top: ${rect.top + 2 - frameRect.top}px;`\n      );\n    }\n  }\n\n  jumpToIndex(index: number) {\n    if (!this.times || !this.player || !this.props.jumpFrame) {\n      return;\n    }\n    const jumpBufferDuration = this.props.jumpBufferDuration || 0;\n    const times = this.times;\n    const player = this.player;\n\n    this.manualJump = true;\n    player.seek(times[index] - jumpBufferDuration);\n    player.play();\n  }\n\n  onClick(e: Event) {\n    // 避免把所在 form 给提交了。\n    e.preventDefault();\n  }\n\n  setError(error?: string) {\n    const player = this.player;\n\n    this.setState({\n      error: error\n    });\n\n    player?.pause();\n  }\n\n  renderFrames() {\n    let {\n      frames,\n      framesClassName,\n      columnsCount,\n      data,\n      jumpFrame,\n      classPrefix: ns,\n      classnames: cx\n    } = this.props;\n\n    if (typeof frames === 'string' && frames[0] === '$') {\n      frames = resolveVariable(frames, data);\n    }\n\n    if (!frames) {\n      return null;\n    }\n\n    const items: Array<object> = [];\n    const times: Array<number> = (this.times = []);\n    Object.keys(frames).forEach(time => {\n      times.push(str2seconds(time));\n\n      items.push({\n        time: time,\n        src: frames![time]\n      });\n    });\n\n    if (!items.length) {\n      return null;\n    }\n\n    return (\n      <div\n        className={cx(`pos-rlt Video-frameList`, framesClassName)}\n        ref={this.frameRef}\n      >\n        {padArr(items, columnsCount).map((items, i) => {\n          let restCount = (columnsCount as number) - items.length;\n          let blankArray = [];\n\n          while (restCount--) {\n            blankArray.push('');\n          }\n\n          return (\n            <div className=\"pull-in-xs\" key={i}>\n              <div className={cx(`Hbox Video-frameItem`)}>\n                {items.map((item, key) => (\n                  <div\n                    className={cx(`Hbox-col Wrapper--xs Video-frame`)}\n                    key={key}\n                    onClick={() =>\n                      this.jumpToIndex(i * (columnsCount as number) + key)\n                    }\n                  >\n                    {item.src ? (\n                      <img className=\"w-full\" alt=\"poster\" src={item.src} />\n                    ) : null}\n                    <div className={cx(`Video-frameLabel`)}>{item.time}</div>\n                  </div>\n                ))}\n\n                {\n                  /* 补充空白 */ restCount\n                    ? blankArray.map((_, index) => (\n                        <div\n                          className={cx(`Hbox-col Wrapper--xs`)}\n                          key={`blank_${index}`}\n                        />\n                      ))\n                    : null\n                }\n              </div>\n            </div>\n          );\n        })}\n        {jumpFrame ? (\n          <span ref={this.cursorRef} className={cx('Video-cursor')} />\n        ) : null}\n      </div>\n    );\n  }\n\n  renderPlayer() {\n    let {\n      poster,\n      autoPlay,\n      muted,\n      name,\n      data,\n      amisConfig,\n      locals,\n      isLive,\n      minVideoDuration,\n      videoType,\n      playerClassName,\n      classPrefix: ns,\n      aspectRatio,\n      rates,\n      classnames: cx\n    } = this.props;\n\n    let source =\n      filter(this.props.src, data, '| raw') || getPropValue(this.props);\n    const videoState = this.state.videoState;\n    let highlight =\n      videoState.duration &&\n      minVideoDuration &&\n      videoState.duration < minVideoDuration;\n    let src = filter(source, data, '| raw');\n    let sourceNode;\n    const error = this.state.error;\n\n    if (\n      (src && /\\.flv(?:$|\\?)/.test(src) && isLive) ||\n      videoType === 'video/x-flv'\n    ) {\n      sourceNode = (\n        <FlvSource\n          autoPlay={autoPlay}\n          order={999.0}\n          isLive={isLive}\n          src={src}\n          setError={this.setError}\n        />\n      );\n    } else if (\n      (src && /\\.m3u8(?:$|\\?)/.test(src)) ||\n      videoType === 'application/x-mpegURL'\n    ) {\n      sourceNode = <HlsSource autoPlay={autoPlay} order={999.0} src={src} />;\n    } else {\n      sourceNode = <source src={src} />;\n    }\n\n    return (\n      <div className={cx('Video-player', playerClassName)}>\n        <Player\n          ref={this.playerRef}\n          poster={filter(poster, data, '| raw')}\n          src={src}\n          autoPlay={autoPlay}\n          muted={muted}\n          aspectRatio={aspectRatio}\n        >\n          {rates && rates.length ? (\n            <ControlBar>\n              <PlaybackRateMenuButton rates={rates} order={7.1} />\n            </ControlBar>\n          ) : null}\n          <BigPlayButton position=\"center\" />\n          {sourceNode}\n          <Shortcut disabled />\n        </Player>\n\n        {error ? <div className={cx('Video-error')}>{error}</div> : null}\n        {highlight ? (\n          <p className={`m-t-xs ${ns}Text--danger`}>\n            视频时长小于 {minVideoDuration} 秒\n          </p>\n        ) : null}\n      </div>\n    );\n  }\n\n  renderPosterAndPlayer() {\n    let {poster, data, locals, minPosterDimension, classnames: cx} = this.props;\n    const posterInfo = this.state.posterInfo || {};\n    let dimensionClassName = '';\n\n    if (\n      posterInfo &&\n      minPosterDimension &&\n      (minPosterDimension.width || minPosterDimension.height) &&\n      (minPosterDimension.width > posterInfo.width ||\n        minPosterDimension.height > posterInfo.height)\n    ) {\n      dimensionClassName = `Text--danger`;\n    }\n\n    return (\n      <div className=\"pull-in-xs\">\n        <div className={cx('Hbox')}>\n          <div className={cx('Hbox-col')}>\n            <div className={cx('Wrapper Wrapper--xs')}>\n              <img\n                onLoad={this.onImageLoaded as any}\n                className=\"w-full\"\n                alt=\"poster\"\n                src={filter(poster, data, '| raw')}\n              />\n              <p className=\"m-t-xs\">\n                封面{' '}\n                <span className={dimensionClassName}>\n                  {posterInfo.width || '-'} x {posterInfo.height || '-'}\n                </span>\n                {dimensionClassName ? (\n                  <span>\n                    {' '}\n                    封面尺寸小于{' '}\n                    <span className={cx('Text--danger')}>\n                      {minPosterDimension.width || '-'} x{' '}\n                      {minPosterDimension.height || '-'}\n                    </span>\n                  </span>\n                ) : null}\n              </p>\n            </div>\n          </div>\n          <div className={cx('Hbox-col')}>\n            <div className={cx('Wrapper Wrapper--xs')}>\n              {this.renderPlayer()}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    let {splitPoster, className, classPrefix: ns, classnames: cx} = this.props;\n\n    return (\n      <div className={cx(`Video`, className)} onClick={this.onClick as any}>\n        {this.renderFrames()}\n        {splitPoster ? this.renderPosterAndPlayer() : this.renderPlayer()}\n      </div>\n    );\n  }\n}\n\n@Renderer({\n  type: 'video'\n})\nexport class VideoRenderer extends Video {}\n"
    ]
}