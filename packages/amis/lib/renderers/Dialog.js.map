{
    "version": 3,
    "file": "Dialog.js",
    "sourceRoot": "",
    "sources": [
        "/src/renderers/Dialog.tsx"
    ],
    "names": [],
    "mappings": "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",
    "sourcesContent": [
        "import React from 'react';\nimport {ScopedContext, IScopedContext} from '../Scoped';\nimport {Renderer, RendererProps} from '../factory';\nimport {SchemaNode, Schema, Action} from '../types';\nimport {filter} from '../utils/tpl';\nimport Modal from '../components/Modal';\nimport findLast from 'lodash/findLast';\nimport {\n  guid,\n  isVisible,\n  autobind,\n  createObject,\n  isObjectShallowModified\n} from '../utils/helper';\nimport {reaction} from 'mobx';\nimport {Icon} from '../components/icons';\nimport {ModalStore, IModalStore} from '../store/modal';\nimport {findDOMNode} from 'react-dom';\nimport {Spinner} from '../components';\nimport {IServiceStore} from '../store/service';\nimport {\n  BaseSchema,\n  SchemaClassName,\n  SchemaCollection,\n  SchemaName,\n  SchemaTpl\n} from '../Schema';\nimport {ActionSchema} from './Action';\nimport {isAlive} from 'mobx-state-tree';\n\n/**\n * Dialog 弹框渲染器。\n * 文档：https://baidu.gitee.io/amis/docs/components/dialog\n */\nexport interface DialogSchema extends BaseSchema {\n  type: 'dialog';\n\n  /**\n   * 默认不用填写，自动会创建确认和取消按钮。\n   */\n  actions?: Array<ActionSchema>;\n\n  /**\n   * 内容区域\n   */\n  body?: SchemaCollection;\n\n  /**\n   * 配置 Body 容器 className\n   */\n  bodyClassName?: SchemaClassName;\n\n  /**\n   * 是否支持按 ESC 关闭 Dialog\n   */\n  closeOnEsc?: boolean;\n\n  /**\n   * 是否支持点其它区域关闭 Dialog\n   */\n  closeOnOutside?: boolean;\n\n  name?: SchemaName;\n\n  /**\n   * Dialog 大小\n   */\n  size?: 'xs' | 'sm' | 'md' | 'lg' | 'xl' | 'full';\n\n  /**\n   * 请通过配置 title 设置标题\n   */\n  title?: SchemaCollection;\n\n  header?: SchemaCollection;\n  headerClassName?: SchemaClassName;\n\n  footer?: SchemaCollection;\n\n  /**\n   * 影响自动生成的按钮，如果自己配置了按钮这个配置无效。\n   */\n  confirm?: boolean;\n\n  /**\n   * 是否显示关闭按钮\n   */\n  showCloseButton?: boolean;\n\n  /**\n   * 是否显示错误信息\n   */\n  showErrorMsg?: boolean;\n\n  /**\n   * 是否显示 spinner\n   */\n  showLoading?: boolean;\n}\n\nexport type DialogSchemaBase = Omit<DialogSchema, 'type'>;\n\nexport interface DialogProps\n  extends RendererProps,\n    Omit<DialogSchema, 'className'> {\n  onClose: (confirmed?: boolean) => void;\n  onConfirm: (\n    values: Array<object>,\n    action: Action,\n    ctx: object,\n    targets: Array<any>\n  ) => void;\n  children?: React.ReactNode | ((props?: any) => React.ReactNode);\n  store: IModalStore;\n  show?: boolean;\n  lazyRender?: boolean;\n  lazySchema?: (props: DialogProps) => SchemaCollection;\n  wrapperComponent: React.ElementType;\n}\n\nexport default class Dialog extends React.Component<DialogProps> {\n  static propsList: Array<string> = [\n    'title',\n    'size',\n    'closeOnEsc',\n    'closeOnOutside',\n    'children',\n    'bodyClassName',\n    'headerClassName',\n    'confirm',\n    'onClose',\n    'onConfirm',\n    'show',\n    'body',\n    'showCloseButton',\n    'showErrorMsg',\n    'actions',\n    'popOverContainer'\n  ];\n  static defaultProps = {\n    title: 'Dialog.title',\n    bodyClassName: '',\n    confirm: true,\n    show: true,\n    lazyRender: false,\n    showCloseButton: true,\n    wrapperComponent: Modal,\n    closeOnEsc: false,\n    closeOnOutside: false,\n    showErrorMsg: true\n  };\n\n  reaction: any;\n  isDead = false;\n  $$id: string = guid();\n  constructor(props: DialogProps) {\n    super(props);\n\n    props.store.setEntered(!!props.show);\n    this.handleSelfClose = this.handleSelfClose.bind(this);\n    this.handleAction = this.handleAction.bind(this);\n    this.handleDialogConfirm = this.handleDialogConfirm.bind(this);\n    this.handleDialogClose = this.handleDialogClose.bind(this);\n    this.handleDrawerConfirm = this.handleDrawerConfirm.bind(this);\n    this.handleDrawerClose = this.handleDrawerClose.bind(this);\n    this.handleEntered = this.handleEntered.bind(this);\n    this.handleExited = this.handleExited.bind(this);\n    this.handleFormInit = this.handleFormInit.bind(this);\n    this.handleFormSaved = this.handleFormSaved.bind(this);\n    this.handleFormChange = this.handleFormChange.bind(this);\n    this.handleChildFinished = this.handleChildFinished.bind(this);\n\n    const store = props.store;\n    this.reaction = reaction(\n      () => `${store.loading}${store.error}`,\n      () => this.forceUpdate()\n    );\n  }\n\n  // shouldComponentUpdate(nextProps:DialogProps, nextState:DialogState) {\n  //     const props = this.props;\n\n  //     if (this.state.entered !== nextState.entered) {\n  //         return true;\n  //     } else if (props.show === nextProps.show && !nextProps.show) {\n  //         return false;\n  //     }\n\n  //     return isObjectShallowModified(this.props, nextProps);\n  // }\n\n  componentWillUnmount() {\n    this.reaction && this.reaction();\n    this.isDead = true;\n  }\n\n  buildActions(): Array<ActionSchema> {\n    const {actions, confirm, translate: __} = this.props;\n\n    if (typeof actions !== 'undefined') {\n      return actions;\n    }\n\n    let ret: Array<ActionSchema> = [];\n    ret.push({\n      type: 'button',\n      actionType: 'cancel',\n      label: __('cancel')\n    });\n\n    if (confirm) {\n      ret.push({\n        type: 'button',\n        actionType: 'confirm',\n        label: __('confirm'),\n        primary: true\n      });\n    }\n\n    return ret;\n  }\n\n  handleSelfClose(e?: any, confirmed?: boolean) {\n    const {onClose, store} = this.props;\n\n    // clear error\n    store.updateMessage();\n    onClose(confirmed);\n  }\n\n  handleAction(e: React.UIEvent<any>, action: Action, data: object) {\n    const {store, onAction} = this.props;\n\n    if (action.type === 'reset') {\n      store.reset();\n    } else if (action.actionType === 'cancel') {\n      this.handleSelfClose();\n    } else if (onAction) {\n      onAction(e, action, data);\n    }\n  }\n\n  handleDialogConfirm(values: object[], action: Action, ...args: Array<any>) {\n    const {store} = this.props;\n\n    if (action.mergeData && values.length === 1 && values[0]) {\n      store.updateData(values[0]);\n    }\n\n    const dialog = store.action.dialog as any;\n\n    if (\n      dialog &&\n      dialog.onConfirm &&\n      dialog.onConfirm(values, action, ...args) === false\n    ) {\n      return;\n    }\n\n    store.closeDialog(true);\n  }\n\n  handleDialogClose(...args: Array<any>) {\n    const {store} = this.props;\n\n    const action = store.action as Action;\n    const dialog = action.dialog as any;\n\n    if (dialog.onClose && dialog.onClose(...args) === false) {\n      return;\n    }\n\n    store.closeDialog(args[1]);\n  }\n\n  handleDrawerConfirm(values: object[], action: Action, ...args: Array<any>) {\n    const {store} = this.props;\n\n    if (action.mergeData && values.length === 1 && values[0]) {\n      store.updateData(values[0]);\n    }\n\n    const drawer = store.action.drawer as any;\n\n    if (\n      drawer &&\n      drawer.onConfirm &&\n      drawer.onConfirm(values, action, ...args) === false\n    ) {\n      return;\n    }\n\n    store.closeDrawer();\n  }\n\n  handleDrawerClose(...args: Array<any>) {\n    const {store} = this.props;\n\n    const action = store.action as Action;\n    const drawer = action.drawer as any;\n\n    if (drawer.onClose && drawer.onClose(...args) === false) {\n      return;\n    }\n\n    store.closeDrawer();\n  }\n\n  handleEntered() {\n    const {lazySchema, store} = this.props;\n\n    store.setEntered(true);\n    if (typeof lazySchema === 'function') {\n      store.setSchema(lazySchema(this.props));\n    }\n\n    const activeElem = document.activeElement as HTMLElement;\n    if (activeElem) {\n      const dom = findDOMNode(this) as HTMLElement;\n      dom && !dom.contains(activeElem) && activeElem.blur();\n    }\n  }\n\n  handleExited() {\n    const {lazySchema, store} = this.props;\n    if (isAlive(store)) {\n      store.reset();\n      store.setEntered(false);\n      if (typeof lazySchema === 'function') {\n        store.setSchema('');\n      }\n    }\n  }\n\n  handleFormInit(data: any) {\n    const {store} = this.props;\n\n    store.setFormData(data);\n  }\n\n  handleFormChange(data: any, name?: string) {\n    const {store} = this.props;\n\n    // 如果 dialog 里面不放 form，而是直接放表单项就会进到这里来。\n    if (typeof name === 'string') {\n      data = {\n        [name]: data\n      };\n    }\n\n    store.setFormData(data);\n  }\n\n  handleFormSaved(data: any, response: any) {\n    const {store} = this.props;\n\n    store.setFormData({\n      ...data,\n      ...response\n    });\n  }\n\n  handleChildFinished(value: any, action: Action) {\n    // 下面会覆盖\n  }\n\n  openFeedback(dialog: any, ctx: any) {\n    return new Promise(resolve => {\n      const {store} = this.props;\n      store.setCurrentAction({\n        type: 'button',\n        actionType: 'dialog',\n        dialog: dialog\n      });\n      store.openDialog(ctx, undefined, confirmed => {\n        resolve(confirmed);\n      });\n    });\n  }\n\n  @autobind\n  getPopOverContainer() {\n    return (findDOMNode(this) as HTMLElement).querySelector(\n      `.${this.props.classPrefix}Modal-content`\n    );\n  }\n\n  renderBody(body: SchemaNode, key?: any): React.ReactNode {\n    let {render, store} = this.props;\n\n    if (Array.isArray(body)) {\n      return body.map((body, key) => this.renderBody(body, key));\n    }\n\n    let subProps: any = {\n      key,\n      disabled: (body && (body as any).disabled) || store.loading,\n      onAction: this.handleAction,\n      onFinished: this.handleChildFinished,\n      popOverContainer: this.getPopOverContainer,\n      affixOffsetTop: 0,\n      onChange: this.handleFormChange,\n      onInit: this.handleFormInit,\n      onSaved: this.handleFormSaved,\n      syncLocation: false // 弹框中的 crud 一般不需要同步地址栏\n    };\n\n    if (!(body as Schema).type) {\n      return render(`body${key ? `/${key}` : ''}`, body, subProps);\n    }\n\n    let schema: Schema = body as Schema;\n\n    if (schema.type === 'form') {\n      schema = {\n        mode: 'horizontal',\n        wrapWithPanel: false,\n        submitText: null,\n        ...schema\n      };\n    }\n\n    return render(`body${key ? `/${key}` : ''}`, schema, subProps);\n  }\n\n  renderFooter() {\n    const actions = this.buildActions();\n\n    if (!actions || !actions.length) {\n      return null;\n    }\n\n    const {\n      store,\n      render,\n      classnames: cx,\n      showErrorMsg,\n      showLoading\n    } = this.props;\n\n    return (\n      <div className={cx('Modal-footer')}>\n        {(showLoading !== false && store.loading) ||\n        (showErrorMsg !== false && store.error) ? (\n          <div className={cx('Dialog-info')} key=\"info\">\n            {showLoading !== false ? (\n              <Spinner size=\"sm\" key=\"info\" show={store.loading} />\n            ) : null}\n            {store.error && showErrorMsg !== false ? (\n              <span className={cx('Dialog-error')}>{store.msg}</span>\n            ) : null}\n          </div>\n        ) : null}\n        {actions.map((action, key) =>\n          render(`action/${key}`, action, {\n            data: store.formData,\n            onAction: this.handleAction,\n            key,\n            disabled: action.disabled || store.loading\n          })\n        )}\n      </div>\n    );\n  }\n\n  render() {\n    const store = this.props.store;\n    const {\n      className,\n      size,\n      closeOnEsc,\n      closeOnOutside,\n      title,\n      render,\n      header,\n      body,\n      bodyClassName,\n      headerClassName,\n      show,\n      lazyRender,\n      lazySchema,\n      wrapperComponent,\n      showCloseButton,\n      env,\n      classnames: cx,\n      classPrefix,\n      translate: __\n    } = {\n      ...this.props,\n      ...store.schema\n    } as any;\n\n    const Wrapper = wrapperComponent || Modal;\n    return (\n      <Wrapper\n        classPrefix={classPrefix}\n        className={cx(className)}\n        size={size}\n        backdrop=\"static\"\n        onHide={this.handleSelfClose}\n        keyboard={closeOnEsc && !store.loading}\n        closeOnEsc={closeOnEsc}\n        closeOnOutside={!store.dialogOpen && closeOnOutside}\n        show={show}\n        onEntered={this.handleEntered}\n        onExited={this.handleExited}\n        container={\n          env && env.getModalContainer ? env.getModalContainer : undefined\n        }\n        enforceFocus={false}\n        disabled={store.loading}\n      >\n        {title && typeof title === 'string' ? (\n          <div className={cx('Modal-header', headerClassName)}>\n            {showCloseButton !== false && !store.loading ? (\n              <a\n                data-tooltip={__('Dialog.close')}\n                data-position=\"left\"\n                onClick={this.handleSelfClose}\n                className={cx('Modal-close')}\n              >\n                <Icon icon=\"close\" className=\"icon\" />\n              </a>\n            ) : null}\n            <div className={cx('Modal-title')}>\n              {filter(__(title), store.formData)}\n            </div>\n          </div>\n        ) : title ? (\n          <div className={cx('Modal-header', headerClassName)}>\n            {showCloseButton !== false && !store.loading ? (\n              <a\n                data-tooltip={__('Dialog.close')}\n                onClick={this.handleSelfClose}\n                className={cx('Modal-close')}\n              >\n                <Icon icon=\"close\" className=\"icon\" />\n              </a>\n            ) : null}\n            {render('title', title, {\n              data: store.formData,\n              onAction: this.handleAction\n            })}\n          </div>\n        ) : showCloseButton !== false && !store.loading ? (\n          <a\n            data-tooltip={__('Dialog.close')}\n            onClick={this.handleSelfClose}\n            className={cx('Modal-close')}\n          >\n            <Icon icon=\"close\" className=\"icon\" />\n          </a>\n        ) : null}\n\n        {header\n          ? render('header', header, {\n              data: store.formData,\n              onAction: this.handleAction\n            })\n          : null}\n\n        {(!store.entered && lazyRender) || (lazySchema && !body) ? (\n          <div className={cx('Modal-body', bodyClassName)}>\n            <Spinner overlay show size=\"lg\" />\n          </div>\n        ) : body ? (\n          <div className={cx('Modal-body', bodyClassName)}>\n            {this.renderBody(body, 'body')}\n          </div>\n        ) : null}\n\n        {this.renderFooter()}\n\n        {body\n          ? render(\n              'drawer',\n              {\n                // 支持嵌套\n                ...((store.action as Action) &&\n                  ((store.action as Action).drawer as object)),\n                type: 'drawer'\n              },\n              {\n                key: 'drawer',\n                data: store.drawerData,\n                onConfirm: this.handleDrawerConfirm,\n                onClose: this.handleDrawerClose,\n                show: store.drawerOpen,\n                onAction: this.handleAction\n              }\n            )\n          : null}\n\n        {body\n          ? render(\n              'dialog',\n              {\n                // 支持嵌套\n                ...((store.action as Action) &&\n                  ((store.action as Action).dialog as object)),\n                type: 'dialog'\n              },\n              {\n                key: 'dialog',\n                data: store.dialogData,\n                onConfirm: this.handleDialogConfirm,\n                onClose: this.handleDialogClose,\n                show: store.dialogOpen,\n                onAction: this.handleAction\n              }\n            )\n          : null}\n      </Wrapper>\n    );\n  }\n}\n\n@Renderer({\n  type: 'dialog',\n  storeType: ModalStore.name,\n  storeExtendsData: false,\n  isolateScope: true,\n  shouldSyncSuperStore: (store: IServiceStore, props: any, prevProps: any) =>\n    !!(\n      (store.dialogOpen || props.show) &&\n      (props.show !== prevProps.show ||\n        isObjectShallowModified(prevProps.data, props.data))\n    )\n})\nexport class DialogRenderer extends Dialog {\n  static contextType = ScopedContext;\n\n  constructor(props: DialogProps, context: IScopedContext) {\n    super(props);\n\n    const scoped = context;\n    scoped.registerComponent(this);\n  }\n\n  componentWillUnmount() {\n    const scoped = this.context as IScopedContext;\n    scoped.unRegisterComponent(this);\n    super.componentWillUnmount();\n  }\n\n  tryChildrenToHandle(action: Action, ctx: object, rawAction?: Action) {\n    const scoped = this.context as IScopedContext;\n\n    const targets: Array<any> = [];\n    const {onConfirm, store} = this.props;\n\n    if (action.target) {\n      targets.push(\n        ...action.target\n          .split(',')\n          .map(name => scoped.getComponentByName(name))\n          .filter(item => item && item.doAction)\n      );\n    }\n\n    if (!targets.length) {\n      let components = scoped\n        .getComponents()\n        .filter(item => !~['drawer', 'dialog'].indexOf(item.props.type));\n\n      const pool = components.concat();\n\n      while (pool.length) {\n        const item = pool.pop()!;\n\n        if (~['crud', 'form', 'wizard'].indexOf(item.props.type)) {\n          targets.push(item);\n          break;\n        } else if (~['drawer', 'dialog'].indexOf(item.props.type)) {\n          continue;\n        } else if (~['page', 'service'].indexOf(item.props.type)) {\n          pool.unshift.apply(pool, item.context.getComponents());\n        }\n      }\n    }\n\n    if (targets.length) {\n      store.markBusying(true);\n      store.updateMessage();\n\n      Promise.all(\n        targets.map(target =>\n          target.doAction(\n            {\n              ...action,\n              from: this.$$id\n            },\n            ctx,\n            true\n          )\n        )\n      )\n        .then(values => {\n          if (\n            (action.type === 'submit' ||\n              action.actionType === 'submit' ||\n              action.actionType === 'confirm') &&\n            action.close !== false\n          ) {\n            onConfirm && onConfirm(values, rawAction || action, ctx, targets);\n          } else if (action.close) {\n            action.close === true\n              ? this.handleSelfClose()\n              : this.closeTarget(action.close);\n          }\n          store.markBusying(false);\n        })\n        .catch(reason => {\n          if (this.isDead) {\n            return;\n          }\n          store.updateMessage(reason.message, true);\n          store.markBusying(false);\n        });\n\n      return true;\n    }\n\n    return false;\n  }\n\n  doAction(action: Action, data: object, throwErrors: boolean): any {\n    this.handleAction(undefined, action, data);\n  }\n\n  async handleAction(\n    e: React.UIEvent<any> | void,\n    action: Action,\n    data: object,\n    throwErrors: boolean = false,\n    delegate?: IScopedContext\n  ) {\n    const {onAction, store, onConfirm, env, dispatchEvent} = this.props;\n    if (action.from === this.$$id) {\n      return onAction\n        ? onAction(e, action, data, throwErrors, delegate || this.context)\n        : false;\n    }\n\n    const scoped = this.context as IScopedContext;\n\n    if (action.type === 'reset') {\n      store.setCurrentAction(action);\n      store.reset();\n    } else if (\n      action.actionType === 'close' ||\n      action.actionType === 'cancel'\n    ) {\n      const rendererEvent = await dispatchEvent(\n        'cancel',\n        createObject(this.props.data, data)\n      );\n      if (rendererEvent?.prevented) {\n        return;\n      }\n      store.setCurrentAction(action);\n      this.handleSelfClose();\n      action.close && this.closeTarget(action.close);\n    } else if (action.actionType === 'confirm') {\n      const rendererEvent = await dispatchEvent(\n        'confirm',\n        createObject(this.props.data, data)\n      );\n      if (rendererEvent?.prevented) {\n        return;\n      }\n      store.setCurrentAction(action);\n      this.tryChildrenToHandle(\n        {\n          ...action,\n          actionType: 'submit'\n        },\n        data,\n        action\n      ) || this.handleSelfClose(undefined, true);\n    } else if (action.actionType === 'next' || action.actionType === 'prev') {\n      store.setCurrentAction(action);\n      if (action.type === 'submit') {\n        this.tryChildrenToHandle(\n          {\n            ...action,\n            actionType: 'submit',\n            close: true\n          },\n          data,\n          action\n        ) || this.handleSelfClose(undefined, true);\n      } else {\n        onConfirm([data], action, data, []);\n      }\n    } else if (action.actionType === 'dialog') {\n      store.setCurrentAction(action);\n      store.openDialog(data);\n    } else if (action.actionType === 'drawer') {\n      store.setCurrentAction(action);\n      store.openDrawer(data);\n    } else if (action.actionType === 'reload') {\n      store.setCurrentAction(action);\n      action.target && scoped.reload(action.target, data);\n      if (action.close || action.type === 'submit') {\n        this.handleSelfClose(undefined, action.type === 'submit');\n        this.closeTarget(action.close);\n      }\n    } else if (this.tryChildrenToHandle(action, data)) {\n      // do nothing\n    } else if (action.actionType === 'ajax') {\n      store.setCurrentAction(action);\n      store\n        .saveRemote(action.api as string, data, {\n          successMessage: action.messages && action.messages.success,\n          errorMessage: action.messages && action.messages.failed\n        })\n        .then(async () => {\n          if (action.feedback && isVisible(action.feedback, store.data)) {\n            await this.openFeedback(action.feedback, store.data);\n          }\n\n          const reidrect =\n            action.redirect && filter(action.redirect, store.data);\n          reidrect && env.jumpTo(reidrect, action);\n          action.reload && this.reloadTarget(action.reload, store.data);\n          if (action.close) {\n            this.handleSelfClose();\n            this.closeTarget(action.close);\n          }\n        })\n        .catch(e => {\n          if (throwErrors || action.countDown) {\n            throw e;\n          }\n        });\n    } else if (onAction) {\n      let ret = onAction(\n        e,\n        {\n          ...action,\n          close: false\n        },\n        data,\n        throwErrors,\n        delegate || this.context\n      );\n      action.close &&\n        (ret && ret.then\n          ? ret.then(this.handleSelfClose)\n          : setTimeout(this.handleSelfClose, 200));\n    }\n  }\n\n  handleChildFinished(value: any, action: Action) {\n    if ((action && action.from === this.$$id) || action.close === false) {\n      return;\n    }\n\n    const scoped = this.context as IScopedContext;\n    const components = scoped\n      .getComponents()\n      .filter((item: any) => !~['drawer', 'dialog'].indexOf(item.props.type));\n    const onConfirm = this.props.onConfirm;\n    const onClose = this.props.onClose;\n\n    if (\n      components.length === 1 &&\n      (components[0].props.type === 'form' ||\n        components[0].props.type === 'wizard') &&\n      (action.close === true ||\n        components[0].props.closeDialogOnSubmit !== false)\n    ) {\n      onConfirm && onConfirm([value], action, {}, components);\n    } else if (action.close === true) {\n      onClose();\n    }\n  }\n\n  handleDialogConfirm(values: object[], action: Action, ...rest: Array<any>) {\n    super.handleDialogConfirm(values, action, ...rest);\n    const scoped = this.context as IScopedContext;\n    const store = this.props.store;\n    const dialogAction = store.action as Action;\n    const reload = action.reload ?? dialogAction.reload;\n\n    if (reload) {\n      scoped.reload(reload, store.data);\n    } else {\n      // 没有设置，则自动让页面中 crud 刷新。\n      scoped\n        .getComponents()\n        .filter((item: any) => item.props.type === 'crud')\n        .forEach((item: any) => item.reload && item.reload());\n    }\n  }\n\n  handleDrawerConfirm(values: object[], action: Action, ...rest: Array<any>) {\n    super.handleDrawerConfirm(values, action);\n    const scoped = this.context as IScopedContext;\n    const store = this.props.store;\n    const drawerAction = store.action as Action;\n\n    // 稍等会，等动画结束。\n    setTimeout(() => {\n      if (drawerAction.reload) {\n        scoped.reload(drawerAction.reload, store.data);\n      } else if (action.reload) {\n        scoped.reload(action.reload, store.data);\n      } else {\n        // 没有设置，则自动让页面中 crud 刷新。\n        scoped\n          .getComponents()\n          .filter((item: any) => item.props.type === 'crud')\n          .forEach((item: any) => item.reload && item.reload());\n      }\n    }, 300);\n  }\n\n  reloadTarget(target: string, data?: any) {\n    const scoped = this.context as IScopedContext;\n    scoped.reload(target, data);\n  }\n\n  closeTarget(target: string) {\n    const scoped = this.context as IScopedContext;\n    scoped.close(target);\n  }\n\n  setData(values: object) {\n    return this.props.store.updateData(values);\n  }\n}\n"
    ]
}