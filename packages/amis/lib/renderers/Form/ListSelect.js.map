{
    "version": 3,
    "file": "ListSelect.js",
    "sourceRoot": "",
    "sources": [
        "/src/renderers/Form/ListSelect.tsx"
    ],
    "names": [],
    "mappings": "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",
    "sourcesContent": [
        "import React from 'react';\nimport {\n  OptionsControl,\n  OptionsControlProps,\n  Option,\n  FormOptionsControl\n} from './Options';\nimport {Action, Schema} from '../../types';\nimport {createObject, isEmpty} from '../../utils/helper';\nimport {dataMapping} from '../../utils/tpl-builtin';\nimport {SchemaClassName, SchemaCollection} from '../../Schema';\n\n/**\n * List 复选框\n * 文档：https://baidu.gitee.io/amis/docs/components/form/list\n */\nexport interface ListControlSchema extends FormOptionsControl {\n  type: 'list-select';\n\n  /**\n   * 开启双击点选并提交。\n   */\n  submitOnDBClick?: boolean;\n\n  /**\n   * 图片div类名\n   */\n  imageClassName?: string;\n\n  /**\n   * 可以自定义展示模板。\n   */\n  itemSchema?: SchemaCollection;\n\n  /**\n   * 支持配置 list div 的 css 类名。\n   * 比如：flex justify-between\n   */\n  listClassName?: SchemaClassName;\n}\n\nexport interface ListProps\n  extends OptionsControlProps,\n    Omit<\n      ListControlSchema,\n      | 'type'\n      | 'options'\n      | 'className'\n      | 'descriptionClassName'\n      | 'inputClassName'\n    > {}\n\nexport default class ListControl extends React.Component<ListProps, any> {\n  static propsList = ['itemSchema', 'value', 'renderFormItems'];\n  static defaultProps = {\n    clearable: false,\n    imageClassName: '',\n    submitOnDBClick: false\n  };\n\n  doAction(action: Action, data: object, throwErrors: boolean) {\n    const {resetValue, onChange} = this.props;\n    const actionType = action?.actionType as string;\n\n    if (actionType === 'clear') {\n      onChange?.('');\n    } else if (actionType === 'reset') {\n      onChange?.(resetValue ?? '');\n    }\n  }\n\n  handleDBClick(option: Option, e: React.MouseEvent<HTMLElement>) {\n    this.props.onToggle(option, false, true);\n    this.props.onAction(null, {\n      type: 'submit'\n    });\n  }\n\n  handleClick(option: Option, e: React.MouseEvent<HTMLElement>) {\n    if (e.target && (e.target as HTMLElement).closest('a,button')) {\n      return;\n    }\n\n    const {onToggle} = this.props;\n\n    onToggle(option);\n  }\n\n  reload() {\n    const reload = this.props.reloadOptions;\n    reload && reload();\n  }\n\n  render() {\n    const {\n      render,\n      itemClassName,\n      classnames: cx,\n      className,\n      disabled,\n      options,\n      placeholder,\n      selectedOptions,\n      imageClassName,\n      submitOnDBClick,\n      itemSchema,\n      data,\n      labelField,\n      listClassName,\n      translate: __\n    } = this.props;\n\n    let body: JSX.Element | null = null;\n\n    if (options && options.length) {\n      body = (\n        <div className={cx('ListControl-items', listClassName)}>\n          {options.map((option, key) => (\n            <div\n              key={key}\n              className={cx(`ListControl-item`, itemClassName, {\n                'is-active': ~selectedOptions.indexOf(option),\n                'is-disabled': option.disabled || disabled\n              })}\n              onClick={this.handleClick.bind(this, option)}\n              onDoubleClick={\n                submitOnDBClick\n                  ? this.handleDBClick.bind(this, option)\n                  : undefined\n              }\n            >\n              {itemSchema\n                ? render(`${key}/body`, itemSchema, {\n                    data: createObject(data, option)\n                  })\n                : option.body\n                ? render(`${key}/body`, option.body)\n                : [\n                    option.image ? (\n                      <div\n                        key=\"image\"\n                        className={cx('ListControl-itemImage', imageClassName)}\n                      >\n                        <img\n                          src={option.image}\n                          alt={option[labelField || 'label']}\n                        />\n                      </div>\n                    ) : null,\n                    option[labelField || 'label'] ? (\n                      <div key=\"label\" className={cx('ListControl-itemLabel')}>\n                        {String(option[labelField || 'label'])}\n                      </div>\n                    ) : null\n                    // {/* {option.tip ? (<div className={`${ns}ListControl-tip`}>{option.tip}</div>) : null} */}\n                  ]}\n            </div>\n          ))}\n        </div>\n      );\n    }\n\n    return (\n      <div className={cx('ListControl', className)}>\n        {body ? (\n          body\n        ) : (\n          <span className={cx('ListControl-placeholder')}>\n            {__(placeholder)}\n          </span>\n        )}\n      </div>\n    );\n  }\n}\n\n@OptionsControl({\n  type: 'list-select',\n  sizeMutable: false\n})\nexport class ListControlRenderer extends ListControl {}\n"
    ]
}