{
    "version": 3,
    "file": "Group.js",
    "sourceRoot": "",
    "sources": [
        "/src/renderers/Form/Group.tsx"
    ],
    "names": [],
    "mappings": "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",
    "sourcesContent": [
        "import React from 'react';\nimport {Renderer, RendererProps} from '../../factory';\nimport {Schema} from '../../types';\nimport {\n  isVisible,\n  getWidthRate,\n  makeHorizontalDeeper\n} from '../../utils/helper';\nimport cx from 'classnames';\nimport {FormBaseControl, FormItemWrap} from './Item';\nimport getExprProperties from '../../utils/filter-schema';\nimport {SchemaClassName, SchemaObject} from '../../Schema';\nimport Form, {FormSchemaHorizontal} from './index';\n\nexport type GroupSubControl = SchemaObject & {\n  /**\n   * 列类名\n   */\n  columnClassName?: SchemaClassName;\n\n  /**\n   * 宽度占用比率。在某些容器里面有用比如 group\n   */\n  columnRatio?: number | 'auto';\n};\n\n/**\n * Group 表单集合渲染器，能让多个表单在一行显示\n * 文档：https://baidu.gitee.io/amis/docs/components/form/group\n */\nexport interface GroupControlSchema extends FormBaseControl {\n  type: 'group';\n\n  /**\n   * FormItem 集合\n   */\n  body: Array<GroupSubControl>;\n\n  /**\n   * 间隔\n   */\n  gap?: 'xs' | 'sm' | 'normal';\n\n  /**\n   * 配置时垂直摆放还是左右摆放。\n   */\n  direction?: 'horizontal' | 'vertical';\n\n  /**\n   * 配置子表单项默认的展示方式。\n   */\n  subFormMode?: 'normal' | 'inline' | 'horizontal';\n  /**\n   * 如果是水平排版，这个属性可以细化水平排版的左右宽度占比。\n   */\n  subFormHorizontal?: FormSchemaHorizontal;\n}\n\nexport interface InputGroupProps\n  extends RendererProps,\n    Omit<GroupControlSchema, 'type' | 'className'> {}\n\n@Renderer({\n  type: 'group'\n})\nexport class ControlGroupRenderer extends React.Component<InputGroupProps> {\n  constructor(props: InputGroupProps) {\n    super(props);\n    this.renderInput = this.renderInput.bind(this);\n  }\n\n  renderControl(control: any, index: any, otherProps?: any) {\n    const {\n      render,\n      disabled,\n      data,\n      mode,\n      horizontal,\n      formMode,\n      formHorizontal,\n      subFormMode,\n      subFormHorizontal\n    } = this.props;\n\n    if (!control) {\n      return null;\n    }\n\n    const subSchema: any = control;\n\n    return render(`${index}`, subSchema, {\n      disabled,\n      formMode: subFormMode || mode || formMode,\n      formHorizontal: subFormHorizontal || horizontal || formHorizontal,\n      ...otherProps\n    });\n  }\n\n  renderVertical(props = this.props) {\n    let {body, className, classnames: cx, mode, formMode, data} = props;\n    formMode = mode || formMode;\n\n    if (!Array.isArray(body)) {\n      return null;\n    }\n\n    return (\n      <div\n        className={cx(\n          `Form-group Form-group--ver Form-group--${formMode}`,\n          className\n        )}\n      >\n        {body.map((control, index) => {\n          if (!isVisible(control, data)) {\n            return null;\n          }\n\n          return this.renderControl(control, index, {\n            key: index\n          });\n        })}\n      </div>\n    );\n  }\n\n  renderHorizontal(props = this.props) {\n    let {\n      body,\n      className,\n      classPrefix: ns,\n      classnames: cx,\n      mode,\n      horizontal,\n      formMode,\n      formHorizontal,\n      subFormMode,\n      subFormHorizontal,\n      data,\n      gap\n    } = props;\n\n    if (!Array.isArray(body)) {\n      return null;\n    }\n\n    formMode = subFormMode || mode || formMode;\n\n    let horizontalDeeper =\n      subFormHorizontal ||\n      horizontal ||\n      (formHorizontal\n        ? makeHorizontalDeeper(\n            formHorizontal,\n            body.filter(\n              item =>\n                (item as FormBaseControl)?.mode !== 'inline' &&\n                isVisible(item, data)\n            ).length\n          )\n        : undefined);\n\n    return (\n      <div\n        className={cx(\n          `Form-group Form-group--hor Form-group--${formMode}`,\n          gap ? `Form-group--${gap}` : '',\n          className\n        )}\n      >\n        {body.map((control, index) => {\n          if (!isVisible(control, data)) {\n            return null;\n          }\n          const controlMode = (control as FormBaseControl)?.mode || formMode;\n\n          if (\n            controlMode === 'inline' ||\n            (control && (control as any).type === 'formula')\n          ) {\n            return this.renderControl(control, index, {\n              key: index,\n              className: cx(control.className, control.columnClassName)\n            });\n          }\n\n          const columnWidth =\n            control.columnRatio ||\n            getWidthRate(control && control.columnClassName, true);\n\n          return (\n            <div\n              key={index}\n              className={cx(\n                `${ns}Form-groupColumn`,\n                columnWidth ? `${ns}Form-groupColumn--${columnWidth}` : '',\n                control && control.columnClassName\n              )}\n            >\n              {this.renderControl(control, index, {\n                formHorizontal: horizontalDeeper,\n                formMode: controlMode\n              })}\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n\n  renderInput(props = this.props) {\n    const direction = props.direction;\n    return direction === 'vertical'\n      ? this.renderVertical(props)\n      : this.renderHorizontal(props);\n  }\n\n  render() {\n    const {label, ...rest} = this.props;\n\n    if (typeof label !== 'undefined') {\n      return (\n        <FormItemWrap\n          {...(rest as any)}\n          sizeMutable={false}\n          label={label}\n          renderControl={this.renderInput}\n        />\n      );\n    }\n\n    return this.renderInput();\n  }\n}\n"
    ]
}