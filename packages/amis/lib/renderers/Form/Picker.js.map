{
    "version": 3,
    "file": "Picker.js",
    "sourceRoot": "",
    "sources": [
        "/src/renderers/Form/Picker.tsx"
    ],
    "names": [],
    "mappings": "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",
    "sourcesContent": [
        "import React from 'react';\nimport {\n  OptionsControl,\n  OptionsControlProps,\n  Option,\n  FormOptionsControl\n} from './Options';\nimport cx from 'classnames';\nimport Button from '../../components/Button';\nimport {SchemaNode, Schema, Action, PlainObject} from '../../types';\nimport find from 'lodash/find';\nimport {\n  anyChanged,\n  autobind,\n  getVariable,\n  noop,\n  createObject,\n  isObjectShallowModified\n} from '../../utils/helper';\nimport findIndex from 'lodash/findIndex';\nimport Html from '../../components/Html';\nimport {filter} from '../../utils/tpl';\nimport {Icon} from '../../components/icons';\nimport {isEmpty} from '../../utils/helper';\nimport {\n  dataMapping,\n  isPureVariable,\n  resolveVariableAndFilter\n} from '../../utils/tpl-builtin';\nimport {SchemaCollection, SchemaTpl} from '../../Schema';\nimport {CRUDSchema} from '../CRUD';\nimport {isApiOutdated, isEffectiveApi} from '../../utils/api';\n\n/**\n * Picker\n * 文档：https://baidu.gitee.io/amis/docs/components/form/picker\n */\nexport interface PickerControlSchema extends FormOptionsControl {\n  type: 'picker';\n\n  /**\n   * 可用来生成选中的值的描述文字\n   */\n  labelTpl?: SchemaTpl;\n\n  /**\n   * 建议用 labelTpl\n   * 选中一个字段名用来作为值的描述文字\n   */\n  labelField?: string;\n\n  /**\n   * 选一个可以用来作为值的字段。\n   */\n  valueField?: string;\n\n  /**\n   * 弹窗选择框详情。\n   */\n  pickerSchema?: any; // Omit<CRUDSchema, 'type'>;\n\n  /**\n   * 弹窗模式，dialog 或者 drawer\n   */\n  modalMode?: 'dialog' | 'drawer';\n\n  /**\n   * 内嵌模式，也就是说不弹框了。\n   */\n  embed?: boolean;\n}\n\nexport interface PickerProps extends OptionsControlProps {\n  modalMode: 'dialog' | 'drawer';\n  pickerSchema: PlainObject;\n  labelField: string;\n}\n\nexport interface PickerState {\n  isOpened: boolean;\n  isFocused: boolean;\n  schema: SchemaNode;\n}\n\nexport default class PickerControl extends React.PureComponent<\n  PickerProps,\n  any\n> {\n  static propsList: Array<string> = [\n    'modalMode',\n    'pickerSchema',\n    'labelField',\n    'onChange',\n    'options',\n    'value',\n    'inline',\n    'multiple',\n    'embed',\n    'resetValue',\n    'placeholder',\n    'onQuery' // 防止 Form 的 onQuery 事件透传下去，不然会导致 table 先后触发 Form 和 Crud 的 onQuery\n  ];\n  static defaultProps: Partial<PickerProps> = {\n    modalMode: 'dialog',\n    multiple: false,\n    placeholder: 'Picker.placeholder',\n    labelField: 'label',\n    valueField: 'value',\n    pickerSchema: {\n      mode: 'list',\n      listItem: {\n        title: '${label|raw}'\n      }\n    },\n    embed: false\n  };\n\n  state: PickerState = {\n    isOpened: false,\n    schema: this.buildSchema(this.props),\n    isFocused: false\n  };\n\n  input: React.RefObject<HTMLInputElement> = React.createRef();\n\n  componentDidMount() {\n    this.fetchOptions();\n  }\n\n  componentDidUpdate(prevProps: PickerProps) {\n    const props = this.props;\n\n    if (anyChanged(['pickerSchema', 'multiple', 'source'], prevProps, props)) {\n      this.setState({\n        schema: this.buildSchema(props)\n      });\n    } else if (\n      JSON.stringify(props.value) !== JSON.stringify(prevProps.value)\n    ) {\n      this.fetchOptions();\n    } else if (\n      isApiOutdated(prevProps.source, props.source, prevProps.data, props.data)\n    ) {\n      this.fetchOptions();\n    }\n  }\n\n  fetchOptions() {\n    const {value, formItem, valueField, labelField, source, data} = this.props;\n    let selectedOptions: any;\n\n    if (\n      !source ||\n      !formItem ||\n      (valueField || 'value') === (labelField || 'label') ||\n      ((selectedOptions = formItem.getSelectedOptions(value)) &&\n        (!selectedOptions.length ||\n          selectedOptions[0][valueField || 'value'] !==\n            selectedOptions[0][labelField || 'label']))\n    ) {\n      return;\n    }\n\n    const ctx = createObject(data, {\n      value: value,\n      op: 'loadOptions'\n    });\n\n    if (isPureVariable(source)) {\n      formItem.setOptions(resolveVariableAndFilter(source, data, '| raw'));\n    } else if (isEffectiveApi(source, ctx)) {\n      formItem.loadOptions(source, ctx, {\n        autoAppend: true\n      });\n    }\n  }\n\n  buildSchema(props: PickerProps) {\n    const isScopeData = isPureVariable(props.source);\n\n    return {\n      checkOnItemClick: true,\n      ...props.pickerSchema,\n      labelTpl: props.pickerSchema?.labelTpl ?? props.labelTpl,\n      type: 'crud',\n      pickerMode: true,\n      syncLocation: false,\n      api: isScopeData ? null : props.source,\n      source: isScopeData ? props.source : null,\n      keepItemSelectionOnPageChange: true,\n      valueField: props.valueField,\n      labelField: props.labelField,\n\n      // 不支持批量操作，会乱套\n      bulkActions: props.multiple\n        ? (props.pickerSchema as Schema).bulkActions\n        : []\n    };\n  }\n\n  crud: any;\n\n  @autobind\n  crudRef(ref: any) {\n    while (ref && ref.getWrappedInstance) {\n      ref = ref.getWrappedInstance();\n    }\n    this.crud = ref;\n  }\n\n  reload() {\n    if (this.crud) {\n      this.crud.search();\n    } else {\n      const reload = this.props.reloadOptions;\n      reload && reload();\n    }\n  }\n\n  @autobind\n  open() {\n    this.setState({\n      isOpened: true\n    });\n  }\n\n  @autobind\n  close() {\n    this.setState({\n      isOpened: false\n    });\n  }\n\n  @autobind\n  handleModalConfirm(\n    values: Array<any>,\n    action: Action,\n    ctx: any,\n    components: Array<any>\n  ) {\n    const idx = findIndex(\n      components,\n      (item: any) => item.props.type === 'crud'\n    );\n    this.handleChange(values[idx].items);\n    this.close();\n  }\n\n  @autobind\n  handleChange(items: Array<any>) {\n    const {\n      joinValues,\n      valueField,\n      delimiter,\n      extractValue,\n      multiple,\n      options,\n      setOptions,\n      onChange\n    } = this.props;\n\n    let value: any = items;\n\n    if (joinValues) {\n      value = items\n        .map((item: any) => item[valueField || 'value'])\n        .join(delimiter || ',');\n    } else if (extractValue) {\n      value = multiple\n        ? items.map((item: any) => item[valueField || 'value'])\n        : (items[0] && items[0][valueField || 'value']) || '';\n    } else {\n      value = multiple ? items : items[0];\n    }\n\n    let additionalOptions: Array<any> = [];\n    items.forEach(item => {\n      if (\n        !find(\n          options,\n          option => item[valueField || 'value'] == option[valueField || 'value']\n        )\n      ) {\n        additionalOptions.push(item);\n      }\n    });\n\n    additionalOptions.length && setOptions(options.concat(additionalOptions));\n    onChange(value);\n  }\n\n  removeItem(index: number) {\n    const {\n      selectedOptions,\n      joinValues,\n      extractValue,\n      delimiter,\n      valueField,\n      onChange,\n      multiple\n    } = this.props;\n    const items = selectedOptions.concat();\n    items.splice(index, 1);\n\n    let value: any = items;\n\n    if (joinValues) {\n      value = items\n        .map((item: any) => item[valueField || 'value'])\n        .join(delimiter || ',');\n    } else if (extractValue) {\n      value = multiple\n        ? items.map((item: any) => item[valueField || 'value'])\n        : (items[0] && items[0][valueField || 'value']) || '';\n    } else {\n      value = multiple ? items : items[0];\n    }\n\n    onChange(value);\n  }\n\n  @autobind\n  handleKeyDown(e: React.KeyboardEvent) {\n    const selectedOptions = this.props.selectedOptions;\n\n    if (e.key === ' ') {\n      this.open();\n      e.preventDefault();\n    } else if (selectedOptions.length && e.key == 'Backspace') {\n      this.removeItem(selectedOptions.length - 1);\n    }\n  }\n\n  @autobind\n  handleFocus() {\n    this.setState({\n      isFocused: true\n    });\n  }\n\n  @autobind\n  handleBlur() {\n    this.setState({\n      isFocused: false\n    });\n  }\n\n  @autobind\n  handleClick() {\n    this.input.current && this.input.current.focus();\n  }\n\n  @autobind\n  clearValue() {\n    const {onChange, resetValue} = this.props;\n\n    onChange(resetValue !== void 0 ? resetValue : '');\n  }\n\n  renderValues() {\n    const {\n      classPrefix: ns,\n      selectedOptions,\n      labelField,\n      labelTpl,\n      translate: __,\n      disabled\n    } = this.props;\n\n    return (\n      <div className={`${ns}Picker-values`}>\n        {selectedOptions.map((item, index) => (\n          <div\n            key={index}\n            className={cx(`${ns}Picker-value`, {\n              'is-disabled': disabled\n            })}\n          >\n            <span\n              data-tooltip={__('delete')}\n              data-position=\"bottom\"\n              className={`${ns}Picker-valueIcon`}\n              onClick={this.removeItem.bind(this, index)}\n            >\n              ×\n            </span>\n            <span className={`${ns}Picker-valueLabel`}>\n              {labelTpl ? (\n                <Html html={filter(labelTpl, item)} />\n              ) : (\n                `${\n                  getVariable(item, labelField || 'label') ||\n                  getVariable(item, 'id')\n                }`\n              )}\n            </span>\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  @autobind\n  renderBody({popOverContainer}: any = {}) {\n    const {\n      render,\n      selectedOptions,\n      options,\n      multiple,\n      valueField,\n      embed,\n      source\n    } = this.props;\n\n    return render('modal-body', this.state.schema, {\n      value: selectedOptions,\n      valueField,\n      primaryField: valueField,\n      options: source ? [] : options,\n      multiple,\n      onSelect: embed ? this.handleChange : undefined,\n      ref: this.crudRef,\n      popOverContainer\n    }) as JSX.Element;\n  }\n\n  render() {\n    const {\n      className,\n      classnames: cx,\n      disabled,\n      render,\n      modalMode,\n      source,\n      size,\n      env,\n      clearable,\n      multiple,\n      placeholder,\n      embed,\n      value,\n      selectedOptions,\n      translate: __,\n      popOverContainer\n    } = this.props;\n    return (\n      <div className={cx(`PickerControl`, className)}>\n        {embed ? (\n          <div className={cx('Picker')}>\n            {this.renderBody({popOverContainer})}\n          </div>\n        ) : (\n          <div\n            className={cx(`Picker`, {\n              'Picker--single': !multiple,\n              'Picker--multi': multiple,\n              'is-focused': this.state.isFocused,\n              'is-disabled': disabled\n            })}\n          >\n            <div onClick={this.handleClick} className={cx('Picker-input')}>\n              {!selectedOptions.length && placeholder ? (\n                <div className={cx('Picker-placeholder')}>\n                  {__(placeholder)}\n                </div>\n              ) : null}\n\n              <div className={cx('Picker-valueWrap')}>\n                {this.renderValues()}\n\n                <input\n                  onChange={noop}\n                  value={''}\n                  ref={this.input}\n                  onKeyDown={this.handleKeyDown}\n                  onFocus={this.handleFocus}\n                  onBlur={this.handleBlur}\n                />\n              </div>\n\n              {clearable && !disabled && selectedOptions.length ? (\n                <a onClick={this.clearValue} className={cx('Picker-clear')}>\n                  <Icon icon=\"input-clear\" className=\"icon\" />\n                </a>\n              ) : null}\n\n              <span onClick={this.open} className={cx('Picker-btn')}>\n                <Icon icon=\"window-restore\" className=\"icon\" />\n              </span>\n            </div>\n\n            {render(\n              'modal',\n              {\n                title: __('Select.placeholder'),\n                size: size,\n                type: modalMode,\n                body: {\n                  children: this.renderBody\n                }\n              },\n              {\n                key: 'modal',\n                lazyRender: !!source,\n                onConfirm: this.handleModalConfirm,\n                onClose: this.close,\n                show: this.state.isOpened\n              }\n            )}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\n@OptionsControl({\n  type: 'picker',\n  autoLoadOptionsFromSource: false,\n  sizeMutable: false\n})\nexport class PickerControlRenderer extends PickerControl {}\n"
    ]
}