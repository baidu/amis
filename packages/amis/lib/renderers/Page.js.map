{
    "version": 3,
    "file": "Page.js",
    "sourceRoot": "",
    "sources": [
        "/src/renderers/Page.tsx"
    ],
    "names": [],
    "mappings": "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",
    "sourcesContent": [
        "import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Renderer, RendererProps} from '../factory';\nimport {observer} from 'mobx-react';\nimport {ServiceStore, IServiceStore} from '../store/service';\nimport {\n  Api,\n  SchemaNode,\n  Action,\n  Location,\n  ApiObject,\n  FunctionPropertyNames\n} from '../types';\nimport {filter, evalExpression} from '../utils/tpl';\nimport {\n  isVisible,\n  autobind,\n  bulkBindFunctions,\n  isObjectShallowModified,\n  createObject\n} from '../utils/helper';\nimport {ScopedContext, IScopedContext} from '../Scoped';\nimport Alert from '../components/Alert2';\nimport {isApiOutdated, isEffectiveApi} from '../utils/api';\nimport {Spinner} from '../components';\nimport {\n  BaseSchema,\n  SchemaCollection,\n  SchemaClassName,\n  SchemaDefaultData,\n  SchemaApi,\n  SchemaExpression,\n  SchemaName,\n  SchemaMessage\n} from '../Schema';\nimport {SchemaRemark} from './Remark';\nimport {onAction} from 'mobx-state-tree';\nimport mapValues from 'lodash/mapValues';\nimport {resolveVariable} from '../utils/tpl-builtin';\nimport {buildStyle} from '../utils/style';\nimport PullRefresh from '../components/PullRefresh';\nimport position from '../utils/position';\nimport {scrollPosition} from '../utils/scrollPosition';\n\n/**\n * 样式属性名及值\n */\ninterface Declaration {\n  [property: string]: string;\n}\n\n/**\n * css 定义\n */\ninterface CSSRule {\n  [selector: string]: Declaration; // 定义\n}\n\n/**\n * amis Page 渲染器。详情请见：https://baidu.gitee.io/amis/docs/components/page\n */\nexport interface PageSchema extends BaseSchema {\n  /**\n   * 指定为 page 渲染器。\n   */\n  type: 'page';\n\n  /**\n   * 页面标题\n   */\n  title?: string;\n\n  /**\n   * 页面副标题\n   */\n  subTitle?: string;\n\n  /**\n   * 页面描述, 标题旁边会出现个小图标，放上去会显示这个属性配置的内容。\n   */\n  remark?: SchemaRemark;\n\n  /**\n   * 内容区域\n   */\n  body?: SchemaCollection;\n\n  /**\n   * 内容区 css 类名\n   */\n  bodyClassName?: SchemaClassName;\n\n  /**\n   * 边栏区域\n   */\n  aside?: SchemaCollection;\n\n  /**\n   * 边栏是否允许拖动\n   */\n  asideResizor?: boolean;\n\n  /**\n   * 边栏内容是否粘住，即不跟随滚动。\n   *\n   * @default true\n   */\n  asideSticky?: boolean;\n\n  /**\n   * 边栏最小宽度\n   */\n  asideMinWidth?: number;\n\n  /**\n   * 边栏最小宽度\n   */\n  asideMaxWidth?: number;\n\n  /**\n   * 边栏区 css 类名\n   */\n  asideClassName?: SchemaClassName;\n\n  /**\n   * 配置容器 className\n   */\n  className?: SchemaClassName;\n\n  /**\n   * 自定义页面级别样式表\n   */\n  css?: CSSRule;\n\n  /**\n   * 移动端下的样式表\n   */\n  mobileCSS?: CSSRule;\n\n  /**\n   * 页面级别的初始数据\n   */\n  data?: SchemaDefaultData;\n\n  /**\n   * 配置 header 容器 className\n   */\n  headerClassName?: SchemaClassName;\n\n  /**\n   * 页面初始化的时候，可以设置一个 API 让其取拉取，发送数据会携带当前 data 数据（包含地址栏参数），获取得数据会合并到 data 中，供组件内使用。\n   */\n  initApi?: SchemaApi;\n\n  /**\n   * 是否默认就拉取？\n   */\n  initFetch?: boolean;\n\n  /**\n   * 是否默认就拉取表达式\n   */\n  initFetchOn?: SchemaExpression;\n\n  messages?: SchemaMessage;\n\n  name?: SchemaName;\n\n  /**\n   * 页面顶部区域，当存在 title 时在右上角显示。\n   */\n  toolbar?: SchemaCollection;\n\n  /**\n   * 配置 toolbar 容器 className\n   */\n  toolbarClassName?: SchemaClassName;\n\n  definitions?: any; // todo\n\n  /**\n   * 配置轮询间隔，配置后 initApi 将轮询加载。\n   */\n  interval?: number;\n\n  /**\n   * 是否要静默加载，也就是说不显示进度\n   */\n  silentPolling?: boolean;\n\n  /**\n   * 配置停止轮询的条件。\n   */\n  stopAutoRefreshWhen?: SchemaExpression;\n  // primaryField?: string, // 指定主键的字段名，默认为 `id`\n\n  /**\n   * 是否显示错误信息，默认是显示的。\n   */\n  showErrorMsg?: boolean;\n\n  /**\n   * css 变量\n   */\n  cssVars?: any;\n\n  /**\n   * 默认不设置自动感觉内容来决定要不要展示这些区域\n   * 如果配置了，以配置为主。\n   */\n  regions?: Array<'aside' | 'body' | 'toolbar' | 'header'>;\n\n  /**\n   * 自定义样式\n   */\n  style?: {\n    [propName: string]: any;\n  };\n\n  /**\n   * 下拉刷新配置\n   */\n  pullRefresh?: {\n    disabled?: boolean;\n    pullingText?: string;\n    loosingText?: string;\n  };\n}\n\nexport interface PageProps\n  extends RendererProps,\n    Omit<PageSchema, 'type' | 'className'> {\n  data: any;\n  store: IServiceStore;\n  location?: Location;\n}\n\nexport default class Page extends React.Component<PageProps> {\n  timer: ReturnType<typeof setTimeout>;\n  mounted: boolean;\n  style: HTMLStyleElement;\n  varStyle: HTMLStyleElement;\n  startX: number;\n  startWidth: number;\n  codeWrap: HTMLElement;\n  asideInner = React.createRef<HTMLDivElement>();\n\n  static defaultProps = {\n    asideClassName: '',\n    bodyClassName: '',\n    headerClassName: '',\n    initFetch: true,\n    // primaryField: 'id',\n    toolbarClassName: '',\n    messages: {},\n    asideSticky: true,\n    pullRefresh: {\n      disabled: true\n    }\n  };\n\n  static propsList: Array<keyof PageProps> = [\n    'title',\n    'subTitle',\n    'initApi',\n    'initFetchOn',\n    'initFetch',\n    'headerClassName',\n    'bodyClassName',\n    'asideClassName',\n    'toolbarClassName',\n    'toolbar',\n    'body',\n    'aside',\n    'messages',\n    'style',\n    'showErrorMsg'\n  ];\n\n  constructor(props: PageProps) {\n    super(props);\n\n    // autobind 会让继承里面的 super 指向有问题，所以先这样！\n    bulkBindFunctions<Page /*为毛 this 的类型自动识别不出来？*/>(this, [\n      'handleAction',\n      'handleChange',\n      'handleQuery',\n      'handleDialogConfirm',\n      'handleDialogClose',\n      'handleDrawerConfirm',\n      'handleDrawerClose',\n      'handleClick',\n      'reload',\n      'silentReload',\n      'initInterval'\n    ]);\n\n    this.style = document.createElement('style');\n    this.style.setAttribute('data-page', '');\n    document.getElementsByTagName('head')[0].appendChild(this.style);\n    this.updateStyle();\n\n    this.varStyle = document.createElement('style');\n    this.style.setAttribute('data-vars', '');\n    document.getElementsByTagName('head')[0].appendChild(this.varStyle);\n    this.updateVarStyle();\n  }\n\n  /**\n   * 构建 css\n   */\n  updateStyle() {\n    if (this.props.css || this.props.mobileCSS) {\n      this.style.innerHTML = `\n      ${this.buildCSS(this.props.css)}\n\n      @media (max-width: 768px) {\n        ${this.buildCSS(this.props.mobileCSS)}\n      }\n      `;\n    } else {\n      this.style.innerHTML = '';\n    }\n  }\n\n  buildCSS(cssRules?: CSSRule) {\n    if (!cssRules) {\n      return '';\n    }\n    let css = '';\n\n    for (const selector in cssRules) {\n      const declaration = cssRules[selector];\n      let declarationStr = '';\n      for (const property in declaration) {\n        declarationStr += `  ${property}: ${declaration[property]};\\n`;\n      }\n\n      css += `\n      ${selector} {\n        ${declarationStr}\n      }\n      `;\n    }\n    return css;\n  }\n\n  /**\n   * 构建用于 css 变量的内联样式\n   */\n  updateVarStyle() {\n    const cssVars = this.props.cssVars;\n    let cssVarsContent = '';\n    if (cssVars) {\n      for (const key in cssVars) {\n        if (key.startsWith('--')) {\n          if (key.indexOf(':') !== -1) {\n            continue;\n          }\n          const value = cssVars[key];\n          // 这是为了防止 xss，可能还有别的\n          if (\n            typeof value === 'string' &&\n            (value.indexOf('expression(') !== -1 || value.indexOf(';') !== -1)\n          ) {\n            continue;\n          }\n          cssVarsContent += `${key}: ${value}; \\n`;\n        }\n      }\n      this.varStyle.innerHTML = `\n      :root {\n        ${cssVarsContent}\n      }\n      `;\n    }\n  }\n\n  componentDidMount() {\n    const {initApi, initFetch, initFetchOn, store, messages, asideSticky} =\n      this.props;\n\n    this.mounted = true;\n\n    if (isEffectiveApi(initApi, store.data, initFetch, initFetchOn)) {\n      store\n        .fetchInitData(initApi, store.data, {\n          successMessage: messages && messages.fetchSuccess,\n          errorMessage: messages && messages.fetchFailed\n        })\n        .then(this.initInterval);\n    }\n\n    if (asideSticky && this.asideInner.current) {\n      const dom = this.asideInner.current!;\n      dom.style.cssText += `position: sticky; top: ${\n        scrollPosition(dom).top\n      }px;`;\n    }\n  }\n\n  componentDidUpdate(prevProps: PageProps) {\n    const props = this.props;\n    const store = props.store;\n    const initApi = props.initApi;\n\n    if (\n      // 前一次不构成条件，这次更新构成了条件，则需要重新拉取\n      (props.initFetchOn && props.initFetch && !prevProps.initFetch) ||\n      // 构成了条件，同时 url 里面有变量，且上次和这次还不一样，则需要重新拉取。\n      (props.initFetch !== false &&\n        isApiOutdated(prevProps.initApi, initApi, prevProps.data, props.data))\n    ) {\n      const messages = props.messages;\n      isEffectiveApi(initApi, store.data) &&\n        store\n          .fetchData(initApi as Api, store.data, {\n            successMessage: messages && messages.fetchSuccess,\n            errorMessage: messages && messages.fetchFailed\n          })\n          .then(this.initInterval);\n    } else if (\n      JSON.stringify(props.css) !== JSON.stringify(prevProps.css) ||\n      JSON.stringify(props.mobileCSS) !== JSON.stringify(prevProps.mobileCSS)\n    ) {\n      this.updateStyle();\n    } else if (\n      JSON.stringify(props.cssVars) !== JSON.stringify(prevProps.cssVars)\n    ) {\n      this.updateVarStyle();\n    } else if (\n      isObjectShallowModified(prevProps.defaultData, props.defaultData)\n    ) {\n      store.reInitData(props.defaultData);\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    clearTimeout(this.timer);\n    if (this.style) {\n      this.style.parentNode?.removeChild(this.style);\n    }\n    if (this.varStyle) {\n      this.varStyle.parentNode?.removeChild(this.varStyle);\n    }\n  }\n\n  reloadTarget(target: string, data?: any) {\n    // 会被覆写\n  }\n\n  handleAction(\n    e: React.UIEvent<any> | void,\n    action: Action,\n    ctx: object,\n    throwErrors: boolean = false,\n    delegate?: IScopedContext\n  ): any {\n    const {env, store, messages, onAction} = this.props;\n\n    if (action.actionType === 'dialog') {\n      store.setCurrentAction(action);\n      store.openDialog(ctx);\n    } else if (action.actionType === 'drawer') {\n      store.setCurrentAction(action);\n      store.openDrawer(ctx);\n    } else if (action.actionType === 'ajax') {\n      store.setCurrentAction(action);\n\n      return store\n        .saveRemote(action.api as string, ctx, {\n          successMessage:\n            (action.messages && action.messages.success) ||\n            (messages && messages.saveSuccess),\n          errorMessage:\n            (action.messages && action.messages.failed) ||\n            (messages && messages.saveSuccess)\n        })\n        .then(async () => {\n          if (action.feedback && isVisible(action.feedback, store.data)) {\n            await this.openFeedback(action.feedback, store.data);\n          }\n\n          const redirect =\n            action.redirect && filter(action.redirect, store.data);\n          redirect && env.jumpTo(redirect, action);\n          action.reload && this.reloadTarget(action.reload, store.data);\n        })\n        .catch((e) => {\n          if (throwErrors || action.countDown) {\n            throw e;\n          }\n        });\n    } else {\n      return onAction(e, action, ctx, throwErrors, delegate || this.context);\n    }\n  }\n\n  handleQuery(query: any) {\n    this.receive(query);\n  }\n\n  handleDialogConfirm(values: object[], action: Action, ...args: Array<any>) {\n    const {store} = this.props;\n\n    if (action.mergeData && values.length === 1 && values[0]) {\n      store.updateData(values[0]);\n    }\n\n    const dialog = store.action.dialog as any;\n    if (\n      dialog &&\n      dialog.onConfirm &&\n      dialog.onConfirm(values, action, ...args) === false\n    ) {\n      return;\n    }\n\n    store.closeDialog(true);\n  }\n\n  handleDialogClose(confirmed = false) {\n    const {store} = this.props;\n    store.closeDialog(confirmed);\n  }\n\n  handleDrawerConfirm(values: object[], action: Action, ...args: Array<any>) {\n    const {store} = this.props;\n\n    if (action.mergeData && values.length === 1 && values[0]) {\n      store.updateData(values[0]);\n    }\n\n    const dialog = store.action.dialog as any;\n    if (\n      dialog &&\n      dialog.onConfirm &&\n      dialog.onConfirm(values, action, ...args) === false\n    ) {\n      return;\n    }\n\n    store.closeDrawer();\n  }\n\n  handleDrawerClose() {\n    const {store} = this.props;\n    store.closeDrawer();\n  }\n\n  handleClick(e: any) {\n    const target: HTMLElement = e.target as HTMLElement;\n    const {env} = this.props;\n    const link =\n      target.tagName === 'A' && target.hasAttribute('data-link')\n        ? target.getAttribute('data-link')\n        : target.closest('a[data-link]')?.getAttribute('data-link');\n\n    if (env && link) {\n      env.jumpTo(link);\n      e.preventDefault();\n    }\n  }\n\n  @autobind\n  handleResizeMouseDown(e: React.MouseEvent) {\n    // todo 可能 ie 不正确\n    let isRightMB = e.nativeEvent.which == 3;\n\n    if (isRightMB) {\n      return;\n    }\n\n    this.codeWrap = e.currentTarget.parentElement as HTMLElement;\n    document.addEventListener('mousemove', this.handleResizeMouseMove);\n    document.addEventListener('mouseup', this.handleResizeMouseUp);\n    this.startX = e.clientX;\n    this.startWidth = this.codeWrap.offsetWidth;\n  }\n\n  @autobind\n  handleResizeMouseMove(e: MouseEvent) {\n    const {asideMinWidth = 160, asideMaxWidth = 350} = this.props;\n    const dx = e.clientX - this.startX;\n    const mx = this.startWidth + dx;\n    const width = Math.min(Math.max(mx, asideMinWidth), asideMaxWidth);\n    this.codeWrap.style.cssText += `width: ${width}px`;\n  }\n\n  @autobind\n  handleResizeMouseUp() {\n    document.removeEventListener('mousemove', this.handleResizeMouseMove);\n    document.removeEventListener('mouseup', this.handleResizeMouseUp);\n  }\n\n  openFeedback(dialog: any, ctx: any) {\n    return new Promise(resolve => {\n      const {store} = this.props;\n      store.setCurrentAction({\n        type: 'button',\n        actionType: 'dialog',\n        dialog: dialog\n      });\n      store.openDialog(ctx, undefined, confirmed => {\n        resolve(confirmed);\n      });\n    });\n  }\n\n  reload(subpath?: any, query?: any, ctx?: any, silent?: boolean) {\n    if (query) {\n      return this.receive(query);\n    }\n\n    const {store, initApi} = this.props;\n\n    clearTimeout(this.timer);\n    isEffectiveApi(initApi, store.data) &&\n      store\n        .fetchData(initApi, store.data, {\n          silent\n        })\n        .then(this.initInterval);\n  }\n\n  receive(values: object) {\n    const {store} = this.props;\n\n    store.updateData(values);\n    this.reload();\n  }\n\n  silentReload(target?: string, query?: any) {\n    this.reload(query, undefined, undefined, true);\n  }\n\n  initInterval(value: any) {\n    const {interval, silentPolling, stopAutoRefreshWhen, data, dispatchEvent} =\n      this.props;\n\n    if (value.data) {\n      dispatchEvent('inited', createObject(data, value.data));\n    }\n\n    interval &&\n      this.mounted &&\n      (!stopAutoRefreshWhen || !evalExpression(stopAutoRefreshWhen, data)) &&\n      (this.timer = setTimeout(\n        silentPolling ? this.silentReload : this.reload,\n        Math.max(interval, 1000)\n      ));\n    return value;\n  }\n\n  @autobind\n  async handleRefresh() {\n    const {dispatchEvent, data} = this.props;\n    const rendererEvent = await dispatchEvent('pullRefresh', data);\n    if (rendererEvent?.prevented) {\n      return;\n    }\n    this.reload();\n  }\n\n  handleChange(\n    value: any,\n    name: string,\n    submit?: boolean,\n    changePristine?: boolean\n  ) {\n    const {store, onChange} = this.props;\n\n    if (typeof name === 'string' && name) {\n      store.changeValue(name, value, changePristine);\n    }\n\n    onChange?.apply(null, arguments);\n  }\n\n  renderHeader() {\n    const {\n      title,\n      subTitle,\n      remark,\n      remarkPlacement,\n      headerClassName,\n      toolbarClassName,\n      toolbar,\n      render,\n      store,\n      initApi,\n      env,\n      classnames: cx,\n      regions,\n      translate: __\n    } = this.props;\n\n    const subProps = {\n      onAction: this.handleAction,\n      onQuery: initApi ? this.handleQuery : undefined\n    };\n    let header, right;\n\n    if (\n      Array.isArray(regions) ? ~regions.indexOf('header') : title || subTitle\n    ) {\n      header = (\n        <div className={cx(`Page-header`, headerClassName)}>\n          {title ? (\n            <h2 className={cx('Page-title')}>\n              {render('title', title, subProps)}\n              {remark\n                ? render('remark', {\n                    type: 'remark',\n                    tooltip: remark,\n                    placement: remarkPlacement || 'bottom',\n                    container:\n                      env && env.getModalContainer\n                        ? env.getModalContainer\n                        : undefined\n                  })\n                : null}\n            </h2>\n          ) : null}\n          {subTitle && (\n            <small className={cx('Page-subTitle')}>\n              {render('subTitle', subTitle, subProps)}\n            </small>\n          )}\n        </div>\n      );\n    }\n\n    if (Array.isArray(regions) ? ~regions.indexOf('toolbar') : toolbar) {\n      right = (\n        <div className={cx(`Page-toolbar`, toolbarClassName)}>\n          {render('toolbar', toolbar || '', subProps)}\n        </div>\n      );\n    }\n\n    if (header && right) {\n      return (\n        <div className={cx('Page-headerRow')}>\n          {header}\n          {right}\n        </div>\n      );\n    }\n\n    return header || right;\n  }\n\n  render() {\n    const {\n      className,\n      store,\n      body,\n      bodyClassName,\n      render,\n      aside,\n      asideClassName,\n      classnames: cx,\n      header,\n      showErrorMsg,\n      initApi,\n      regions,\n      style,\n      data,\n      asideResizor,\n      pullRefresh,\n      translate: __\n    } = this.props;\n\n    const subProps = {\n      onAction: this.handleAction,\n      onQuery: initApi ? this.handleQuery : undefined,\n      onChange: this.handleChange,\n      pageLoading: store.loading\n    };\n\n    const hasAside = Array.isArray(regions)\n      ? ~regions.indexOf('aside')\n      : aside && (!Array.isArray(aside) || aside.length);\n\n    const styleVar = buildStyle(style, data);\n\n    const pageContent = (\n      <div className={cx('Page-content')}>\n        <div className={cx('Page-main')}>\n          {this.renderHeader()}\n          <div className={cx(`Page-body`, bodyClassName)}>\n            <Spinner size=\"lg\" overlay key=\"info\" show={store.loading} />\n\n            {store.error && showErrorMsg !== false ? (\n              <Alert\n                level=\"danger\"\n                showCloseButton\n                onClose={store.clearMessage}\n              >\n                {store.msg}\n              </Alert>\n            ) : null}\n\n            {(Array.isArray(regions) ? ~regions.indexOf('body') : body)\n              ? render('body', body || '', subProps)\n              : null}\n          </div>\n        </div>\n      </div>\n    );\n\n    return (\n      <div\n        className={cx(`Page`, hasAside ? `Page--withSidebar` : '', className)}\n        onClick={this.handleClick}\n        style={styleVar}\n      >\n        {hasAside ? (\n          <div\n            className={cx(\n              `Page-aside`,\n              asideResizor ? 'relative' : 'Page-aside--withWidth',\n              asideClassName\n            )}\n          >\n            <div className={cx(`Page-asideInner`)} ref={this.asideInner}>\n              {render('aside', aside || '', {\n                ...subProps,\n                ...(typeof aside === 'string'\n                  ? {\n                      inline: false,\n                      className: `Page-asideTplWrapper`\n                    }\n                  : null)\n              })}\n            </div>\n            {asideResizor ? (\n              <div\n                onMouseDown={this.handleResizeMouseDown}\n                className={cx(`Page-asideResizor`)}\n              ></div>\n            ) : null}\n          </div>\n        ) : null}\n\n        {pullRefresh && !pullRefresh.disabled ? (\n          <PullRefresh\n            {...pullRefresh}\n            translate={__}\n            onRefresh={this.handleRefresh}\n          >\n            {pageContent}\n          </PullRefresh>\n        ) : (\n          pageContent\n        )}\n\n        {render(\n          'dialog',\n          {\n            ...((store.action as Action) &&\n              ((store.action as Action).dialog as object)),\n            type: 'dialog'\n          },\n          {\n            key: 'dialog',\n            data: store.dialogData,\n            onConfirm: this.handleDialogConfirm,\n            onClose: this.handleDialogClose,\n            show: store.dialogOpen,\n            onAction: this.handleAction,\n            onQuery: initApi ? this.handleQuery : undefined\n          }\n        )}\n\n        {render(\n          'drawer',\n          {\n            ...((store.action as Action) &&\n              ((store.action as Action).drawer as object)),\n            type: 'drawer'\n          },\n          {\n            key: 'drawer',\n            data: store.drawerData,\n            onConfirm: this.handleDrawerConfirm,\n            onClose: this.handleDrawerClose,\n            show: store.drawerOpen,\n            onAction: this.handleAction,\n            onQuery: initApi ? this.handleQuery : undefined\n          }\n        )}\n      </div>\n    );\n  }\n}\n\n@Renderer({\n  type: 'page',\n  storeType: ServiceStore.name,\n  isolateScope: true\n})\nexport class PageRenderer extends Page {\n  static contextType = ScopedContext;\n\n  constructor(props: PageProps, context: IScopedContext) {\n    super(props);\n\n    const scoped = context;\n    scoped.registerComponent(this);\n  }\n\n  componentWillUnmount() {\n    const scoped = this.context as IScopedContext;\n    scoped.unRegisterComponent(this);\n    super.componentWillUnmount();\n  }\n\n  reloadTarget(target: string, data?: any) {\n    const scoped = this.context as IScopedContext;\n    scoped.reload(target, data);\n  }\n\n  handleAction(\n    e: React.UIEvent<any>,\n    action: Action,\n    ctx: object,\n    throwErrors: boolean = false,\n    delegate?: IScopedContext\n  ) {\n    const scoped = delegate || (this.context as IScopedContext);\n\n    if (action.actionType === 'reload') {\n      action.target && scoped.reload(action.target, ctx);\n    } else if (action.target) {\n      action.target.split(',').forEach(name => {\n        let target = scoped.getComponentByName(name);\n        target &&\n          target.doAction &&\n          target.doAction(\n            {\n              ...action,\n              target: undefined\n            },\n            ctx\n          );\n      });\n    } else {\n      super.handleAction(e, action, ctx, throwErrors, delegate);\n\n      if (\n        action.reload &&\n        ~['url', 'link', 'jump'].indexOf(action.actionType!)\n      ) {\n        scoped.reload(action.reload, ctx);\n      }\n    }\n  }\n\n  handleDialogConfirm(values: object[], action: Action, ...rest: Array<any>) {\n    super.handleDialogConfirm(values, action, ...rest);\n    const scoped = this.context;\n    const store = this.props.store;\n    const dialogAction = store.action as Action;\n    const reload = action.reload ?? dialogAction.reload;\n\n    if (reload) {\n      scoped.reload(reload, store.data);\n    } else {\n      // 没有设置，则自动让页面中 crud 刷新。\n      scoped\n        .getComponents()\n        .filter((item: any) => item.props.type === 'crud')\n        .forEach((item: any) => item.reload && item.reload());\n    }\n  }\n\n  handleDrawerConfirm(values: object[], action: Action, ...rest: Array<any>) {\n    super.handleDrawerConfirm(values, action);\n    const scoped = this.context as IScopedContext;\n    const store = this.props.store;\n    const drawerAction = store.action as Action;\n    const reload = action.reload ?? drawerAction.reload;\n\n    // 稍等会，等动画结束。\n    setTimeout(() => {\n      if (reload) {\n        scoped.reload(reload, store.data);\n      } else {\n        // 没有设置，则自动让页面中 crud 刷新。\n        scoped\n          .getComponents()\n          .filter((item: any) => item.props.type === 'crud')\n          .forEach((item: any) => item.reload && item.reload());\n      }\n    }, 300);\n  }\n\n  setData(values: object) {\n    return this.props.store.updateData(values);\n  }\n}\n"
    ]
}