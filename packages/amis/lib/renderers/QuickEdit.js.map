{
    "version": 3,
    "file": "QuickEdit.js",
    "sourceRoot": "",
    "sources": [
        "/src/renderers/QuickEdit.tsx"
    ],
    "names": [],
    "mappings": ";AAAA;;;GAGG;;;;AAEH,6DAA0B;AAC1B,uCAAsC;AAEtC,iGAA0D;AAE1D,iEAA8B;AAC9B,+EAA4C;AAC5C,+EAA4C;AAC5C,6CAAyC;AAsEzC,IAAI,MAAM,GAAY,KAAK,CAAC;AAC5B,IAAI,aAAkB,CAAC;AAEhB,IAAM,YAAY,GACvB,UAAC,MAAqC;IAArC,uBAAA,EAAA,WAAqC;IACtC,OAAA,UAAC,SAAmC;QAClC;YAAiC,mDAGhC;YAIC,4BAAY,KAAqB;gBAAjC,YACE,kBAAM,KAAK,CAAC,SAiBb;gBAfC,KAAI,CAAC,aAAa,GAAG,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;gBACnD,KAAI,CAAC,cAAc,GAAG,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;gBACrD,KAAI,CAAC,YAAY,GAAG,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;gBACjD,KAAI,CAAC,YAAY,GAAG,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;gBACjD,KAAI,CAAC,WAAW,GAAG,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;gBAC/C,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;gBAC7C,KAAI,CAAC,oBAAoB,GAAG,KAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;gBACjE,KAAI,CAAC,mBAAmB,GAAG,KAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;gBAC/D,KAAI,CAAC,OAAO,GAAG,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;gBACvC,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;gBAC7C,KAAI,CAAC,YAAY,GAAG,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;gBAEjD,KAAI,CAAC,KAAK,GAAG;oBACX,QAAQ,EAAE,KAAK;iBAChB,CAAC;;YACJ,CAAC;YAED,8CAAiB,GAAjB;gBACE,IAAI,CAAC,MAAM,GAAG,IAAA,uBAAW,EAAC,IAAI,CAAgB,CAAC;gBAE/C,IAAI,MAAM,EAAE;oBACV,OAAO;iBACR;gBAED,MAAM,GAAG,IAAI,CAAC;gBACd,QAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAAC,oBAAoB,CAAC,CAAC;gBACtE,QAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;YACtE,CAAC;YAED,oCAAO,GAAP,UAAQ,GAAQ;gBACR,IAAA,KAAyC,IAAI,CAAC,KAAK,EAAlD,gBAAgB,sBAAA,EAAE,QAAQ,cAAA,EAAE,QAAQ,cAAc,CAAC;gBAE1D,IAAI,gBAAgB,EAAE;oBACpB,OAAO,GAAG,IAAI,GAAG,CAAC,kBAAkB,EAAE;wBACpC,GAAG,GAAG,GAAG,CAAC,kBAAkB,EAAE,CAAC;qBAChC;oBAED,gBAAgB,CAAC,GAAG,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;iBAC3C;YACH,CAAC;YAED,iDAAoB,GAApB,UAAqB,CAAQ;gBAC3B,IAAM,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC;gBAClC,IAAI,EAAE,GAAiB,CAAC,CAAC,MAAsB,CAAC,OAAO,CACrD,WAAI,EAAE,yBAAsB,CACd,CAAC;gBACjB,IAAI,CAAC,EAAE,EAAE;oBACP,OAAO;iBACR;gBACD,IAAM,KAAK,GAAG,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;gBAClC,IAAI,CAAC,KAAK,EAAE;oBACV,OAAO;iBACR;gBAED,IACE,IAAA,iBAAO,EAAC,CAAC,CAAC,KAAK,OAAO;oBACtB,CAAC,CAAC,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,EAC3C;oBACA,CAAC,CAAC,cAAc,EAAE,CAAC;oBACnB,CAAC,CAAC,eAAe,EAAE,CAAC;iBACrB;YACH,CAAC;YAED,gDAAmB,GAAnB,UAAoB,CAAQ;gBAC1B,IAAM,IAAI,GAAG,IAAA,iBAAO,EAAC,CAAC,CAAC,CAAC;gBAExB,IAAI,IAAI,KAAK,KAAK,IAAI,aAAa,EAAE;oBACnC,aAAa,CAAC,cAAc,EAAE,CAAC;iBAChC;qBAAM,IACL,CAAC,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC,OAAO,CAAE,CAAC,CAAC,MAAsB,CAAC,OAAO,CAAC;oBAChE,CAAC,CAAC,MAAsB,CAAC,eAAe,KAAK,MAAM;oBACpD,CAAC,CAAC,CAAC,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,EAC/C;oBACA,OAAO;iBACR;gBAED,CAAC,CAAC,cAAc,EAAE,CAAC;gBACnB,IAAM,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC;gBAClC,IAAI,EAAE,GACF,CAAC,CAAC,MAAsB,CAAC,OAAO,CAChC,WAAI,EAAE,yBAAsB,CACb;oBACjB,QAAQ,CAAC,aAAa,CAAC,WAAI,EAAE,yBAAsB,CAAC,CAAC;gBACvD,IAAI,CAAC,EAAE,EAAE;oBACP,OAAO;iBACR;gBAED,IAAI,KAAK,GAAG,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;gBAChC,IAAI,CAAC,KAAK,EAAE;oBACV,OAAO;iBACR;gBAED,IAAI,OAAO,GAAG,KAAK,CAAC,aAAa,CAC/B,WAAI,EAAE,+BAA4B,CACP,CAAC;gBAE9B,IAAI,CAAC,OAAO,EAAE;oBACZ,IAAI,GAAG,GAAG,KAAK,CAAC,aAAa,CAC3B,WAAI,EAAE,mCAAgC,CACxB,CAAC;oBACjB,GAAG,IAAI,GAAG,CAAC,KAAK,EAAE,CAAC;iBACpB;qBAAM;oBACL,IAAI,MAAM,SAAA,EAAE,MAAM,SAAA,EAAE,MAAM,SAAA,EAAE,MAAM,SAAA,CAAC;oBAEnC,QAAQ,IAAI,EAAE;wBACZ,KAAK,IAAI;4BACP,MAAM,GAAI,OAAO,CAAC,UAA0B;iCACzC,eAAuC,CAAC;4BAE3C,IAAI,MAAM,EAAE;gCACV,IAAI,KAAK,GAAG,OAAO,CAAC,SAAS,CAAC;gCAC7B,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAiB,CAAC,KAAK,EAAE,CAAC;6BACjD;4BACD,MAAM;wBACR,KAAK,MAAM;4BACT,MAAM,GAAI,OAAO,CAAC,UAA0B;iCACzC,WAAmC,CAAC;4BAEvC,IAAI,MAAM,EAAE;gCACV,IAAI,KAAK,GAAG,OAAO,CAAC,SAAS,CAAC;gCAC7B,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAiB,CAAC,KAAK,EAAE,CAAC;6BACjD;4BACD,MAAM;wBACR,KAAK,MAAM;4BACT,MAAM,GAAG,OAAO,CAAC,sBAA8C,CAAC;4BAEhE,OAAO,MAAM,EAAE;gCACb,IAAI,MAAM,CAAC,OAAO,CAAC,WAAI,EAAE,mCAAgC,CAAC,EAAE;oCAC1D,MAAM;iCACP;gCACD,MAAM,GAAG,MAAM,CAAC,sBAAsB,CAAC;6BACxC;4BAED,IAAI,MAAM,EAAE;gCACT,MAAsB,CAAC,KAAK,EAAE,CAAC;6BACjC;iCAAM,IAAK,OAAO,CAAC,UAA0B,CAAC,eAAe,EAAE;gCAC9D,IAAI,GAAG,GACJ,OAAO,CAAC,UAA0B;qCAChC,eACJ,CAAC,gBAAgB,CAAC,WAAI,EAAE,mCAAgC,CAAC,CAAC;gCAE3D,IAAI,GAAG,CAAC,MAAM,EAAE;oCACb,GAAG,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAiB,CAAC,KAAK,EAAE,CAAC;iCAC9C;6BACF;4BACD,MAAM;wBACR,KAAK,OAAO;4BACV,MAAM,GAAG,OAAO,CAAC,WAAW,CAAC;4BAC7B,OAAO,MAAM,EAAE;gCACb,IACG,MAAkB,CAAC,OAAO,CACzB,WAAI,EAAE,mCAAgC,CACvC,EACD;oCACA,MAAM;iCACP;gCAED,MAAM,GAAG,MAAM,CAAC,WAAW,CAAC;6BAC7B;4BAED,IAAI,MAAM,EAAE;gCACT,MAAsB,CAAC,KAAK,EAAE,CAAC;6BACjC;iCAAM,IAAK,OAAO,CAAC,UAA0B,CAAC,WAAW,EAAE;gCAC1D,MAAM,GACH,OAAO,CAAC,UAA0B,CAAC,WACrC,CAAC,aAAa,CAAC,WAAI,EAAE,mCAAgC,CAAC,CAAC;gCAExD,IAAI,MAAM,EAAE;oCACT,MAAc,CAAC,KAAK,EAAE,CAAC;iCACzB;6BACF;4BACD,MAAM;qBACT;iBACF;YACH,CAAC;YAED,yBAAyB;YACzB,6BAA6B;YAC7B,IAAI;YAEJ,uCAAU,GAAV,UAAW,GAAQ;gBACjB,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC;YACrB,CAAC;YAED,yCAAY,GAAZ,UAAa,CAAM,EAAE,MAAc,EAAE,GAAW;gBACvC,IAAA,QAAQ,GAAI,IAAI,CAAC,KAAK,SAAd,CAAe;gBAE9B,IAAI,MAAM,CAAC,UAAU,KAAK,QAAQ,IAAI,MAAM,CAAC,UAAU,KAAK,OAAO,EAAE;oBACnE,IAAI,CAAC,cAAc,EAAE,CAAC;oBACtB,OAAO;iBACR;gBAED,QAAQ,IAAI,QAAQ,CAAC,CAAC,EAAE,MAAM,EAAE,GAAG,CAAC,CAAC;YACvC,CAAC;YAED,yCAAY,GAAZ,UAAa,MAAc;gBACnB,IAAA,KAA6B,IAAI,CAAC,KAAK,EAAtC,aAAa,mBAAA,EAAE,SAAS,eAAc,CAAC;gBAE9C,IAAI,CAAC,cAAc,EAAE,CAAC;gBACtB,aAAa,CACX,MAAM,EACL,SAA6B,CAAC,eAAe,EAC9C,KAAK,EACJ,SAA6B,CAAC,aAAa,CAC7C,CAAC;gBAEF,OAAO,KAAK,CAAC;YACf,CAAC;YAED,uCAAU,GAAV,UAAW,MAAc;gBAChB,IAAA,aAAa,GAAI,IAAI,CAAC,KAAK,cAAd,CAAe;gBACnC,aAAa,CAAC,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;YACrC,CAAC;YAED,yCAAY,GAAZ,UAAa,MAAc;gBACnB,IAAA,KAA6B,IAAI,CAAC,KAAK,EAAtC,aAAa,mBAAA,EAAE,SAAS,eAAc,CAAC;gBAE9C,aAAa,CACX,MAAM,EACL,SAA6B,CAAC,eAAe,EAC9C,KAAK,EACJ,SAA6B,CAAC,aAAa,CAC7C,CAAC;YACJ,CAAC;YAED,0CAAa,GAAb;gBACE,aAAa,GAAG,IAAI,CAAC;gBACrB,IAAI,CAAC,QAAQ,CAAC;oBACZ,QAAQ,EAAE,IAAI;iBACf,CAAC,CAAC;YACL,CAAC;YAED,2CAAc,GAAd;gBAAA,iBAoBC;gBAnBC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;oBACxB,OAAO;iBACR;gBACD,aAAa,GAAG,IAAI,CAAC;gBACrB,IAAM,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC;gBAClC,IAAI,CAAC,QAAQ,CACX;oBACE,QAAQ,EAAE,KAAK;iBAChB,EACD;oBACE,IAAI,EAAE,GAAG,IAAA,uBAAW,EAAC,KAAI,CAAgB,CAAC;oBAC1C,IAAI,KAAK,GAAG,EAAE,CAAC,OAAO,CAAC,OAAO,CAAgB,CAAC;oBAC/C,CAAC,CAAC,KAAK;wBACL,KAAK,CAAC,gBAAgB,CAAC,aAAM,EAAE,+BAA4B,CAAC;6BACzD,MAAM,CAAC;wBACV,EAAE,CAAC;wBACH,EAAE,CAAC,KAAK,EAAE,CAAC;gBACf,CAAC,CACF,CAAC;YACJ,CAAC;YAED,wCAAW,GAAX;gBACQ,IAAA,KAA0C,IAAI,CAAC,KAAK,EAAnD,SAAS,eAAA,EAAE,IAAI,UAAA,EAAE,KAAK,WAAA,EAAa,EAAE,eAAc,CAAC;gBAE3D,IAAI,MAAM,CAAC;gBAEX,IAAI,SAAS,KAAK,IAAI,EAAE;oBACtB,MAAM,GAAG;wBACP,IAAI,EAAE,MAAM;wBACZ,KAAK,EAAE,EAAE;wBACT,SAAS,EAAE,IAAI;wBACf,IAAI,EAAE;4BACJ;gCACE,IAAI,EAAE,YAAY;gCAClB,IAAI,MAAA;gCACJ,WAAW,EAAE,KAAK;gCAClB,KAAK,EAAE,KAAK;6BACb;yBACF;qBACF,CAAC;iBACH;qBAAM,IAAI,SAAS,EAAE;oBACpB,IACE,SAAS,CAAC,IAAI;wBACd,CAAC,CAAC,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,UAAU,EAAE,UAAU,CAAC,CAAC,OAAO,CAC1D,SAAiB,CAAC,IAAI,CACxB,EACD;wBACA,MAAM,iDACJ,KAAK,EAAE,EAAE,EACT,SAAS,EAAG,SAA6B,CAAC,IAAI,KAAK,QAAQ,IACxD,SAAS,KACZ,IAAI,EAAE,QAAQ,EACd,IAAI,EAAE,MAAM,GACb,CAAC;qBACH;yBAAM;wBACL,MAAM,GAAG;4BACP,KAAK,EAAE,EAAE;4BACT,SAAS,EAAE,SAAS,CAAC,aAAa;4BAClC,IAAI,EAAE,MAAM;4BACZ,SAAS,EAAG,SAA6B,CAAC,IAAI,KAAK,QAAQ;4BAC3D,IAAI,EAAE,QAAQ;4BACd,IAAI,EAAE;8EAEF,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,YAAY,EACpC,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,IAAI,IACzB,SAAS,KACZ,IAAI,EAAE,SAAS;6BAElB;yBACF,CAAC;qBACH;iBACF;gBAED,IAAI,MAAM,EAAE;oBACV,MAAM,mDACD,MAAM,KACT,aAAa,EAAG,SAA6B,CAAC,IAAI,KAAK,QAAQ,EAC/D,OAAO,EACJ,SAA6B,CAAC,IAAI,KAAK,QAAQ;4BAC9C,CAAC,CAAC,EAAE;4BACJ,CAAC,CAAC;gCACE;oCACE,IAAI,EAAE,QAAQ;oCACd,KAAK,EAAE,EAAE,CAAC,QAAQ,CAAC;oCACnB,UAAU,EAAE,QAAQ;iCACrB;gCAED;oCACE,KAAK,EAAE,EAAE,CAAC,SAAS,CAAC;oCACpB,IAAI,EAAE,QAAQ;oCACd,OAAO,EAAE,IAAI;iCACd;6BACF,GACR,CAAC;iBACH;gBAED,OAAO,MAAM,IAAI,OAAO,CAAC;YAC3B,CAAC;YAED,wCAAW,GAAX,UAAY,CAAQ;gBAClB,IAAM,IAAI,GAAG,IAAA,iBAAO,EAAC,CAAC,CAAC,CAAC;gBACxB,IACE,IAAI,KAAK,OAAO;oBAChB,CAAC,CAAC,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC,OAAO,CAAE,CAAC,CAAC,MAAsB,CAAC,OAAO,CAAC,EAClE;oBACA,CAAC,CAAC,cAAc,EAAE,CAAC;oBACnB,CAAC,CAAC,eAAe,EAAE,CAAC;oBACpB,IAAI,CAAC,aAAa,EAAE,CAAC;iBACtB;YACH,CAAC;YAED,0CAAa,GAAb;gBAAA,iBAoDC;gBAnDK,IAAA,KAOA,IAAI,CAAC,KAAK,EANZ,SAAS,eAAA,EACT,MAAM,YAAA,EACN,gBAAgB,sBAAA,EACH,EAAE,iBAAA,EACH,EAAE,gBAAA,EACd,kBAAkB,wBACN,CAAC;gBAEf,IAAM,OAAO,GAAG,CACd,uCACE,GAAG,EAAE,IAAI,CAAC,UAAU,EACpB,SAAS,EAAE,EAAE,CAAE,SAA6B,CAAC,SAAS,CAAC,IAEtD,MAAM,CAAC,iBAAiB,EAAE,IAAI,CAAC,WAAW,EAAE,EAAE;oBAC7C,KAAK,EAAE,SAAS;oBAChB,QAAQ,EAAE,IAAI,CAAC,YAAY;oBAC3B,QAAQ,EAAE,IAAI,CAAC,YAAY;oBAC3B,QAAQ,EAAE,IAAI;oBACd,cAAc,EAAE,KAAK;oBACrB,GAAG,EAAE,IAAI,CAAC,OAAO;oBACjB,gBAAgB,EAAE,cAAM,OAAA,KAAI,CAAC,OAAO,EAAZ,CAAY;oBACpC,kBAAkB,oBAAA;oBAClB,SAAS,EAAE,SAAS;iBACrB,CAAC,CACE,CACP,CAAC;gBAEF,gBAAgB,GAAG,gBAAgB,IAAI,CAAC,cAAM,OAAA,IAAA,uBAAW,EAAC,KAAI,CAAC,EAAjB,CAAiB,CAAC,CAAC;gBAEjE,OAAO,CACL,8BAAC,iBAAO,IACN,SAAS,EAAE,gBAAgB,EAC3B,MAAM,EAAE,cAAM,OAAA,KAAI,CAAC,MAAM,EAAX,CAAW,EACzB,MAAM,EAAE,IAAI,CAAC,cAAc,EAC3B,SAAS,EAAC,sDAAsD,EAChE,IAAI;oBAEJ,8BAAC,iBAAO,IACN,WAAW,EAAE,EAAE,EACf,SAAS,EAAE,EAAE,CACX,UAAG,EAAE,sBAAmB,EACvB,SAA6B,CAAC,gBAAgB,CAChD,EACD,MAAM,EAAE,IAAI,CAAC,cAAc,EAC3B,OAAO,UAEN,OAAO,CACA,CACF,CACX,CAAC;YACJ,CAAC;YAED,mCAAM,GAAN;gBACQ,IAAA,KAUF,IAAI,CAAC,KAAK,EATZ,aAAa,mBAAA,EACb,SAAS,eAAA,EACT,gBAAgB,sBAAA,EAChB,SAAS,eAAA,EACG,EAAE,gBAAA,EACd,MAAM,YAAA,EACN,KAAK,WAAA,EACL,kBAAkB,wBAAA,EAClB,QAAQ,cACI,CAAC;gBAEf,IACE,CAAC,SAAS;oBACV,CAAC,aAAa;oBACd,gBAAgB,KAAK,KAAK;oBAC1B,KAAK;oBACL,QAAQ,EACR;oBACA,OAAO,8BAAC,SAAS,4BAAK,IAAI,CAAC,KAAK,EAAI,CAAC;iBACtC;gBAED,IAAK,SAA6B,CAAC,IAAI,KAAK,QAAQ,EAAE;oBACpD,OAAO,CACL,8BAAC,SAAS,4BAAK,IAAI,CAAC,KAAK,GACtB,MAAM,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,EAAE,EAAE;wBACzC,KAAK,EAAE,SAAS;wBAChB,gBAAgB,EAAE,KAAK;wBACvB,SAAS,EAAE,EAAE,CAAC,iBAAiB,CAAC;wBAChC,GAAG,EAAE,IAAI,CAAC,OAAO;wBACjB,UAAU,EAAE,IAAI;wBAChB,MAAM,EAAE,IAAI,CAAC,UAAU;wBACvB,QAAQ,EAAE,IAAI,CAAC,YAAY;wBAC3B,cAAc,EAAE,KAAK;wBACrB,kBAAkB,oBAAA;qBACnB,CAAC,CACQ,CACb,CAAC;iBACH;qBAAM;oBACL,OAAO,CACL,8BAAC,SAAS,4BACJ,IAAI,CAAC,KAAK,IACd,SAAS,EAAE,EAAE,CAAC,sBAAsB,EAAE,SAAS,EAAE;4BAC/C,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ;yBACxB,CAAC,EACF,QAAQ,EACL,SAA6B,CAAC,SAAS,KAAK,KAAK;4BAChD,CAAC,CAAC,SAAS;4BACX,CAAC,CAAC,GAAG,EAET,OAAO,EAAE,IAAI,CAAC,WAAW;wBAEzB,8BAAC,SAAS,4BAAK,IAAI,CAAC,KAAK,IAAE,gBAAgB,EAAE,EAAE,EAAE,KAAK,UAAG;wBACzD,wCACE,GAAG,EAAC,UAAU,EACd,SAAS,EAAE,EAAE,CAAC,oBAAoB,CAAC,EACnC,OAAO,EAAE,IAAI,CAAC,aAAa;4BAE3B,8BAAC,YAAI,IAAC,IAAI,EAAC,QAAQ,EAAC,SAAS,EAAC,MAAM,GAAG,CAClC;wBACN,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC,IAAI,CACxC,CACb,CAAC;iBACH;YACH,CAAC;YAndM,oCAAiB,GAAG,SAAS,CAAC;YAodvC,yBAAC;SAAA,AA1dD,CAAiC,eAAK,CAAC,aAAa,GA0dnD;QAED,IAAA,iCAAmB,EAAC,kBAAkB,EAAE,SAAS,CAAC,CAAC;QAEnD,OAAO,kBAAkB,CAAC;IAC5B,CAAC;AAheD,CAgeC,CAAC;AAleS,QAAA,YAAY,gBAkerB;AAEJ,kBAAe,oBAAY,CAAC",
    "sourcesContent": [
        "/**\n * @file scoped.jsx.\n * @author fex\n */\n\nimport React from 'react';\nimport {findDOMNode} from 'react-dom';\nimport {RendererProps} from '../factory';\nimport hoistNonReactStatic from 'hoist-non-react-statics';\nimport {Action} from '../types';\nimport keycode from 'keycode';\nimport Overlay from '../components/Overlay';\nimport PopOver from '../components/PopOver';\nimport {Icon} from '../components/icons';\nimport {SchemaCollection, SchemaObject} from '../Schema';\n\nexport type SchemaQuickEditObject =\n  /**\n   * 直接就是个表单项\n   */\n  | ({\n      /**\n       * 是否立即保存\n       */\n      saveImmediately?: boolean;\n\n      /**\n       * 接口保存失败后，是否重置组件编辑状态\n       */\n      resetOnFailed?: boolean;\n\n      /**\n       * 是否直接内嵌\n       */\n      mode?: 'inline';\n    } & SchemaObject)\n\n  /**\n   * 表单项集合\n   */\n  | {\n      /**\n       * 是否立即保存\n       */\n      saveImmediately?: boolean;\n\n      /**\n       * 接口保存失败后，是否重置组件编辑状态\n       */\n      resetOnFailed?: boolean;\n\n      /**\n       * 是否直接内嵌\n       */\n      mode?: 'inline';\n\n      body: SchemaCollection;\n    };\n\nexport type SchemaQuickEdit = boolean | SchemaQuickEditObject;\n\nexport interface QuickEditConfig {\n  saveImmediately?: boolean;\n  resetOnFailed?: boolean;\n  mode?: 'inline' | 'dialog' | 'popOver' | 'append';\n  type?: string;\n  body?: any;\n  focusable?: boolean;\n  popOverClassName?: string;\n  [propName: string]: any;\n}\n\nexport interface QuickEditProps extends RendererProps {\n  name?: string;\n  label?: string;\n  quickEdit: boolean | QuickEditConfig;\n  quickEditEnabled?: boolean;\n}\n\nexport interface QuickEditState {\n  isOpened: boolean;\n}\n\nlet inited: boolean = false;\nlet currentOpened: any;\n\nexport const HocQuickEdit =\n  (config: Partial<QuickEditConfig> = {}) =>\n  (Component: React.ComponentType<any>): any => {\n    class QuickEditComponent extends React.PureComponent<\n      QuickEditProps,\n      QuickEditState\n    > {\n      target: HTMLElement;\n      overlay: HTMLElement;\n      static ComposedComponent = Component;\n      constructor(props: QuickEditProps) {\n        super(props);\n\n        this.openQuickEdit = this.openQuickEdit.bind(this);\n        this.closeQuickEdit = this.closeQuickEdit.bind(this);\n        this.handleAction = this.handleAction.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleKeyUp = this.handleKeyUp.bind(this);\n        this.overlayRef = this.overlayRef.bind(this);\n        this.handleWindowKeyPress = this.handleWindowKeyPress.bind(this);\n        this.handleWindowKeyDown = this.handleWindowKeyDown.bind(this);\n        this.formRef = this.formRef.bind(this);\n        this.handleInit = this.handleInit.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n\n        this.state = {\n          isOpened: false\n        };\n      }\n\n      componentDidMount() {\n        this.target = findDOMNode(this) as HTMLElement;\n\n        if (inited) {\n          return;\n        }\n\n        inited = true;\n        document.body.addEventListener('keypress', this.handleWindowKeyPress);\n        document.body.addEventListener('keydown', this.handleWindowKeyDown);\n      }\n\n      formRef(ref: any) {\n        const {quickEditFormRef, rowIndex, colIndex} = this.props;\n\n        if (quickEditFormRef) {\n          while (ref && ref.getWrappedInstance) {\n            ref = ref.getWrappedInstance();\n          }\n\n          quickEditFormRef(ref, colIndex, rowIndex);\n        }\n      }\n\n      handleWindowKeyPress(e: Event) {\n        const ns = this.props.classPrefix;\n        let el: HTMLElement = (e.target as HTMLElement).closest(\n          `.${ns}Field--quickEditable`\n        ) as HTMLElement;\n        if (!el) {\n          return;\n        }\n        const table = el.closest('table');\n        if (!table) {\n          return;\n        }\n\n        if (\n          keycode(e) === 'space' &&\n          !~['INPUT', 'TEXTAREA'].indexOf(el.tagName)\n        ) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      }\n\n      handleWindowKeyDown(e: Event) {\n        const code = keycode(e);\n\n        if (code === 'esc' && currentOpened) {\n          currentOpened.closeQuickEdit();\n        } else if (\n          ~['INPUT', 'TEXTAREA'].indexOf((e.target as HTMLElement).tagName) ||\n          (e.target as HTMLElement).contentEditable === 'true' ||\n          !~['up', 'down', 'left', 'right'].indexOf(code)\n        ) {\n          return;\n        }\n\n        e.preventDefault();\n        const ns = this.props.classPrefix;\n        let el: HTMLElement =\n          ((e.target as HTMLElement).closest(\n            `.${ns}Field--quickEditable`\n          ) as HTMLElement) ||\n          document.querySelector(`.${ns}Field--quickEditable`);\n        if (!el) {\n          return;\n        }\n\n        let table = el.closest('table');\n        if (!table) {\n          return;\n        }\n\n        let current = table.querySelector(\n          `.${ns}Field--quickEditable:focus`\n        ) as HTMLTableDataCellElement;\n\n        if (!current) {\n          let dom = table.querySelector(\n            `.${ns}Field--quickEditable[tabindex]`\n          ) as HTMLElement;\n          dom && dom.focus();\n        } else {\n          let prevTr, nextTr, prevTd, nextTd;\n\n          switch (code) {\n            case 'up':\n              prevTr = (current.parentNode as HTMLElement)\n                .previousSibling as HTMLTableCellElement;\n\n              if (prevTr) {\n                let index = current.cellIndex;\n                (prevTr.children[index] as HTMLElement).focus();\n              }\n              break;\n            case 'down':\n              nextTr = (current.parentNode as HTMLElement)\n                .nextSibling as HTMLTableCellElement;\n\n              if (nextTr) {\n                let index = current.cellIndex;\n                (nextTr.children[index] as HTMLElement).focus();\n              }\n              break;\n            case 'left':\n              prevTd = current.previousElementSibling as HTMLTableCellElement;\n\n              while (prevTd) {\n                if (prevTd.matches(`.${ns}Field--quickEditable[tabindex]`)) {\n                  break;\n                }\n                prevTd = prevTd.previousElementSibling;\n              }\n\n              if (prevTd) {\n                (prevTd as HTMLElement).focus();\n              } else if ((current.parentNode as HTMLElement).previousSibling) {\n                let tds = (\n                  (current.parentNode as HTMLElement)\n                    .previousSibling as HTMLElement\n                ).querySelectorAll(`.${ns}Field--quickEditable[tabindex]`);\n\n                if (tds.length) {\n                  (tds[tds.length - 1] as HTMLElement).focus();\n                }\n              }\n              break;\n            case 'right':\n              nextTd = current.nextSibling;\n              while (nextTd) {\n                if (\n                  (nextTd as Element).matches(\n                    `.${ns}Field--quickEditable[tabindex]`\n                  )\n                ) {\n                  break;\n                }\n\n                nextTd = nextTd.nextSibling;\n              }\n\n              if (nextTd) {\n                (nextTd as HTMLElement).focus();\n              } else if ((current.parentNode as HTMLElement).nextSibling) {\n                nextTd = (\n                  (current.parentNode as HTMLElement).nextSibling as HTMLElement\n                ).querySelector(`.${ns}Field--quickEditable[tabindex]`);\n\n                if (nextTd) {\n                  (nextTd as any).focus();\n                }\n              }\n              break;\n          }\n        }\n      }\n\n      // handleClickOutside() {\n      //     this.closeQuickEdit();\n      // }\n\n      overlayRef(ref: any) {\n        this.overlay = ref;\n      }\n\n      handleAction(e: any, action: Action, ctx: object) {\n        const {onAction} = this.props;\n\n        if (action.actionType === 'cancel' || action.actionType === 'close') {\n          this.closeQuickEdit();\n          return;\n        }\n\n        onAction && onAction(e, action, ctx);\n      }\n\n      handleSubmit(values: object) {\n        const {onQuickChange, quickEdit} = this.props;\n\n        this.closeQuickEdit();\n        onQuickChange(\n          values,\n          (quickEdit as QuickEditConfig).saveImmediately,\n          false,\n          (quickEdit as QuickEditConfig).resetOnFailed\n        );\n\n        return false;\n      }\n\n      handleInit(values: object) {\n        const {onQuickChange} = this.props;\n        onQuickChange(values, false, true);\n      }\n\n      handleChange(values: object) {\n        const {onQuickChange, quickEdit} = this.props;\n\n        onQuickChange(\n          values,\n          (quickEdit as QuickEditConfig).saveImmediately,\n          false,\n          (quickEdit as QuickEditConfig).resetOnFailed\n        );\n      }\n\n      openQuickEdit() {\n        currentOpened = this;\n        this.setState({\n          isOpened: true\n        });\n      }\n\n      closeQuickEdit() {\n        if (!this.state.isOpened) {\n          return;\n        }\n        currentOpened = null;\n        const ns = this.props.classPrefix;\n        this.setState(\n          {\n            isOpened: false\n          },\n          () => {\n            let el = findDOMNode(this) as HTMLElement;\n            let table = el.closest('table') as HTMLElement;\n            ((table &&\n              table.querySelectorAll(`td.${ns}Field--quickEditable:focus`)\n                .length) ||\n              el) &&\n              el.focus();\n          }\n        );\n      }\n\n      buildSchema() {\n        const {quickEdit, name, label, translate: __} = this.props;\n\n        let schema;\n\n        if (quickEdit === true) {\n          schema = {\n            type: 'form',\n            title: '',\n            autoFocus: true,\n            body: [\n              {\n                type: 'input-text',\n                name,\n                placeholder: label,\n                label: false\n              }\n            ]\n          };\n        } else if (quickEdit) {\n          if (\n            quickEdit.body &&\n            !~['combo', 'group', 'panel', 'fieldSet', 'fieldset'].indexOf(\n              (quickEdit as any).type\n            )\n          ) {\n            schema = {\n              title: '',\n              autoFocus: (quickEdit as QuickEditConfig).mode !== 'inline',\n              ...quickEdit,\n              mode: 'normal',\n              type: 'form'\n            };\n          } else {\n            schema = {\n              title: '',\n              className: quickEdit.formClassName,\n              type: 'form',\n              autoFocus: (quickEdit as QuickEditConfig).mode !== 'inline',\n              mode: 'normal',\n              body: [\n                {\n                  type: quickEdit.type || 'input-text',\n                  name: quickEdit.name || name,\n                  ...quickEdit,\n                  mode: undefined\n                }\n              ]\n            };\n          }\n        }\n\n        if (schema) {\n          schema = {\n            ...schema,\n            wrapWithPanel: (quickEdit as QuickEditConfig).mode !== 'inline',\n            actions:\n              (quickEdit as QuickEditConfig).mode === 'inline'\n                ? []\n                : [\n                    {\n                      type: 'button',\n                      label: __('cancel'),\n                      actionType: 'cancel'\n                    },\n\n                    {\n                      label: __('confirm'),\n                      type: 'submit',\n                      primary: true\n                    }\n                  ]\n          };\n        }\n\n        return schema || 'error';\n      }\n\n      handleKeyUp(e: Event) {\n        const code = keycode(e);\n        if (\n          code === 'space' &&\n          !~['INPUT', 'TEXTAREA'].indexOf((e.target as HTMLElement).tagName)\n        ) {\n          e.preventDefault();\n          e.stopPropagation();\n          this.openQuickEdit();\n        }\n      }\n\n      renderPopOver() {\n        let {\n          quickEdit,\n          render,\n          popOverContainer,\n          classPrefix: ns,\n          classnames: cx,\n          canAccessSuperData\n        } = this.props;\n\n        const content = (\n          <div\n            ref={this.overlayRef}\n            className={cx((quickEdit as QuickEditConfig).className)}\n          >\n            {render('quick-edit-form', this.buildSchema(), {\n              value: undefined,\n              onSubmit: this.handleSubmit,\n              onAction: this.handleAction,\n              onChange: null,\n              formLazyChange: false,\n              ref: this.formRef,\n              popOverContainer: () => this.overlay,\n              canAccessSuperData,\n              formStore: undefined\n            })}\n          </div>\n        );\n\n        popOverContainer = popOverContainer || (() => findDOMNode(this));\n\n        return (\n          <Overlay\n            container={popOverContainer}\n            target={() => this.target}\n            onHide={this.closeQuickEdit}\n            placement=\"left-top right-top left-bottom right-bottom left-top\"\n            show\n          >\n            <PopOver\n              classPrefix={ns}\n              className={cx(\n                `${ns}QuickEdit-popover`,\n                (quickEdit as QuickEditConfig).popOverClassName\n              )}\n              onHide={this.closeQuickEdit}\n              overlay\n            >\n              {content}\n            </PopOver>\n          </Overlay>\n        );\n      }\n\n      render() {\n        const {\n          onQuickChange,\n          quickEdit,\n          quickEditEnabled,\n          className,\n          classnames: cx,\n          render,\n          noHoc,\n          canAccessSuperData,\n          disabled\n        } = this.props;\n\n        if (\n          !quickEdit ||\n          !onQuickChange ||\n          quickEditEnabled === false ||\n          noHoc ||\n          disabled\n        ) {\n          return <Component {...this.props} />;\n        }\n\n        if ((quickEdit as QuickEditConfig).mode === 'inline') {\n          return (\n            <Component {...this.props}>\n              {render('inline-form', this.buildSchema(), {\n                value: undefined,\n                wrapperComponent: 'div',\n                className: cx('Form--quickEdit'),\n                ref: this.formRef,\n                simpleMode: true,\n                onInit: this.handleInit,\n                onChange: this.handleChange,\n                formLazyChange: false,\n                canAccessSuperData\n              })}\n            </Component>\n          );\n        } else {\n          return (\n            <Component\n              {...this.props}\n              className={cx(`Field--quickEditable`, className, {\n                in: this.state.isOpened\n              })}\n              tabIndex={\n                (quickEdit as QuickEditConfig).focusable === false\n                  ? undefined\n                  : '0'\n              }\n              onKeyUp={this.handleKeyUp}\n            >\n              <Component {...this.props} wrapperComponent={''} noHoc />\n              <span\n                key=\"edit-btn\"\n                className={cx('Field-quickEditBtn')}\n                onClick={this.openQuickEdit}\n              >\n                <Icon icon=\"pencil\" className=\"icon\" />\n              </span>\n              {this.state.isOpened ? this.renderPopOver() : null}\n            </Component>\n          );\n        }\n      }\n    }\n\n    hoistNonReactStatic(QuickEditComponent, Component);\n\n    return QuickEditComponent;\n  };\n\nexport default HocQuickEdit;\n"
    ]
}