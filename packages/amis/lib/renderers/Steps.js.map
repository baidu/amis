{
    "version": 3,
    "file": "Steps.js",
    "sourceRoot": "",
    "sources": [
        "/src/renderers/Steps.tsx"
    ],
    "names": [],
    "mappings": "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",
    "sourcesContent": [
        "import React from 'react';\nimport {Renderer, RendererProps} from '../factory';\nimport {BaseSchema, SchemaCollection} from '../Schema';\nimport Steps, {StepStatus} from '../components/Steps';\nimport {\n  RemoteOptionsProps,\n  withRemoteConfig\n} from '../components/WithRemoteConfig';\nimport {resolveVariable} from '../utils/tpl-builtin';\nimport {filter} from '../utils/tpl';\nimport {getPropValue} from '../utils/helper';\n\nexport type StepSchema = {\n  /**\n   * 标题\n   */\n  title: string | SchemaCollection;\n\n  /**\n   * 子标题\n   */\n  subTitle?: string | SchemaCollection;\n\n  /**\n   * 图标\n   */\n  icon?: string;\n\n  value?: string | number;\n\n  /**\n   * 描述\n   */\n  description?: string | SchemaCollection;\n} & Omit<BaseSchema, 'type'>;\n\nexport interface StepsSchema extends BaseSchema {\n  /**\n   * 指定为 Steps 步骤条渲染器\n   */\n  type: 'steps';\n\n  /**\n   * 步骤\n   */\n  steps?: Array<StepSchema>;\n\n  /**\n   * API 或 数据映射\n   */\n  source?: string;\n\n  /**\n   * 指定当前步骤\n   */\n  value?: number | string;\n\n  /**\n   * 变量映射\n   */\n  name?: string;\n\n  status?:\n    | StepStatus\n    | {\n        [propName: string]: StepStatus;\n      };\n\n  /**\n   * 展示模式\n   */\n  mode?: 'horizontal' | 'vertical';\n\n  /**\n   * 标签放置位置\n   */\n   labelPlacement?: 'horizontal' | 'vertical';\n\n   /**\n   * 点状步骤条\n   */\n    progressDot?: boolean;\n}\n\nexport interface StepsProps\n  extends RendererProps,\n    Omit<StepsSchema, 'className'> {}\n\nexport function StepsCmpt(props: StepsProps) {\n  const {\n    className,\n    steps,\n    status,\n    mode,\n    labelPlacement,\n    progressDot,\n    data,\n    source,\n    config,\n    render,\n    useMobileUI\n  } = props;\n\n  const stepsRow =\n    (resolveVariable(source, data) as Array<StepSchema>) ||\n    config ||\n    steps ||\n    [];\n  const resolveRender = (val?: string | SchemaCollection) =>\n    typeof val === 'string' ? filter(val, data) : val && render('inner', val);\n  const value = getPropValue(props) ?? 0;\n  const resolveValue =\n    typeof value === 'string' && isNaN(+value)\n      ? +(resolveVariable(value, data) as string) || +value\n      : +value;\n  const valueIndex = stepsRow.findIndex(\n    item => item.value && item.value === resolveValue\n  );\n  const currentValue = valueIndex !== -1 ? valueIndex : resolveValue;\n  const resolveSteps = stepsRow.map((step, i) => {\n    const stepStatus = getStepStatus(step, i);\n    return {\n      ...step,\n      status: stepStatus,\n      title: resolveRender(step.title),\n      subTitle: resolveRender(step.subTitle),\n      description: resolveRender(step.description)\n    };\n  });\n\n  function getStepStatus(step: StepSchema, i: number): StepStatus {\n    let stepStatus;\n\n    if (typeof status === 'string') {\n      if (i === currentValue) {\n        const resolveStatus = resolveVariable(status, data);\n        stepStatus = resolveStatus || status || StepStatus.process;\n      }\n    } else if (typeof status === 'object') {\n      const key = step.value;\n      key && status[key] && (stepStatus = status[key]);\n    }\n\n    return stepStatus;\n  }\n\n  return (\n    <Steps\n      current={currentValue}\n      steps={resolveSteps}\n      className={className}\n      status={status}\n      mode={mode}\n      progressDot={progressDot}\n      labelPlacement={labelPlacement}\n      useMobileUI={useMobileUI}\n    ></Steps>\n  );\n}\n\nconst StepsWithRemoteConfig = withRemoteConfig({\n  adaptor: data => data.steps || data\n})(\n  class extends React.Component<\n    RemoteOptionsProps & React.ComponentProps<typeof StepsCmpt>\n  > {\n    render() {\n      const {config, deferLoad, loading, updateConfig, ...rest} = this.props;\n      return <StepsCmpt config={config} {...rest} />;\n    }\n  }\n);\n\n@Renderer({\n  type: 'steps'\n})\nexport class StepsRenderer extends React.Component<StepsProps> {\n  render() {\n    return <StepsWithRemoteConfig {...this.props} />;\n  }\n}\n"
    ]
}