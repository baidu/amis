{
    "version": 3,
    "file": "App.js",
    "sourceRoot": "",
    "sources": [
        "/src/renderers/App.tsx"
    ],
    "names": [],
    "mappings": "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",
    "sourcesContent": [
        "import React from 'react';\nimport {AsideNav, Html, NotFound, Spinner} from '../components';\nimport Button from '../components/Button';\nimport Layout from '../components/Layout';\nimport {Renderer, RendererProps} from '../factory';\nimport {\n  BaseSchema,\n  SchemaApi,\n  SchemaClassName,\n  SchemaCollection\n} from '../Schema';\nimport {IScopedContext, ScopedContext} from '../Scoped';\nimport {AppStore, IAppStore} from '../store/app';\nimport {Api, SchemaNode} from '../types';\nimport {isApiOutdated, isEffectiveApi} from '../utils/api';\nimport {autobind} from '../utils/helper';\nimport {generateIcon} from '../utils/icon';\n\nexport interface AppPage {\n  /**\n   * 菜单文字\n   */\n  label?: string;\n\n  /**\n   * 菜单图标，比如： fa fa-file\n   */\n  icon?: string;\n\n  /**\n   * 路由规则。比如：/banner/:id。当地址以 / 打头，则不继承上层的路径，否则将集成父级页面的路径。\n   */\n  url?: string;\n\n  /**\n   * 当match url 时跳转到目标地址.没有配置 schema 和 shcemaApi  时有效.\n   */\n  redirect?: string;\n\n  /**\n   * 当match url 转成渲染目标地址的页面.没有配置 schema 和 shcemaApi  时有效.\n   */\n  rewrite?: string;\n\n  /**\n   * 不要出现多个，如果出现多个只有第一个有用。在路由找不到的时候作为默认页面。\n   */\n  isDefaultPage?: boolean;\n\n  /**\n   * 二选一，如果配置了 url 一定要配置。否则不知道如何渲染。\n   */\n  schema?: any;\n  schemaApi?: any;\n\n  /**\n   * 单纯的地址。可以设置外部链接。\n   */\n  link?: string;\n\n  /**\n   * 支持多层级。\n   */\n  children?: Array<AppPage>;\n\n  /**\n   * 菜单上的类名\n   */\n  className?: SchemaClassName;\n\n  /**\n   * 是否在导航中可见，适合于那种需要携带参数才显示的页面。比如具体某个数据的编辑页面。\n   */\n  visible?: boolean;\n\n  /**\n   * 默认是自动，即：自己选中或者有孩子节点选中则展开。\n   * 如果配置成 always 或者配置成 true 则永远展开。\n   * 如果配置成 false 则永远不展开。\n   */\n  // expanded?: 'auto' | 'always' | boolean;\n}\n\n/**\n * App 渲染器，适合 JSSDK 用来做多页渲染。\n * 文档：https://baidu.gitee.io/amis/docs/components/app\n */\nexport interface AppSchema extends BaseSchema {\n  /**\n   * 指定为 app 类型。\n   */\n  type: 'app';\n\n  api?: SchemaApi;\n\n  /**\n   * 系统名称\n   */\n  brandName?: string;\n\n  /**\n   * logo 图片地址，可以是 svg。\n   */\n  logo?: string;\n\n  /**\n   * 顶部区域\n   */\n  header?: SchemaCollection;\n\n  /**\n   * 边栏菜单前面的区域\n   */\n  asideBefore?: SchemaCollection;\n\n  /**\n   * 边栏菜单后面的区域\n   */\n  asideAfter?: SchemaCollection;\n\n  /**\n   * 页面集合。\n   */\n  pages?: Array<AppPage> | AppPage;\n\n  /**\n   * 底部区域。\n   */\n  footer?: SchemaCollection;\n\n  /**\n   * css 类名。\n   */\n  className?: SchemaClassName;\n}\n\nexport interface AppProps\n  extends RendererProps,\n    Omit<AppSchema, 'type' | 'className'> {\n  children?: JSX.Element | ((props?: any) => JSX.Element);\n  store: IAppStore;\n}\n\nexport default class App extends React.Component<AppProps, object> {\n  static propsList: Array<string> = [\n    'brandName',\n    'logo',\n    'header',\n    'asideBefore',\n    'asideAfter',\n    'pages',\n    'footer'\n  ];\n  static defaultProps = {};\n  unWatchRouteChange?: () => void;\n\n  constructor(props: AppProps) {\n    super(props);\n\n    const store = props.store;\n    store.syncProps(props, undefined, ['pages']);\n    store.updateActivePage(props.env);\n\n    if (props.env.watchRouteChange) {\n      this.unWatchRouteChange = props.env.watchRouteChange(() =>\n        store.updateActivePage(props.env)\n      );\n    }\n  }\n\n  async componentDidMount() {\n    this.reload();\n  }\n\n  async componentDidUpdate(prevProps: AppProps) {\n    const props = this.props;\n    const store = props.store;\n\n    store.syncProps(props, prevProps, ['pages']);\n\n    if (isApiOutdated(prevProps.api, props.api, prevProps.data, props.data)) {\n      this.reload();\n    } else if (props.location && props.location !== prevProps.location) {\n      store.updateActivePage(props.env);\n    }\n  }\n\n  componentWillUnmount() {\n    this.unWatchRouteChange?.();\n  }\n\n  async reload(subpath?: any, query?: any, ctx?: any, silent?: boolean) {\n    if (query) {\n      return this.receive(query);\n    }\n\n    const {api, store, env} = this.props;\n\n    if (isEffectiveApi(api, store.data)) {\n      const json = await store.fetchInitData(api, store.data, {});\n      if (json?.data.pages) {\n        store.setPages(json.data.pages);\n        store.updateActivePage(env);\n      }\n    }\n  }\n\n  receive(values: object) {\n    const {store} = this.props;\n\n    store.updateData(values);\n    this.reload();\n  }\n\n  @autobind\n  handleNavClick(e: React.MouseEvent) {\n    e.preventDefault();\n\n    const env = this.props.env;\n    const link = e.currentTarget.getAttribute('href')!;\n    env.jumpTo(link);\n  }\n\n  renderHeader() {\n    const {classnames: cx, brandName, header, render, store, logo} = this.props;\n\n    return (\n      <>\n        <div className={cx('Layout-brandBar')}>\n          <div\n            onClick={store.toggleOffScreen}\n            className={cx('Layout-offScreenBtn')}\n          >\n            <i className=\"bui-icon iconfont icon-collapse\"></i>\n          </div>\n\n          <div className={cx('Layout-brand')}>\n            {logo && ~logo.indexOf('<svg') ? (\n              <Html className={cx('AppLogo-html')} html={logo} />\n            ) : logo ? (\n              <img className={cx('AppLogo')} src={logo} />\n            ) : null}\n            <span className=\"hidden-folded m-l-sm\">{brandName}</span>\n          </div>\n        </div>\n\n        <div className={cx('Layout-headerBar')}>\n          <a\n            onClick={store.toggleFolded}\n            type=\"button\"\n            className={cx('AppFoldBtn')}\n          >\n            <i\n              className={`fa fa-${store.folded ? 'indent' : 'dedent'} fa-fw`}\n            ></i>\n          </a>\n          {header ? render('header', header) : null}\n        </div>\n      </>\n    );\n  }\n\n  renderAside() {\n    const {store, env, asideBefore, asideAfter, render} = this.props;\n\n    return (\n      <>\n        {asideBefore ? render('aside-before', asideBefore) : null}\n        <AsideNav\n          navigations={store.navigations}\n          renderLink={(\n            {link, active, toggleExpand, classnames: cx, depth, subHeader}: any,\n            key: any\n          ) => {\n            let children = [];\n\n            if (link.visible === false) {\n              return null;\n            }\n\n            if (!subHeader && link.children && link.children.length) {\n              children.push(\n                <span\n                  key=\"expand-toggle\"\n                  className={cx('AsideNav-itemArrow')}\n                  onClick={e => toggleExpand(link, e)}\n                ></span>\n              );\n            }\n\n            link.badge &&\n              children.push(\n                <b\n                  key=\"badge\"\n                  className={cx(\n                    `AsideNav-itemBadge`,\n                    link.badgeClassName || 'bg-info'\n                  )}\n                >\n                  {link.badge}\n                </b>\n              );\n\n            if (!subHeader && link.icon) {\n              children.push(generateIcon(cx, link.icon, 'AsideNav-itemIcon'));\n            } else if (store.folded && depth === 1 && !subHeader) {\n              children.push(\n                <i\n                  key=\"icon\"\n                  className={cx(\n                    `AsideNav-itemIcon`,\n                    link.children ? 'fa fa-folder' : 'fa fa-info'\n                  )}\n                />\n              );\n            }\n\n            children.push(\n              <span className={cx('AsideNav-itemLabel')} key=\"label\">\n                {link.label}\n              </span>\n            );\n\n            return link.path ? (\n              /^https?\\:/.test(link.path) ? (\n                <a target=\"_blank\" href={link.path} rel=\"noopener\">\n                  {children}\n                </a>\n              ) : (\n                <a\n                  onClick={this.handleNavClick}\n                  href={link.path || (link.children && link.children[0].path)}\n                >\n                  {children}\n                </a>\n              )\n            ) : (\n              <a onClick={link.children ? () => toggleExpand(link) : undefined}>\n                {children}\n              </a>\n            );\n          }}\n          isActive={(link: any) => !!env.isCurrentUrl(link?.path, link)}\n        />\n        {asideAfter ? render('aside-before', asideAfter) : null}\n      </>\n    );\n  }\n\n  renderFooter() {\n    const {render, footer} = this.props;\n    return footer ? render('footer', footer) : null;\n  }\n\n  render() {\n    const {className, size, classnames: cx, store, render} = this.props;\n\n    return (\n      <Layout\n        header={this.renderHeader()}\n        aside={this.renderAside()}\n        footer={this.renderFooter()}\n        folded={store.folded}\n        offScreen={store.offScreen}\n      >\n        {store.activePage && store.schema ? (\n          <>\n            {store.bcn.length ? (\n              <ul className={cx('AppBcn')}>\n                {store.bcn.map((item: any, index: number) => {\n                  return (\n                    <li key={index} className={cx('AppBcn-item')}>\n                      {item.path ? (\n                        <a href={item.path} onClick={this.handleNavClick}>\n                          {item.label}\n                        </a>\n                      ) : (\n                        item.label\n                      )}\n                    </li>\n                  );\n                })}\n              </ul>\n            ) : null}\n\n            {render('page', store.schema, {\n              key: `${store.activePage?.id}-${store.schemaKey}`,\n              data: store.pageData\n            })}\n          </>\n        ) : store.pages && !store.activePage ? (\n          <NotFound>\n            <div className=\"text-center\">页面不存在</div>\n          </NotFound>\n        ) : null}\n        <Spinner overlay show={store.loading || !store.pages} size=\"lg\" />\n      </Layout>\n    );\n  }\n}\n\n@Renderer({\n  type: 'app',\n  storeType: AppStore.name\n})\nexport class AppRenderer extends App {\n  static contextType = ScopedContext;\n  constructor(props: AppProps, context: IScopedContext) {\n    super(props);\n\n    const scoped = context;\n    scoped.registerComponent(this);\n  }\n\n  componentWillUnmount() {\n    const scoped = this.context as IScopedContext;\n    scoped.unRegisterComponent(this);\n    super.componentWillUnmount();\n  }\n\n  setData(values: object) {\n    return this.props.store.updateData(values);\n  }\n}\n"
    ]
}