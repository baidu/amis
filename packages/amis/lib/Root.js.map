{
    "version": 3,
    "file": "Root.js",
    "sourceRoot": "",
    "sources": [
        "/src/Root.tsx"
    ],
    "names": [],
    "mappings": "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",
    "sourcesContent": [
        "import isPlainObject from 'lodash/isPlainObject';\nimport React from 'react';\nimport Alert from './components/Alert2';\nimport ImageGallery from './components/ImageGallery';\nimport {RendererEnv} from './env';\nimport {RendererProps} from './factory';\nimport {LocaleContext, TranslateFn} from './locale';\nimport {RootRenderer} from './RootRenderer';\nimport {SchemaRenderer} from './SchemaRenderer';\nimport Scoped from './Scoped';\nimport {IRendererStore} from './store';\nimport {ThemeContext} from './theme';\nimport {Schema, SchemaNode} from './types';\nimport getExprProperties from './utils/filter-schema';\nimport {autobind, createObject, isEmpty} from './utils/helper';\nimport {RootStoreContext} from './WithRootStore';\n\nexport interface RootRenderProps {\n  location?: Location;\n  theme?: string;\n  [propName: string]: any;\n}\n\nexport interface RootProps {\n  schema: SchemaNode;\n  rootStore: IRendererStore;\n  env: RendererEnv;\n  theme: string;\n  pathPrefix?: string;\n  locale?: string;\n  translate?: TranslateFn;\n  [propName: string]: any;\n}\n\nexport class Root extends React.Component<RootProps> {\n  @autobind\n  resolveDefinitions(name: string) {\n    const definitions = (this.props.schema as Schema).definitions;\n    if (!name || isEmpty(definitions)) {\n      return {};\n    }\n    return definitions && definitions[name];\n  }\n\n  render() {\n    const {\n      schema,\n      rootStore,\n      env,\n      pathPrefix,\n      location,\n      data,\n      locale,\n      translate,\n      ...rest\n    } = this.props;\n\n    const theme = env.theme;\n    let themeName = this.props.theme || 'cxd';\n    if (themeName === 'default') {\n      themeName = 'cxd';\n    }\n\n    return (\n      <RootStoreContext.Provider value={rootStore}>\n        <ThemeContext.Provider value={themeName}>\n          <LocaleContext.Provider value={this.props.locale!}>\n            <ImageGallery modalContainer={env.getModalContainer}>\n              <RootRenderer\n                pathPrefix={pathPrefix || ''}\n                schema={\n                  isPlainObject(schema)\n                    ? {\n                        type: 'page',\n                        ...(schema as any)\n                      }\n                    : schema\n                }\n                {...rest}\n                rootStore={rootStore}\n                resolveDefinitions={this.resolveDefinitions}\n                location={location}\n                data={data}\n                env={env}\n                classnames={theme.classnames}\n                classPrefix={theme.classPrefix}\n                locale={locale}\n                translate={translate}\n              />\n            </ImageGallery>\n          </LocaleContext.Provider>\n        </ThemeContext.Provider>\n      </RootStoreContext.Provider>\n    );\n  }\n}\n\nexport interface renderChildProps extends Partial<RendererProps> {\n  env: RendererEnv;\n}\nexport type ReactElement = React.ReactNode[] | JSX.Element | null | false;\n\nexport function renderChildren(\n  prefix: string,\n  node: SchemaNode,\n  props: renderChildProps\n): ReactElement {\n  if (Array.isArray(node)) {\n    return node.map((node, index) =>\n      renderChild(`${prefix}/${index}`, node, {\n        ...props,\n        key: `${props.key ? `${props.key}-` : ''}${index}`\n      })\n    );\n  }\n\n  return renderChild(prefix, node, props);\n}\n\nexport function renderChild(\n  prefix: string,\n  node: SchemaNode,\n  props: renderChildProps\n): ReactElement {\n  if (Array.isArray(node)) {\n    return renderChildren(prefix, node, props);\n  }\n\n  const typeofnode = typeof node;\n\n  if (typeofnode === 'undefined' || node === null) {\n    return null;\n  }\n\n  let schema: Schema =\n    typeofnode === 'string' || typeofnode === 'number'\n      ? {type: 'tpl', tpl: String(node)}\n      : (node as Schema);\n\n  const transform = props.propsTransform;\n\n  if (transform) {\n    props = {...props};\n    delete props.propsTransform;\n\n    props = transform(props);\n  }\n\n  return (\n    <SchemaRenderer\n      {...props}\n      schema={schema}\n      propKey={schema.key}\n      $path={`${prefix ? `${prefix}/` : ''}${(schema && schema.type) || ''}`}\n    />\n  );\n}\n\nexport default Scoped(Root);\n"
    ]
}