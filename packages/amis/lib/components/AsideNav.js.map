{
    "version": 3,
    "file": "AsideNav.js",
    "sourceRoot": "",
    "sources": [
        "/src/components/AsideNav.tsx"
    ],
    "names": [],
    "mappings": "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",
    "sourcesContent": [
        "/**\n * @file AsideNav\n * @description 左侧导航。\n * @author fex\n */\n\nimport React from 'react';\nimport {mapTree} from '../utils/helper';\nimport {ClassNamesFn, themeable} from '../theme';\n\nexport type LinkItem = LinkItemProps;\ninterface LinkItemProps {\n  id?: number;\n  label: string;\n  hidden?: boolean;\n  open?: boolean;\n  active?: boolean;\n  className?: string;\n  children?: Array<LinkItem>;\n  path?: string;\n  icon?: string;\n  component?: React.ReactType;\n}\n\nexport interface Navigation {\n  label: string;\n  children?: Array<LinkItem>;\n  prefix?: JSX.Element;\n  affix?: JSX.Element;\n  className?: string;\n  [propName: string]: any;\n}\n\nexport interface AsideNavProps {\n  id?: string;\n  className?: string;\n  classPrefix: string;\n  classnames: ClassNamesFn;\n  renderLink: Function;\n  isActive: Function;\n  isOpen: (link: LinkItemProps) => boolean;\n  navigations: Array<Navigation>;\n  renderSubLinks: (\n    link: LinkItemProps,\n    renderLink: Function,\n    depth: number,\n    props: AsideNavProps\n  ) => React.ReactNode;\n}\n\ninterface AsideNavState {\n  navigations: Array<Navigation>;\n}\n\nexport class AsideNav extends React.Component<AsideNavProps, AsideNavState> {\n  static defaultProps = {\n    renderLink: (item: LinkItemProps) => <a>{item.label}</a>,\n    renderSubLinks: (\n      link: LinkItemProps,\n      renderLink: Function,\n      depth: number,\n      {classnames: cx}: AsideNavProps\n    ) =>\n      link.children && link.children.length ? (\n        <ul className={cx('AsideNav-subList')}>\n          {link.label ? (\n            <li key=\"subHeader\" className={cx('AsideNav-subHeader')}>\n              {renderLink(\n                {\n                  ...link,\n                  children: undefined\n                },\n                'subHeader',\n                {},\n                depth\n              )}\n            </li>\n          ) : null}\n          {link.children.map((link, key) =>\n            renderLink(link, key, {}, depth + 1)\n          )}\n        </ul>\n      ) : link.label && depth === 1 ? (\n        <div className={cx('AsideNav-tooltip')}>{link.label}</div>\n      ) : null,\n    isActive: (link: LinkItem) => link.open,\n    isOpen: (item: LinkItemProps) =>\n      item.children ? item.children.some(item => item.open) : false\n  };\n\n  constructor(props: AsideNavProps) {\n    super(props);\n\n    const isOpen = props.isOpen;\n    let id = 1;\n    this.state = {\n      navigations: mapTree(\n        props.navigations,\n        (item: Navigation) => {\n          const isActive =\n            typeof item.active === 'undefined'\n              ? (props.isActive as Function)(item)\n              : item.active;\n\n          return {\n            ...item,\n            id: id++,\n            active: isActive,\n            open: isActive || isOpen(item as LinkItemProps)\n          };\n        },\n        1,\n        true\n      )\n    };\n\n    this.renderLink = this.renderLink.bind(this);\n    this.toggleExpand = this.toggleExpand.bind(this);\n  }\n\n  componentDidUpdate(prevProps: AsideNavProps) {\n    const props = this.props;\n    const isOpen = prevProps.isOpen;\n\n    if (\n      prevProps.navigations !== props.navigations ||\n      prevProps.isActive !== props.isActive\n    ) {\n      let id = 1;\n      this.setState({\n        navigations: mapTree(\n          props.navigations,\n          (item: Navigation) => {\n            const isActive =\n              typeof item.active === 'undefined'\n                ? (props.isActive as Function)(item)\n                : item.active;\n\n            return {\n              ...item,\n              id: id++,\n              active: isActive,\n              open: isActive || isOpen(item as LinkItemProps)\n            };\n          },\n          1,\n          true\n        )\n      });\n    }\n  }\n\n  toggleExpand(link: LinkItemProps, e?: React.MouseEvent<HTMLElement>) {\n    if (e) {\n      e.stopPropagation();\n      e.preventDefault();\n    }\n\n    this.setState({\n      navigations: mapTree(\n        this.state.navigations,\n        (item: Navigation) => ({\n          ...item,\n          open: link.id === item.id ? !item.open : item.open\n        }),\n        1,\n        true\n      )\n    });\n  }\n\n  renderLink(\n    link: LinkItemProps,\n    key: any,\n    props: Partial<AsideNavProps> = {},\n    depth = 1\n  ): React.ReactNode {\n    const {\n      renderLink,\n      isActive,\n      renderSubLinks,\n      classnames: cx,\n      ...others\n    } = this.props;\n\n    const dom = (renderLink as Function)({\n      link,\n      active: link.active,\n      open: link.open,\n      toggleExpand: this.toggleExpand,\n      depth,\n      classnames: cx,\n      subHeader: key === 'subHeader',\n      ...others\n    });\n\n    if (!dom) {\n      return;\n    } else if (key === 'subHeader') {\n      return React.cloneElement(dom, {\n        key\n      });\n    }\n\n    return (\n      <li\n        {...props}\n        key={key}\n        className={cx(`AsideNav-item`, link.className, {\n          [`is-open`]: link.open,\n          [`is-active`]: link.active\n        })}\n      >\n        {dom}\n        {renderSubLinks(link, this.renderLink, depth, this.props)}\n      </li>\n    );\n  }\n\n  render() {\n    const navigations = this.state.navigations;\n    let links: Array<React.ReactNode> = [];\n    const {className, classnames: cx} = this.props;\n\n    navigations.forEach((navigation, index) => {\n      if (!Array.isArray(navigation.children)) {\n        return;\n      }\n\n      if (navigation.prefix) {\n        const prefix: JSX.Element =\n          typeof navigation.prefix === 'function'\n            ? (navigation.prefix as any)(this.props)\n            : navigation.prefix;\n        links.push(\n          React.cloneElement(prefix, {\n            ...prefix.props,\n            key: `${index}-prefix`\n          })\n        );\n      }\n\n      navigation.label &&\n        links.push(\n          <li\n            key={`${index}-label`}\n            className={cx(`AsideNav-label`, navigation.className)}\n          >\n            <span>{navigation.label}</span>\n          </li>\n        );\n\n      navigation.children.forEach((item, key) => {\n        const link = this.renderLink(item, `${index}-${key}`);\n        link && links.push(link);\n      });\n\n      if (navigation.affix) {\n        const affix: JSX.Element =\n          typeof navigation.affix === 'function'\n            ? (navigation.affix as any)(this.props)\n            : navigation.affix;\n        links.push(\n          React.cloneElement(affix, {\n            ...affix.props,\n            key: `${index}-affix`\n          })\n        );\n      }\n    });\n\n    return (\n      <nav className={cx(`AsideNav`, className)}>\n        <ul className={cx(`AsideNav-list`)}>{links}</ul>\n      </nav>\n    );\n  }\n}\n\nexport default themeable(AsideNav);\n"
    ]
}