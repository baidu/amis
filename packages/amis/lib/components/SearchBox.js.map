{
    "version": 3,
    "file": "SearchBox.js",
    "sourceRoot": "",
    "sources": [
        "/src/components/SearchBox.tsx"
    ],
    "names": [],
    "mappings": "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",
    "sourcesContent": [
        "import React from 'react';\nimport {ThemeProps, themeable} from '../theme';\nimport {Icon} from './icons';\nimport {uncontrollable} from 'uncontrollable';\nimport {autobind} from '../utils/helper';\nimport {LocaleProps, localeable} from '../locale';\nimport debounce from 'lodash/debounce';\n\nexport interface SearchBoxProps extends ThemeProps, LocaleProps {\n  name?: string;\n  disabled?: boolean;\n  mini?: boolean;\n  searchImediately?: boolean;\n  onChange?: (text: string) => void;\n  placeholder?: string;\n  defaultValue?: string;\n  value?: string;\n  active?: boolean;\n  defaultActive?: boolean;\n  onActiveChange?: (active: boolean) => void;\n  onSearch?: (value: string) => void;\n  onCancel?: () => void;\n}\n\nexport class SearchBox extends React.Component<SearchBoxProps> {\n  inputRef: React.RefObject<HTMLInputElement> = React.createRef();\n  static defaultProps = {\n    mini: true,\n    searchImediately: true\n  };\n\n  lazyEmitSearch = debounce(\n    () => {\n      const onSearch = this.props.onSearch;\n      onSearch?.(this.props.value || '');\n    },\n    250,\n    {\n      leading: false,\n      trailing: true\n    }\n  );\n\n  componentWillUnmount() {\n    this.lazyEmitSearch.cancel();\n  }\n\n  @autobind\n  handleActive() {\n    const {onActiveChange} = this.props;\n    onActiveChange?.(true);\n    this.inputRef.current?.focus();\n  }\n\n  @autobind\n  handleCancel() {\n    const {onActiveChange, onCancel, onChange} = this.props;\n    onActiveChange?.(false);\n    onCancel?.();\n    onChange?.('');\n  }\n\n  @autobind\n  handleChange(e: React.ChangeEvent<HTMLInputElement>) {\n    const {searchImediately, onChange} = this.props;\n    onChange?.(e.currentTarget.value);\n    searchImediately && this.lazyEmitSearch();\n  }\n\n  @autobind\n  handleSearch() {\n    const {onSearch, value} = this.props;\n    onSearch?.(value || '');\n  }\n\n  @autobind\n  handleKeyDown(e: React.KeyboardEvent<any>) {\n    if (e.key === 'Enter') {\n      this.handleSearch();\n      e.preventDefault();\n    }\n  }\n\n  render() {\n    const {\n      classnames: cx,\n      active,\n      name,\n      className,\n      disabled,\n      placeholder,\n      mini,\n      value,\n      translate: __\n    } = this.props;\n\n    return (\n      <div\n        className={cx(\n          'SearchBox',\n          className,\n          disabled ? 'is-disabled' : '',\n          !mini || active ? 'is-active' : ''\n        )}\n      >\n        <input\n          name={name}\n          disabled={disabled}\n          onChange={this.handleChange}\n          value={value || ''}\n          placeholder={__(placeholder || 'placeholder.enter')}\n          ref={this.inputRef}\n          autoComplete=\"off\"\n          onKeyDown={this.handleKeyDown}\n        />\n\n        {!mini ? (\n          <a className={cx('SearchBox-searchBtn')} onClick={this.handleSearch}>\n            <Icon icon=\"search\" className=\"icon\" />\n          </a>\n        ) : active ? (\n          <a className={cx('SearchBox-cancelBtn')} onClick={this.handleCancel}>\n            <Icon icon=\"close\" className=\"icon\" />\n          </a>\n        ) : (\n          <a className={cx('SearchBox-activeBtn')} onClick={this.handleActive}>\n            <Icon icon=\"search\" className=\"icon\" />\n          </a>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default themeable(\n  localeable(\n    uncontrollable(SearchBox, {\n      active: 'onActiveChange',\n      value: 'onChange'\n    })\n  )\n);\n"
    ]
}