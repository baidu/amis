{
    "version": 3,
    "file": "YearsView.js",
    "sourceRoot": "",
    "sources": [
        "/src/components/calendar/YearsView.tsx"
    ],
    "names": [],
    "mappings": ";;;;AAAA,+DAA4B;AAC5B,6DAA0B;AAC1B,uCAAqD;AACrD,kEAA+B;AAC/B,6CAAsD;AAgCtD;IAAqC,gDAAqC;IAGxE,yBAAY,KAAU;QAAtB,YACE,kBAAM,KAAK,CAAC,SAUb;QA4ED,gBAAU,GAAG,UAAC,KAAU,EAAE,IAAY,EAAE,IAAoB;YAC1D,OAAO,CACL,8DAAQ,KAAK;gBACX,4CAAO,IAAI,CAAQ,CAChB,CACN,CAAC;QACJ,CAAC,CAAC;QAEF,eAAS,GAAG,UAAC,KAAe;YAC1B,KAAI,CAAC,KAAK,CAAC,SAAS,IAAI,KAAI,CAAC,KAAK,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;QAChE,CAAC,CAAC;QAEF,oBAAc,GAAG,UAAC,KAAe;YAC/B,KAAI,CAAC,QAAQ,CAAC,EAAC,WAAW,EAAE,KAAK,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC;QACzC,CAAC,CAAC;QAEF,sBAAgB,GAAG;YACX,IAAA,KAMF,KAAI,CAAC,KAAK,EALD,EAAE,eAAA,EACb,OAAO,aAAA,EACP,OAAO,aAAA,EACP,YAAY,kBAAA,EACZ,QAAQ,cACI,CAAC;YACf,IAAM,IAAI,GAAG,CAAC,YAAY,IAAI,QAAQ,IAAI,IAAA,gBAAM,GAAE,CAAC,CAAC,IAAI,EAAE,CAAC;YAC3D,IAAM,OAAO,GAAG,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,GAAG,GAAG,CAAC;YAChE,IAAM,OAAO,GAAG,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,GAAG,GAAG,CAAC;YAChE,IAAM,KAAK,GAAG,EAAE,CAAC,gBAAgB,CAAC,CAAC;YAEnC,IAAM,OAAO,GAAG;gBACd;oBACE,OAAO,EAAE,IAAA,iBAAQ,EAAC,OAAO,EAAE,OAAO,EAAE,CAAC,CAAC;iBACvC;aACF,CAAC;YAEF,OAAO,CACL,8BAAC,gBAAM,IACL,SAAS,EAAE,KAAI,CAAC,KAAK,CAAC,SAAS,EAC/B,MAAM,EAAE,KAAI,CAAC,KAAK,CAAC,MAAM,EACzB,KAAK,EAAE,KAAK,EACZ,OAAO,EAAE,OAAO,EAChB,KAAK,EAAE,KAAI,CAAC,KAAK,CAAC,WAAW,EAC7B,SAAS,EAAE,KAAI,CAAC,SAAS,EACzB,QAAQ,EAAE,KAAI,CAAC,cAAc,EAC7B,OAAO,EAAE,KAAI,CAAC,KAAK,CAAC,OAAO,GAC3B,CACH,CAAC;QACJ,CAAC,CAAC;QAnIO,IAAA,YAAY,GAAc,KAAK,aAAnB,EAAE,QAAQ,GAAI,KAAK,SAAT,CAAU;QACvC,IAAM,WAAW,GAAG,YAAY,IAAI,QAAQ,IAAI,IAAA,gBAAM,GAAE,CAAC;QAEzD,KAAI,CAAC,KAAK,GAAG;YACX,WAAW,EAAE,WAAW,CAAC,QAAQ,EAAE,CAAC,KAAK;SAC1C,CAAC;QAEF,KAAI,CAAC,kBAAkB,GAAG,KAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;;IAC/D,CAAC;IAED,qCAAW,GAAX,UAAY,IAAY;QACtB,IAAI,KAAK,GAAG,EAAE,EACZ,CAAC,GAAG,CAAC,CAAC,EACN,IAAI,GAAG,EAAE,EACT,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,EACnD,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,EACtC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,IAAI,IAAI,CAAC,eAAe,EACxD,OAAO,EACP,KAAK,EACL,WAA0B,EAC1B,UAAU,EACV,cAAc,EACd,UAAU,EACV,QAAQ;QACR,6CAA6C;QAC7C,oCAAoC;QACpC,eAAe,GAAG,CAAC,EACnB,cAAc,GAAG,CAAC,CAAC;QACrB,IAAI,EAAE,CAAC;QACP,OAAO,CAAC,GAAG,EAAE,EAAE;YACb,OAAO,GAAG,SAAS,CAAC;YACpB,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ;iBAC9B,KAAK,EAAE;iBACP,GAAG,CAAC,EAAC,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,eAAe,EAAE,IAAI,EAAE,cAAc,EAAC,CAAC,CAAC;YAEnE,cAAc,GAAG,QAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,EAAE,CAAC,CAAC;YACvE,UAAU,GAAG,KAAK,CAAC,IAAI,CAAC,EAAC,MAAM,EAAE,cAAc,EAAC,EAAE,UAAU,CAAC,EAAE,CAAC;gBAC9D,OAAO,CAAC,GAAG,CAAC,CAAC;YACf,CAAC,CAAC,CAAC;YAEH,QAAQ,GAAG,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC;gBACpC,IAAI,GAAG,GAAG,WAAW,CAAC,KAAK,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;gBAC3C,OAAO,OAAO,CAAC,GAAG,CAAC,CAAC;YACtB,CAAC,CAAC,CAAC;YAEH,UAAU,GAAG,QAAQ,KAAK,SAAS,CAAC;YAEpC,IAAI,UAAU;gBAAE,OAAO,IAAI,cAAc,CAAC;YAE1C,IAAI,YAAY,IAAI,YAAY,CAAC,IAAI,EAAE,KAAK,IAAI;gBAAE,OAAO,IAAI,YAAY,CAAC;YAE1E,aAAa;YACb,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE;gBAAE,OAAO,IAAI,aAAa,CAAC;YAEnD,KAAK,GAAG;gBACN,KAAK,EAAE,IAAI;gBACX,YAAY,EAAE,IAAI;gBAClB,WAAW,EAAE,OAAO;aACrB,CAAC;YAEF,IAAI,CAAC,UAAU;gBACZ,KAAa,CAAC,OAAO;oBACpB,IAAI,CAAC,KAAK,CAAC,QAAQ,KAAK,OAAO;wBAC7B,CAAC,CAAC,IAAI,CAAC,kBAAkB;wBACzB,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;YAEzD,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,IAAI,EAAE,YAAY,IAAI,YAAY,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YAExE,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;gBACtB,IAAI,CAAC,IAAI,CAAC,eAAK,CAAC,aAAa,CAAC,IAAI,EAAE,EAAC,GAAG,EAAE,CAAC,EAAC,EAAE,KAAK,CAAC,CAAC,CAAC;gBACtD,KAAK,GAAG,EAAE,CAAC;aACZ;YAED,IAAI,EAAE,CAAC;YACP,CAAC,EAAE,CAAC;SACL;QAED,OAAO,IAAI,CAAC;IACd,CAAC;IAED,4CAAkB,GAAlB,UAAmB,KAAU;QAC3B,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;IACvC,CAAC;IAmDD,yCAAe,GAAf;QACE,OAAO,IAAI,CAAC;IACd,CAAC;IAED,gCAAM,GAAN;QACE,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;QACtC,IAAI,GAAG,IAAI,GAAG,CAAC,IAAI,GAAG,EAAE,CAAC,CAAC;QAC1B,IAAM,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;QAChC,IAAI,IAAA,iBAAQ,GAAE,IAAI,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE;YACxC,OAAO,uCAAK,SAAS,EAAC,UAAU,IAAE,IAAI,CAAC,gBAAgB,EAAE,CAAO,CAAC;SAClE;QACD,OAAO,CACL,uCAAK,SAAS,EAAC,UAAU;YACvB;gBACE;oBACE;wBACE,sCACE,SAAS,EAAC,SAAS,EACnB,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,EAAE,EAAE,OAAO,CAAC,aAG1C;wBACL,sCAAI,SAAS,EAAC,WAAW,IACtB,EAAE,CAAC,cAAc,EAAE,EAAC,IAAI,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,GAAG,CAAC,EAAC,CAAC,CAC5C;wBACL,sCAAI,SAAS,EAAC,SAAS,EAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,EAAE,OAAO,CAAC,aAE3D,CACF,CACC,CACF;YACR;gBACE,6CAAQ,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAS,CACjC,CACJ,CACP,CAAC;IACJ,CAAC;IACH,sBAAC;AAAD,CAAC,AAhLD,CAAqC,eAAK,CAAC,SAAS,GAgLnD;AAhLY,0CAAe;AAkL5B,kBAAe,IAAA,mBAAU,EAAC,eAAsB,CAAC,CAAC",
    "sourcesContent": [
        "import moment from 'moment';\nimport React from 'react';\nimport {LocaleProps, localeable} from '../../locale';\nimport Picker from '../Picker';\nimport {getRange, isMobile} from '../../utils/helper';\n\ninterface CustomYearsViewProps extends LocaleProps {\n  viewDate: moment.Moment;\n  selectedDate: moment.Moment;\n  subtractTime: (\n    amount: number,\n    type: string,\n    toSelected?: moment.Moment\n  ) => () => void;\n  addTime: (\n    amount: number,\n    type: string,\n    toSelected?: moment.Moment\n  ) => () => void;\n  showView: (view: string) => () => void;\n  minDate?: moment.Moment;\n  maxDate?: moment.Moment;\n  onChange?: () => void;\n  onClose?: () => void;\n  onConfirm?: (value: number[], types: string[]) => void;\n  useMobileUI: boolean;\n  updateOn?: string;\n  setDate?: (date: string) => void;\n  renderYear?: (props: any, year: number) => JSX.Element;\n  updateSelectedDate: (event: React.MouseEvent<any>, close?: boolean) => void;\n  isValidDate?: (\n    currentDate: moment.Moment,\n    selected?: moment.Moment\n  ) => boolean;\n}\n\nexport class CustomYearsView extends React.Component<CustomYearsViewProps> {\n  state: {pickerValue: number[]};\n\n  constructor(props: any) {\n    super(props);\n\n    const {selectedDate, viewDate} = props;\n    const currentDate = selectedDate || viewDate || moment();\n\n    this.state = {\n      pickerValue: currentDate.toObject().years\n    };\n\n    this.updateSelectedYear = this.updateSelectedYear.bind(this);\n  }\n\n  renderYears(year: number) {\n    let years = [],\n      i = -1,\n      rows = [],\n      renderer = this.props.renderYear || this.renderYear,\n      selectedDate = this.props.selectedDate,\n      isValid = this.props.isValidDate || this.alwaysValidDate,\n      classes,\n      props,\n      currentYear: moment.Moment,\n      isDisabled,\n      noOfDaysInYear,\n      daysInYear,\n      validDay,\n      // Month and date are irrelevant here because\n      // we're only interested in the year\n      irrelevantMonth = 0,\n      irrelevantDate = 1;\n    year--;\n    while (i < 11) {\n      classes = 'rdtYear';\n      currentYear = this.props.viewDate\n        .clone()\n        .set({year: year, month: irrelevantMonth, date: irrelevantDate});\n\n      noOfDaysInYear = parseInt(currentYear.endOf('year').format('DDD'), 10);\n      daysInYear = Array.from({length: noOfDaysInYear}, function (e, i) {\n        return i + 1;\n      });\n\n      validDay = daysInYear.find(function (d) {\n        var day = currentYear.clone().dayOfYear(d);\n        return isValid(day);\n      });\n\n      isDisabled = validDay === undefined;\n\n      if (isDisabled) classes += ' rdtDisabled';\n\n      if (selectedDate && selectedDate.year() === year) classes += ' rdtActive';\n\n      // 第一个和最后一个置灰\n      if (i === -1 || i === 10) classes += ' text-muted';\n\n      props = {\n        'key': year,\n        'data-value': year,\n        'className': classes\n      };\n\n      if (!isDisabled)\n        (props as any).onClick =\n          this.props.updateOn === 'years'\n            ? this.updateSelectedYear\n            : this.props.setDate && this.props.setDate('year');\n\n      years.push(renderer(props, year, selectedDate && selectedDate.clone()));\n\n      if (years.length === 4) {\n        rows.push(React.createElement('tr', {key: i}, years));\n        years = [];\n      }\n\n      year++;\n      i++;\n    }\n\n    return rows;\n  }\n\n  updateSelectedYear(event: any) {\n    this.props.updateSelectedDate(event);\n  }\n\n  renderYear = (props: any, year: number, date?: moment.Moment) => {\n    return (\n      <td {...props}>\n        <span>{year}</span>\n      </td>\n    );\n  };\n\n  onConfirm = (value: number[]) => {\n    this.props.onConfirm && this.props.onConfirm(value, ['year']);\n  };\n\n  onPickerChange = (value: number[]) => {\n    this.setState({pickerValue: value[0]});\n  };\n\n  renderYearPicker = () => {\n    const {\n      translate: __,\n      minDate,\n      maxDate,\n      selectedDate,\n      viewDate\n    } = this.props;\n    const year = (selectedDate || viewDate || moment()).year();\n    const maxYear = maxDate ? maxDate.toObject().years : year + 100;\n    const minYear = minDate ? minDate.toObject().years : year - 100;\n    const title = __('Date.titleYear');\n\n    const columns = [\n      {\n        options: getRange(minYear, maxYear, 1)\n      }\n    ];\n\n    return (\n      <Picker\n        translate={this.props.translate}\n        locale={this.props.locale}\n        title={title}\n        columns={columns}\n        value={this.state.pickerValue}\n        onConfirm={this.onConfirm}\n        onChange={this.onPickerChange}\n        onClose={this.props.onClose}\n      />\n    );\n  };\n\n  alwaysValidDate() {\n    return true;\n  }\n\n  render() {\n    let year = this.props.viewDate.year();\n    year = year - (year % 10);\n    const __ = this.props.translate;\n    if (isMobile() && this.props.useMobileUI) {\n      return <div className=\"rdtYears\">{this.renderYearPicker()}</div>;\n    }\n    return (\n      <div className=\"rdtYears\">\n        <table>\n          <thead>\n            <tr>\n              <th\n                className=\"rdtPrev\"\n                onClick={this.props.subtractTime(10, 'years')}\n              >\n                &laquo;\n              </th>\n              <th className=\"rdtSwitch\">\n                {__('year-to-year', {from: year, to: year + 9})}\n              </th>\n              <th className=\"rdtNext\" onClick={this.props.addTime(10, 'years')}>\n                &raquo;\n              </th>\n            </tr>\n          </thead>\n        </table>\n        <table>\n          <tbody>{this.renderYears(year)}</tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nexport default localeable(CustomYearsView as any);\n"
    ]
}