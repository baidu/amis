{
    "version": 3,
    "file": "InputBoxWithSuggestion.js",
    "sourceRoot": "",
    "sources": [
        "/src/components/InputBoxWithSuggestion.tsx"
    ],
    "names": [],
    "mappings": "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",
    "sourcesContent": [
        "import React from 'react';\nimport {findDOMNode} from 'react-dom';\nimport {localeable, LocaleProps} from '../locale';\nimport {themeable, ThemeProps} from '../theme';\n// @ts-ignore\nimport {matchSorter} from 'match-sorter';\nimport PopOverContainer from './PopOverContainer';\nimport SearchBox from './SearchBox';\nimport ListSelection from './GroupedSelection';\nimport InputBox from './InputBox';\nimport {Icon} from './icons';\n\nexport interface InputBoxWithSuggestionProps extends ThemeProps, LocaleProps {\n  options: Array<any>;\n  value: any;\n  onChange: (value: any) => void;\n  disabled?: boolean;\n  searchable?: boolean;\n  popOverContainer?: any;\n  hasError?: boolean;\n  placeholder?: string;\n  clearable?: boolean;\n}\n\nconst option2value = (item: any) => item.value;\n\nexport class InputBoxWithSuggestion extends React.Component<InputBoxWithSuggestionProps> {\n  constructor(props: InputBoxWithSuggestionProps) {\n    super(props);\n    this.state = {\n      searchText: ''\n    };\n    this.onSearch = this.onSearch.bind(this);\n    this.filterOptions = this.filterOptions.bind(this);\n  }\n\n  onSearch(text: string) {\n    let txt = text.toLowerCase();\n\n    this.setState({searchText: txt});\n  }\n\n  filterOptions(options: any[]) {\n    return matchSorter(options, this.props.value, {\n      keys: ['label', 'value']\n    });\n  }\n\n  // 选了值，还原options\n  onPopClose(e: React.MouseEvent, onClose: () => void) {\n    this.setState({searchText: ''});\n    onClose();\n  }\n\n  render() {\n    const {\n      placeholder,\n      onChange,\n      value,\n      classnames: cx,\n      disabled,\n      translate: __,\n      searchable,\n      popOverContainer,\n      clearable,\n      hasError\n    } = this.props;\n    const options = this.filterOptions(this.props.options);\n\n    return (\n      <PopOverContainer\n        popOverContainer={popOverContainer || (() => findDOMNode(this))}\n        popOverRender={({onClose}) => (\n          <>\n            {searchable ? (\n              <SearchBox mini={false} onSearch={this.onSearch} />\n            ) : null}\n            <ListSelection\n              multiple={false}\n              onClick={e => this.onPopClose(e, onClose)}\n              options={options}\n              value={[value]}\n              option2value={option2value}\n              onChange={(value: any) => {\n                onChange?.(value);\n              }}\n            />\n          </>\n        )}\n      >\n        {({onClick, ref, isOpened}) => (\n          <InputBox\n            className={cx('InputBox--sug', isOpened ? 'is-active' : '')}\n            ref={ref}\n            placeholder={placeholder}\n            disabled={disabled}\n            value={options.find(o => o.value === value)?.label ?? value}\n            onChange={onChange}\n            clearable={clearable}\n            onClick={onClick}\n            hasError={hasError}\n          >\n            <span className={cx('InputBox-caret')}>\n              <Icon icon=\"caret\" className=\"icon\" />\n            </span>\n          </InputBox>\n        )}\n      </PopOverContainer>\n    );\n  }\n}\n\nexport default themeable(localeable(InputBoxWithSuggestion));\n"
    ]
}