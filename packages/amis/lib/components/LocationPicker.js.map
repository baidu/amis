{
    "version": 3,
    "file": "LocationPicker.js",
    "sourceRoot": "",
    "sources": [
        "/src/components/LocationPicker.tsx"
    ],
    "names": [],
    "mappings": "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",
    "sourcesContent": [
        "import React from 'react';\nimport {themeable, ClassNamesFn, ThemeProps} from '../theme';\nimport Overlay from './Overlay';\nimport PopOver from './PopOver';\nimport {Icon} from './icons';\nimport {autobind} from '../utils/helper';\nimport Alert2 from './Alert2';\nimport BaiduMapPicker from './BaiduMapPicker';\nimport {LocaleProps, localeable} from '../locale';\n\nexport interface LocationProps extends ThemeProps, LocaleProps {\n  vendor: 'baidu' | 'gaode' | 'tenxun';\n  coordinatesType: 'bd09' | 'gcj02';\n  placeholder: string;\n  clearable: boolean;\n  ak: string;\n  value?: {\n    address: string;\n    lat: number;\n    lng: number;\n    city?: string;\n  };\n  disabled?: boolean;\n  className?: string;\n  popoverClassName?: string;\n  onChange: (value: any) => void;\n  popOverContainer?: any;\n}\n\nexport interface LocationState {\n  isFocused: boolean;\n  isOpened: boolean;\n}\n\nexport class LocationPicker extends React.Component<\n  LocationProps,\n  LocationState\n> {\n  static defaultProps = {\n    placeholder: 'LocationPicker.placeholder',\n    clearable: false\n  };\n  domRef: React.RefObject<HTMLDivElement> = React.createRef();\n  state = {\n    isFocused: false,\n    isOpened: false\n  };\n\n  @autobind\n  handleKeyPress(e: React.KeyboardEvent) {\n    if (e.key === ' ') {\n      this.handleClick();\n      e.preventDefault();\n    }\n  }\n\n  @autobind\n  handleFocus() {\n    this.setState({\n      isFocused: true\n    });\n  }\n\n  @autobind\n  handleBlur() {\n    this.setState({\n      isFocused: true\n    });\n  }\n\n  @autobind\n  handleClick() {\n    this.state.isOpened ? this.close() : this.open();\n  }\n\n  @autobind\n  getTarget() {\n    return this.domRef.current;\n  }\n\n  @autobind\n  getParent() {\n    return this.domRef.current?.parentElement;\n  }\n\n  @autobind\n  open(fn?: () => void) {\n    this.props.disabled ||\n      this.setState(\n        {\n          isOpened: true\n        },\n        fn\n      );\n  }\n\n  @autobind\n  close() {\n    this.setState({\n      isOpened: false\n    });\n  }\n\n  @autobind\n  clearValue(e: React.MouseEvent<any>) {\n    e.preventDefault();\n    e.stopPropagation();\n    const onChange = this.props.onChange;\n    onChange('');\n  }\n\n  @autobind\n  handlePopOverClick(e: React.MouseEvent<any>) {\n    e.stopPropagation();\n    e.preventDefault();\n  }\n\n  @autobind\n  handleChange(value: any) {\n    if (value) {\n      value = {\n        ...value,\n        vendor: this.props.vendor\n      };\n    }\n    this.props.onChange(value);\n  }\n\n  render() {\n    const {\n      classnames: cx,\n      value,\n      className,\n      popoverClassName,\n      disabled,\n      placeholder,\n      clearable,\n      popOverContainer,\n      vendor,\n      coordinatesType,\n      ak\n    } = this.props;\n    const __ = this.props.translate;\n    const {isFocused, isOpened} = this.state;\n\n    return (\n      <div\n        tabIndex={0}\n        onKeyPress={this.handleKeyPress}\n        onFocus={this.handleFocus}\n        onBlur={this.handleBlur}\n        className={cx(\n          `LocationPicker`,\n          {\n            'is-disabled': disabled,\n            'is-focused': isFocused,\n            'is-active': isOpened\n          },\n          className\n        )}\n        ref={this.domRef}\n        onClick={this.handleClick}\n      >\n        {value ? (\n          <span className={cx('LocationPicker-value')}>{value.address}</span>\n        ) : (\n          <span className={cx('LocationPicker-placeholder')}>\n            {__(placeholder)}\n          </span>\n        )}\n\n        {clearable && !disabled && value ? (\n          <a className={cx('LocationPicker-clear')} onClick={this.clearValue}>\n            <Icon icon=\"input-clear\" className=\"icon\" />\n          </a>\n        ) : null}\n\n        <a className={cx('LocationPicker-toggler')}>\n          <Icon icon=\"location\" className=\"icon\" />\n        </a>\n\n        <Overlay\n          target={this.getTarget}\n          container={popOverContainer || this.getParent}\n          rootClose={false}\n          show={isOpened}\n        >\n          <PopOver\n            className={cx('LocationPicker-popover', popoverClassName)}\n            onHide={this.close}\n            overlay\n            onClick={this.handlePopOverClick}\n            style={{width: this.getTarget()?.offsetWidth}}\n          >\n            {vendor === 'baidu' ? (\n              <BaiduMapPicker\n                ak={ak}\n                value={value}\n                coordinatesType={coordinatesType}\n                onChange={this.handleChange}\n              />\n            ) : (\n              <Alert2>{__('${vendor} 地图控件不支持', {vendor})}</Alert2>\n            )}\n          </PopOver>\n        </Overlay>\n      </div>\n    );\n  }\n}\n\nconst ThemedCity = themeable(localeable(LocationPicker));\nexport default ThemedCity;\n"
    ]
}