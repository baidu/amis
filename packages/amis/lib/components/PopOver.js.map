{
    "version": 3,
    "file": "PopOver.js",
    "sourceRoot": "",
    "sources": [
        "/src/components/PopOver.tsx"
    ],
    "names": [],
    "mappings": "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",
    "sourcesContent": [
        "/**\n * @file PopOver\n * @description\n * @author fex\n */\n\nimport React from 'react';\nimport {findDOMNode} from 'react-dom';\nimport {ClassNamesFn, themeable} from '../theme';\nimport {camel, preventDefault} from '../utils/helper';\n\nexport interface Offset {\n  x: number;\n  y: number;\n}\n\nexport interface PopOverPorps {\n  className?: string;\n  placement?: string;\n  positionTop?: number;\n  positionLeft?: number;\n  arrowOffsetLeft?: number;\n  arrowOffsetTop?: number;\n  offset?: ((clip: object, offset: object) => Offset) | Offset;\n  style?: object;\n  overlay?: boolean;\n  onHide?: () => void;\n  onClick?: (e: React.MouseEvent<any>) => void;\n  classPrefix: string;\n  classnames: ClassNamesFn;\n  [propName: string]: any;\n}\n\ninterface PopOverState {\n  xOffset: number;\n  yOffset: number;\n}\n\nexport class PopOver extends React.PureComponent<PopOverPorps, PopOverState> {\n  static defaultProps = {\n    className: '',\n    offset: {\n      x: 0,\n      y: 0\n    },\n    overlay: false,\n    placement: 'auto'\n  };\n\n  state = {\n    xOffset: 0,\n    yOffset: 0\n  };\n\n  parent: HTMLElement;\n  wrapperRef: React.RefObject<HTMLDivElement> = React.createRef();\n\n  componentDidMount() {\n    this.mayUpdateOffset();\n    const dom = findDOMNode(this) as HTMLElement;\n    this.parent = dom.parentNode as HTMLElement;\n    this.parent.classList.add('has-popover');\n\n    if (this.wrapperRef && this.wrapperRef.current) {\n      // https://developer.mozilla.org/zh-CN/docs/Web/API/EventTarget/addEventListener#使用_passive_改善的滚屏性能\n      this.wrapperRef.current.addEventListener('touchmove', preventDefault, {\n        passive: false,\n        capture: false\n      });\n    }\n  }\n\n  componentDidUpdate() {\n    this.mayUpdateOffset();\n  }\n\n  componentWillUnmount() {\n    this.parent && this.parent.classList.remove('has-popover');\n\n    if (this.wrapperRef && this.wrapperRef.current) {\n      this.wrapperRef.current.removeEventListener('touchmove', preventDefault);\n    }\n  }\n\n  mayUpdateOffset() {\n    let offset: Offset;\n    let getOffset = this.props.offset;\n\n    if (getOffset && typeof getOffset === 'function') {\n      const {placement, positionTop: y, positionLeft: x} = this.props;\n\n      offset = getOffset(\n        (findDOMNode(this) as HTMLElement).getBoundingClientRect(),\n        {\n          x,\n          y,\n          placement\n        }\n      );\n    } else {\n      offset = getOffset as Offset;\n    }\n    this.setState({\n      xOffset: offset && offset.x ? (offset as Offset).x : 0,\n      yOffset: offset && offset.y ? (offset as Offset).y : 0\n    });\n  }\n\n  render() {\n    const {\n      placement,\n      activePlacement,\n      positionTop,\n      positionLeft,\n      arrowOffsetLeft,\n      arrowOffsetTop,\n      style,\n      children,\n      offset,\n      overlay,\n      onHide,\n      classPrefix: ns,\n      classnames: cx,\n      className,\n      ...rest\n    } = this.props;\n\n    const {xOffset, yOffset} = this.state;\n    const outerStyle = {\n      display: 'block',\n      ...style,\n      top: (positionTop as number) + yOffset,\n      left: (positionLeft as number) + xOffset\n    };\n\n    return (\n      <div\n        ref={this.wrapperRef}\n        className={cx(\n          `${ns}PopOver`,\n          className,\n          `${ns}PopOver--${camel(activePlacement)}`\n        )}\n        style={outerStyle}\n        {...rest}\n      >\n        {overlay ? (\n          <div className={`${ns}PopOver-overlay`} onClick={onHide} />\n        ) : null}\n        {children}\n      </div>\n    );\n  }\n}\n\nexport default themeable(PopOver);\n"
    ]
}