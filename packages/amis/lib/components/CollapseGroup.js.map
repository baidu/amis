{
    "version": 3,
    "file": "CollapseGroup.js",
    "sourceRoot": "",
    "sources": [
        "/src/components/CollapseGroup.tsx"
    ],
    "names": [],
    "mappings": "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",
    "sourcesContent": [
        "/**\n * @file CollapseGroup\n * @description 折叠面板group\n * @author hongyang03\n */\n\nimport React from 'react';\nimport {CollapseProps} from '../renderers/Collapse';\nimport {SchemaNode} from '../types';\nimport {ClassNamesFn, themeable} from '../theme';\n\nexport interface CollapseGroupProps {\n  defaultActiveKey?: Array<string | number | never> | string | number;\n  accordion?: boolean;\n  expandIcon?: SchemaNode;\n  expandIconPosition?: 'left' | 'right';\n  body?: Array<React.ReactElement>;\n  className?: string;\n  classnames: ClassNamesFn;\n  classPrefix: string;\n}\n\nexport interface CollapseGroupState {\n  activeKey: Array<string | number | never>;\n}\n\nclass CollapseGroup extends React.Component<\n  CollapseGroupProps,\n  CollapseGroupState\n> {\n  static defaultProps: Partial<CollapseGroupProps> = {\n    className: '',\n    accordion: false,\n    expandIconPosition: 'left'\n  };\n\n  constructor(props: CollapseGroupProps) {\n    super(props);\n\n    // 传入的activeKey会被自动转换为defaultActiveKey\n    let activeKey = props.defaultActiveKey;\n    if (!Array.isArray(activeKey)) {\n      activeKey = activeKey ? [activeKey] : [];\n    }\n    if (props.accordion) {\n      // 手风琴模式下只展开第一个元素\n      activeKey = activeKey.length ? [activeKey[0]] : [];\n    }\n\n    this.state = {\n      activeKey: activeKey.map((key: number | string) => String(key))\n    };\n  }\n\n  collapseChange(item: CollapseProps, collapsed: boolean) {\n    let activeKey = this.state.activeKey;\n    if (collapsed) {\n      if (this.props.accordion) {\n        activeKey = [];\n      } else {\n        for (let i = 0; i < activeKey.length; i++) {\n          if (activeKey[i] === item.id) {\n            activeKey.splice(i, 1);\n            break;\n          }\n        }\n      }\n    } else {\n      if (this.props.accordion) {\n        activeKey = [item.id as string];\n      } else {\n        activeKey.push(item.id as string);\n      }\n    }\n    this.setState({\n      activeKey\n    });\n  }\n\n  getItems = (children: React.ReactNode) => {\n    if (!Array.isArray(children)) {\n      return children;\n    }\n\n    return children.map((child: React.ReactElement, index: number) => {\n      let props = child.props;\n\n      const id = props.propKey || String(index);\n      const collapsed = this.state.activeKey.indexOf(id) === -1;\n\n      return React.cloneElement(child as any, {\n        ...props,\n        key: id,\n        id,\n        collapsed,\n        expandIcon: this.props.expandIcon,\n        propsUpdate: true,\n        onCollapse: (item: CollapseProps, collapsed: boolean) =>\n          this.collapseChange(item, collapsed)\n      });\n    });\n  };\n\n  render() {\n    const {\n      classnames: cx,\n      className,\n      expandIconPosition,\n      children\n    } = this.props;\n\n    return (\n      <div\n        className={cx(\n          `CollapseGroup`,\n          {\n            'icon-position-right': expandIconPosition === 'right'\n          },\n          className\n        )}\n      >\n        {this.getItems(children)}\n      </div>\n    );\n  }\n}\n\nexport default themeable(CollapseGroup);\n"
    ]
}