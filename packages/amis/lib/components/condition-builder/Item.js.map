{
    "version": 3,
    "file": "Item.js",
    "sourceRoot": "",
    "sources": [
        "/src/components/condition-builder/Item.tsx"
    ],
    "names": [],
    "mappings": "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",
    "sourcesContent": [
        "import React from 'react';\nimport {findDOMNode} from 'react-dom';\nimport {\n  Fields,\n  ConditionRule,\n  ConditionGroupValue,\n  Funcs,\n  ExpressionFunc,\n  Func,\n  Field,\n  FieldSimple,\n  ExpressionField,\n  OperatorType,\n  ExpressionComplex\n} from './types';\nimport {ThemeProps, themeable} from '../../theme';\nimport {Icon} from '../icons';\nimport {autobind, findTree, noop} from '../../utils/helper';\nimport Expression from './Expression';\nimport {Config, OperationMap} from './config';\nimport PopOverContainer from '../PopOverContainer';\nimport GroupedSelection from '../GroupedSelection';\nimport ResultBox from '../ResultBox';\nimport {localeable, LocaleProps} from '../../locale';\nimport {FormulaPickerProps} from '../formula/Picker';\nimport {PlainObject} from '../../types';\n\nconst option2value = (item: any) => item.value;\n\nexport interface ConditionItemProps extends ThemeProps, LocaleProps {\n  config: Config;\n  fields: Fields;\n  funcs?: Funcs;\n  index?: number;\n  value: ConditionRule;\n  data?: any;\n  disabled?: boolean;\n  searchable?: boolean;\n  onChange: (value: ConditionRule, index?: number) => void;\n  fieldClassName?: string;\n  formula?: FormulaPickerProps;\n  popOverContainer?: any;\n  renderEtrValue?: any;\n}\n\nexport class ConditionItem extends React.Component<ConditionItemProps> {\n  @autobind\n  handleLeftFieldSelect(field: any) {\n    const value = {...this.props.value};\n    const onChange = this.props.onChange;\n    value.left = field;\n    onChange(value, this.props.index);\n  }\n\n  @autobind\n  handleLeftInputTypeChange(type: 'func' | 'field') {\n    const value = {...this.props.value};\n    const onChange = this.props.onChange;\n\n    if (type === 'func') {\n      value.left = {type: 'func'};\n    } else {\n      value.left = '';\n    }\n\n    onChange(value, this.props.index);\n  }\n\n  @autobind\n  handleLeftChange(leftValue: any) {\n    const value = {\n      ...this.props.value,\n      left: leftValue,\n      op: undefined,\n      right: undefined\n    };\n    const onChange = this.props.onChange;\n\n    onChange(value, this.props.index);\n  }\n\n  @autobind\n  handleOperatorChange(op: OperatorType) {\n    const value = {...this.props.value, op: op, right: undefined};\n    this.props.onChange(value, this.props.index);\n  }\n\n  @autobind\n  handleRightChange(rightValue: any) {\n    const value = {...this.props.value, right: rightValue};\n    const onChange = this.props.onChange;\n\n    onChange(value, this.props.index);\n  }\n\n  handleRightSubChange(\n    isCustom: boolean,\n    index: number | string,\n    rightValue: any\n  ) {\n    let origin;\n    if (isCustom) {\n      origin = Object.assign({}, this.props.value?.right) as PlainObject;\n      origin[index] = rightValue;\n    } else {\n      origin = Array.isArray(this.props.value?.right)\n        ? this.props.value.right.concat()\n        : [];\n      origin[index as number] = rightValue;\n    }\n\n    const value = {...this.props.value, right: origin};\n    const onChange = this.props.onChange;\n\n    onChange(value, this.props.index);\n  }\n\n  renderLeft() {\n    const {\n      value,\n      fields,\n      funcs,\n      config,\n      disabled,\n      fieldClassName,\n      searchable,\n      popOverContainer\n    } = this.props;\n    return (\n      <Expression\n        config={config}\n        funcs={funcs}\n        value={value.left}\n        fieldClassName={fieldClassName}\n        onChange={this.handleLeftChange}\n        fields={fields}\n        disabled={disabled}\n        searchable={searchable}\n        popOverContainer={popOverContainer}\n        allowedTypes={\n          ['field', 'func'].filter(\n            type => type === 'field' || type === 'func'\n          ) as any\n        }\n      />\n    );\n  }\n\n  renderOperator() {\n    const {\n      funcs,\n      config,\n      fields,\n      value,\n      classnames: cx,\n      disabled,\n      popOverContainer\n    } = this.props;\n    const left = value?.left;\n    let operators: any[] = [];\n\n    if ((left as ExpressionFunc)?.type === 'func') {\n      const func: Func = findTree(\n        funcs!,\n        (i: Func) => i.type === (left as ExpressionFunc).func\n      ) as Func;\n\n      if (func) {\n        operators = config.types[func.returnType]?.operators;\n      }\n    } else if ((left as ExpressionField)?.type === 'field') {\n      const field: FieldSimple = findTree(\n        fields,\n        (i: FieldSimple) => i.name === (left as ExpressionField).field\n      ) as FieldSimple;\n\n      if (field) {\n        operators = field.operators || config.types[field.type]?.operators;\n      }\n    }\n\n    if (Array.isArray(operators) && operators.length) {\n      const __ = this.props.translate;\n      const options = operators.map(operator => {\n        if (typeof operator === 'string') {\n          return {\n            label: __(OperationMap[operator as keyof typeof OperationMap]),\n            value: operator\n          };\n        } else {\n          return operator;\n        }\n      });\n      return (\n        <PopOverContainer\n          popOverContainer={popOverContainer || (() => findDOMNode(this))}\n          popOverRender={({onClose}) => (\n            <GroupedSelection\n              onClick={onClose}\n              option2value={option2value}\n              onChange={this.handleOperatorChange}\n              options={options}\n              value={value.op}\n              multiple={false}\n            />\n          )}\n        >\n          {({onClick, isOpened, ref}) => (\n            <div className={cx('CBGroup-operator')}>\n              <ResultBox\n                className={cx(\n                  'CBGroup-operatorInput',\n                  isOpened ? 'is-active' : ''\n                )}\n                ref={ref}\n                allowInput={false}\n                result={\n                  __(OperationMap[value?.op as keyof typeof OperationMap]) ||\n                  options.find(option => option.value === value.op)?.label\n                }\n                onResultChange={noop}\n                onResultClick={onClick}\n                disabled={disabled}\n                placeholder={__('Condition.cond_placeholder')}\n              >\n                <span className={cx('CBGroup-operatorCaret')}>\n                  <Icon icon=\"caret\" className=\"icon\" />\n                </span>\n              </ResultBox>\n            </div>\n          )}\n        </PopOverContainer>\n      );\n    }\n\n    return null;\n  }\n\n  renderRight() {\n    const {value, funcs, fields} = this.props;\n\n    if (!value?.op) {\n      return null;\n    }\n\n    const left = value?.left;\n    let leftType = '';\n\n    if ((left as ExpressionFunc)?.type === 'func') {\n      const func: Func = findTree(\n        funcs!,\n        (i: Func) => i.type === (left as ExpressionFunc).func\n      ) as Func;\n\n      if (func) {\n        leftType = func.returnType;\n      }\n    } else if ((left as ExpressionField)?.type === 'field') {\n      const field: FieldSimple = findTree(\n        fields,\n        (i: FieldSimple) => i.name === (left as ExpressionField).field\n      ) as FieldSimple;\n\n      if (field) {\n        leftType = field.type;\n      }\n    }\n\n    if (leftType) {\n      return this.renderRightWidgets(leftType, value.op!);\n    }\n\n    return null;\n  }\n\n  renderRightWidgets(type: string, op: OperatorType) {\n    const {\n      funcs,\n      value,\n      data,\n      fields,\n      config,\n      classnames: cx,\n      disabled,\n      formula,\n      popOverContainer,\n      renderEtrValue\n    } = this.props;\n    let field = {\n      ...config.types[type],\n      type\n    } as FieldSimple;\n\n    let option;\n\n    if ((value?.left as ExpressionField)?.type === 'field') {\n      const leftField: FieldSimple = findTree(\n        fields,\n        (i: FieldSimple) => i.name === (value?.left as ExpressionField).field\n      ) as FieldSimple;\n\n      if (leftField) {\n        field = {\n          ...field,\n          ...leftField\n        };\n        option = field.operators?.find(\n          option => typeof option !== 'string' && option?.value === op\n        );\n      }\n    }\n\n    if (op === 'is_empty' || op === 'is_not_empty') {\n      return null;\n    } else if (op === 'between' || op === 'not_between') {\n      return (\n        <>\n          <Expression\n            config={config}\n            funcs={funcs}\n            valueField={field}\n            value={(value.right as Array<ExpressionComplex>)?.[0]}\n            data={data}\n            onChange={this.handleRightSubChange.bind(this, false, 0)}\n            fields={fields}\n            allowedTypes={\n              field?.valueTypes ||\n              config.valueTypes || ['value', 'field', 'func', 'formula']\n            }\n            disabled={disabled}\n            formula={formula}\n            popOverContainer={popOverContainer}\n            renderEtrValue={renderEtrValue}\n          />\n\n          <span className={cx('CBSeprator')}>~</span>\n\n          <Expression\n            config={config}\n            funcs={funcs}\n            valueField={field}\n            value={(value.right as Array<ExpressionComplex>)?.[1]}\n            data={data}\n            onChange={this.handleRightSubChange.bind(this, false, 1)}\n            fields={fields}\n            allowedTypes={\n              field?.valueTypes ||\n              config.valueTypes || ['value', 'field', 'func', 'formula']\n            }\n            disabled={disabled}\n            formula={formula}\n            popOverContainer={popOverContainer}\n            renderEtrValue={renderEtrValue}\n          />\n        </>\n      );\n    } else if (option && typeof option !== 'string' && option.values) {\n      return option.values.map((schema, i) => {\n        return (\n          <span key={i}>\n            <Expression\n              config={config}\n              op={op}\n              funcs={funcs}\n              valueField={schema}\n              value={value.right}\n              data={data}\n              onChange={this.handleRightSubChange.bind(this, true, schema.name)}\n              fields={fields}\n              allowedTypes={\n                field?.valueTypes ||\n                config.valueTypes || ['value', 'field', 'func', 'formula']\n              }\n              disabled={disabled}\n              formula={formula}\n              popOverContainer={popOverContainer}\n              renderEtrValue={renderEtrValue}\n            />\n          </span>\n        );\n      });\n    }\n    return (\n      <Expression\n        config={config}\n        op={op}\n        funcs={funcs}\n        valueField={field}\n        value={value.right}\n        data={data}\n        onChange={this.handleRightChange}\n        fields={fields}\n        allowedTypes={\n          field?.valueTypes ||\n          config.valueTypes || ['value', 'field', 'func', 'formula']\n        }\n        disabled={disabled}\n        formula={formula}\n        popOverContainer={popOverContainer}\n        renderEtrValue={renderEtrValue}\n      />\n    );\n  }\n\n  render() {\n    const {classnames: cx} = this.props;\n\n    return (\n      <div className={cx('CBItem')}>\n        {this.renderLeft()}\n        {this.renderOperator()}\n        {this.renderRight()}\n      </div>\n    );\n  }\n}\n\nexport default themeable(localeable(ConditionItem));\n"
    ]
}