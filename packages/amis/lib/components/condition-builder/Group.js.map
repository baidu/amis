{
    "version": 3,
    "file": "Group.js",
    "sourceRoot": "",
    "sources": [
        "/src/components/condition-builder/Group.tsx"
    ],
    "names": [],
    "mappings": "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",
    "sourcesContent": [
        "import React from 'react';\nimport {Fields, ConditionGroupValue, Funcs} from './types';\nimport {ThemeProps, themeable} from '../../theme';\nimport Button from '../Button';\nimport GroupOrItem from './GroupOrItem';\nimport {autobind, guid} from '../../utils/helper';\nimport {Config} from './config';\nimport {Icon} from '../icons';\nimport {localeable, LocaleProps} from '../../locale';\nimport {FormulaPickerProps} from '../formula/Picker';\nimport Select from '../Select';\n\nexport interface ConditionGroupProps extends ThemeProps, LocaleProps {\n  builderMode?: 'simple' | 'full';\n  config: Config;\n  value?: ConditionGroupValue;\n  fields: Fields;\n  funcs?: Funcs;\n  showNot?: boolean;\n  showANDOR?: boolean;\n  data?: any;\n  disabled?: boolean;\n  searchable?: boolean;\n  onChange: (value: ConditionGroupValue) => void;\n  removeable?: boolean;\n  onRemove?: (e: React.MouseEvent) => void;\n  onDragStart?: (e: React.MouseEvent) => void;\n  fieldClassName?: string;\n  formula?: FormulaPickerProps;\n  popOverContainer?: any;\n  renderEtrValue?: any;\n}\n\nexport class ConditionGroup extends React.Component<ConditionGroupProps> {\n  getValue() {\n    return {\n      id: guid(),\n      conjunction: 'and',\n      ...this.props.value\n    } as ConditionGroupValue;\n  }\n\n  @autobind\n  handleNotClick() {\n    const onChange = this.props.onChange;\n    let value = this.getValue();\n    value.not = !value.not;\n\n    onChange(value);\n  }\n\n  @autobind\n  handleConjunctionChange(val: {value: 'or' | 'and'}) {\n    const onChange = this.props.onChange;\n    let value = this.getValue();\n    value.conjunction = val.value;\n    onChange(value);\n  }\n\n  @autobind\n  handleAdd() {\n    const onChange = this.props.onChange;\n    let value = this.getValue();\n\n    value.children = Array.isArray(value.children)\n      ? value.children.concat()\n      : [];\n\n    value.children.push({\n      id: guid()\n    });\n    onChange(value);\n  }\n\n  @autobind\n  handleAddGroup() {\n    const onChange = this.props.onChange;\n    let value = this.getValue();\n\n    value.children = Array.isArray(value.children)\n      ? value.children.concat()\n      : [];\n\n    value.children.push({\n      id: guid(),\n      conjunction: 'and',\n      children: [\n        {\n          id: guid()\n        }\n      ]\n    });\n    onChange(value);\n  }\n\n  @autobind\n  handleItemChange(item: any, index: number) {\n    const onChange = this.props.onChange;\n    let value = this.getValue();\n\n    value.children = Array.isArray(value.children)\n      ? value.children.concat()\n      : [];\n\n    value.children.splice(index!, 1, item);\n    onChange(value);\n  }\n\n  @autobind\n  handleItemRemove(index: number) {\n    const onChange = this.props.onChange;\n    let value = this.getValue();\n\n    value.children = Array.isArray(value.children)\n      ? value.children.concat()\n      : [];\n\n    value.children.splice(index, 1);\n    onChange(value);\n  }\n\n  render() {\n    const {\n      builderMode,\n      classnames: cx,\n      fieldClassName,\n      value,\n      data,\n      fields,\n      funcs,\n      config,\n      removeable,\n      onRemove,\n      onDragStart,\n      showNot,\n      showANDOR = false,\n      disabled,\n      searchable,\n      translate: __,\n      formula,\n      popOverContainer,\n      renderEtrValue\n    } = this.props;\n    return (\n      <div className={cx('CBGroup')} data-group-id={value?.id}>\n        {builderMode === 'simple' && showANDOR === false ? null : (\n          <div className={cx('CBGroup-toolbarCondition')}>\n            {showNot ? (\n              <Button\n                onClick={this.handleNotClick}\n                className=\"m-r-xs\"\n                size=\"xs\"\n                active={value?.not}\n                disabled={disabled}\n              >\n                {__('Condition.not')}\n              </Button>\n            ) : null}\n            <Select\n              options={[\n                {\n                  label: __('Condition.and'),\n                  value: 'and'\n                },\n                {\n                  label: __('Condition.or'),\n                  value: 'or'\n                }\n              ]}\n              value={value?.conjunction || 'and'}\n              disabled={disabled}\n              onChange={this.handleConjunctionChange}\n              clearable={false}\n            />\n          </div>\n        )}\n        <div className={cx('CBGroup-body')}>\n          {Array.isArray(value?.children) && value!.children.length ? (\n            value!.children.map((item, index) => (\n              <GroupOrItem\n                draggable={value!.children!.length > 1}\n                onDragStart={onDragStart}\n                config={config}\n                key={item.id}\n                fields={fields}\n                fieldClassName={fieldClassName}\n                value={item as ConditionGroupValue}\n                index={index}\n                onChange={this.handleItemChange}\n                funcs={funcs}\n                onRemove={this.handleItemRemove}\n                data={data}\n                disabled={disabled}\n                searchable={searchable}\n                builderMode={builderMode}\n                formula={formula}\n                popOverContainer={popOverContainer}\n                renderEtrValue={renderEtrValue}\n              />\n            ))\n          ) : (\n            <div\n              className={cx(\n                `CBGroup-placeholder ${\n                  builderMode === 'simple' ? 'simple' : ''\n                }`\n              )}\n            >\n              {__('Condition.blank')}\n            </div>\n          )}\n        </div>\n        <div className={cx('CBGroup-toolbar')}>\n          <div\n            className={cx(\n              `CBGroup-toolbarConditionAdd${\n                builderMode === 'simple' ? '-simple' : ''\n              }`\n            )}\n          >\n            <div className={cx('ButtonGroup')}>\n              <Button\n                level=\"link\"\n                onClick={this.handleAdd}\n                size=\"xs\"\n                disabled={disabled}\n              >\n                {__('Condition.add_cond')}\n              </Button>\n              {builderMode === 'simple' ? null : (\n                <Button\n                  onClick={this.handleAddGroup}\n                  size=\"xs\"\n                  disabled={disabled}\n                  level=\"link\"\n                >\n                  {__('Condition.add_cond_group')}\n                </Button>\n              )}\n            </div>\n          </div>\n          {removeable ? (\n            <a className={cx('CBDelete')} onClick={onRemove}>\n              {__('Condition.delete_cond_group')}\n            </a>\n          ) : null}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default themeable(localeable(ConditionGroup));\n"
    ]
}