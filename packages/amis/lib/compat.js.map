{
    "version": 3,
    "file": "compat.js",
    "sourceRoot": "",
    "sources": [
        "/src/compat.ts"
    ],
    "names": [],
    "mappings": "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",
    "sourcesContent": [
        "/**\n * @file 兼容配置，对于一些老的 api 设计的得不合理的地方做一些适配。\n * @author fex\n */\nimport {SchemaNode, Schema} from './types';\nimport {RendererProps, RendererConfig, addSchemaFilter} from './factory';\nimport {CheckboxControlRenderer} from './renderers/Form/Checkbox';\nimport {FormRenderer} from './renderers/Form/index';\nimport {FieldSetRenderer} from './renderers/Form/FieldSet';\nimport {CardRenderer} from './renderers/Card';\nimport {ListItemRenderer} from './renderers/List';\nimport {ButtonGroupControlRenderer} from './renderers/Form/ButtonGroupSelect';\nimport {getLevelFromClassName} from './utils/helper';\nimport {FileControlRenderer} from './renderers/Form/InputFile';\nimport {ImageControlRenderer} from './renderers/Form/InputImage';\nimport {RichTextControlRenderer} from './renderers/Form/InputRichText';\nimport isPlainObject from 'lodash/isPlainObject';\nimport {GridRenderer} from './renderers/Grid';\nimport {HBoxRenderer} from './renderers/HBox';\n\n// 兼容老的用法，老用法 label 用在 checkbox 的右侧内容，新用法用 option 来代替。\naddSchemaFilter(function CheckboxPropsFilter(schema: Schema, renderer) {\n  if (renderer.component !== CheckboxControlRenderer) {\n    return schema;\n  }\n\n  if (schema.label && typeof schema.option === 'undefined') {\n    schema = {\n      ...schema\n    };\n    schema.option = schema.label;\n    delete schema.label;\n  }\n\n  return schema;\n});\n\nfunction convertFieldSetTabs2Controls(schema: any) {\n  const toUpdate: any = {};\n  let flag = false;\n\n  toUpdate.controls = Array.isArray(schema.controls)\n    ? schema.controls.concat()\n    : [];\n  toUpdate.controls = toUpdate.controls.map((control: any) => {\n    if (Array.isArray(control)) {\n      let converted = convertFieldSetTabs2Controls({\n        type: 'group',\n        controls: control\n      });\n\n      if (converted !== control) {\n        flag = true;\n      }\n\n      return converted;\n    }\n    return control;\n  });\n\n  schema.fieldSet &&\n    (Array.isArray(schema.fieldSet)\n      ? schema.fieldSet\n      : [schema.fieldSet]\n    ).forEach((fieldSet: any) => {\n      flag = true;\n      toUpdate.controls.push({\n        ...convertFieldSetTabs2Controls(fieldSet),\n        type: 'fieldSet',\n        collapsable: schema.collapsable\n      });\n    });\n\n  schema.tabs &&\n    (flag = true) &&\n    toUpdate.controls.push({\n      type: 'tabs',\n      tabs: schema.tabs.map((tab: any) => convertFieldSetTabs2Controls(tab))\n    });\n\n  if (flag) {\n    schema = {\n      ...schema,\n      ...toUpdate\n    };\n    delete schema.fieldSet;\n    delete schema.tabs;\n  }\n  return schema;\n}\n\n// Form 中，把 fieldSet 和 tabs 转成 {type: 'fieldSet', controls: []}\n// 同时把数组用法转成 {type: 'group', controls: []}\naddSchemaFilter(function FormPropsFilter(schema: Schema, renderer) {\n  if (renderer.component !== FormRenderer) {\n    return schema;\n  }\n\n  if (schema.fieldSet || schema.tabs) {\n    // console.warn('Form 下面直接用 fieldSet 或者 tabs 将不支持，请改成在 controls 数组中添加。');\n    schema = convertFieldSetTabs2Controls(schema);\n  } else if (Array.isArray(schema.controls)) {\n    let flag = false;\n    let converted = schema.controls.map((control: any) => {\n      if (Array.isArray(control)) {\n        let converted = convertFieldSetTabs2Controls({\n          type: 'group',\n          controls: control\n        });\n\n        if (converted !== control) {\n          flag = true;\n        }\n        return converted;\n      }\n      return control;\n    });\n\n    if (flag) {\n      schema = {\n        ...schema,\n        controls: converted\n      };\n    }\n  }\n\n  return schema;\n});\n\n// FieldSet 中把 controls 里面的数组用法转成 {type: 'group', controls: []}\naddSchemaFilter(function FormPropsFilter(schema: Schema, renderer) {\n  if (renderer.component !== FieldSetRenderer) {\n    return schema;\n  }\n\n  if (Array.isArray(schema.controls)) {\n    let flag = false;\n    let converted = schema.controls.map((control: any) => {\n      if (Array.isArray(control)) {\n        let converted = convertFieldSetTabs2Controls({\n          type: 'group',\n          controls: control\n        });\n\n        if (converted !== control) {\n          flag = true;\n        }\n        return converted;\n      }\n      return control;\n    });\n\n    if (flag) {\n      schema = {\n        ...schema,\n        controls: converted\n      };\n    }\n  }\n\n  return schema;\n});\n\n// Form 里面的 Tabs 中把 controls 里面的数组用法转成 {type: 'group', controls: []}\n\nfunction convertArray2Hbox(arr: Array<any>): any {\n  let flag = false;\n  let converted = arr.map((item: any) => {\n    if (Array.isArray(item)) {\n      flag = true;\n      return convertArray2Hbox(item);\n    }\n\n    return item;\n  });\n  if (!flag) {\n    converted = arr;\n  }\n\n  return {\n    type: 'hbox',\n    columns: converted\n  };\n}\n\n// CRUD/List  和 CRUD/Card 的 body 中的数组用法转成 hbox\naddSchemaFilter(function (schema: Schema, renderer) {\n  if (\n    renderer.component !== CardRenderer &&\n    renderer.component !== ListItemRenderer\n  ) {\n    return schema;\n  }\n\n  if (Array.isArray(schema.body)) {\n    let flag = false;\n    let converted = schema.body.map((item: any) => {\n      if (Array.isArray(item)) {\n        flag = true;\n        return convertArray2Hbox(item);\n      }\n      return item;\n    });\n\n    if (flag) {\n      schema = {\n        ...schema,\n        body: converted\n      };\n    }\n  }\n\n  return schema;\n});\n\n// button group 的 btnClassName 和 btnActiveClassName 改成 btnLevel 和 btnActiveLevel 了\naddSchemaFilter(function (scheam: Schema, renderer) {\n  if (renderer.component !== ButtonGroupControlRenderer) {\n    return scheam;\n  }\n\n  if (scheam.btnClassName || scheam.btnActiveClassName) {\n    scheam = {\n      ...scheam,\n      btnLevel: getLevelFromClassName(scheam.btnClassName),\n      btnActiveLevel: getLevelFromClassName(scheam.btnActiveClassName)\n    };\n\n    delete scheam.btnClassName;\n    delete scheam.btnActiveClassName;\n  }\n\n  return scheam;\n});\n\n// FieldSet  className 定制样式方式改成 size 来配置\naddSchemaFilter(function (scheam: Schema, renderer) {\n  if (renderer.component !== FieldSetRenderer) {\n    return scheam;\n  }\n\n  if (\n    scheam.className &&\n    !scheam.size &&\n    /\\bfieldset(?:\\-(xs|sm|md|lg))?\\b/.test(scheam.className)\n  ) {\n    scheam = {\n      ...scheam,\n      size: RegExp.$1 || 'base',\n      className: scheam.className.replace(\n        /\\bfieldset(?:\\-(xs|sm|md|lg))?\\b/,\n        ''\n      )\n    };\n\n    delete scheam.btnClassName;\n    delete scheam.btnActiveClassName;\n  }\n\n  return scheam;\n});\n\n// 原 reciever 错别字改为 receiver\naddSchemaFilter(function (scheam: Schema, renderer) {\n  if (\n    renderer.component !== FileControlRenderer &&\n    renderer.component !== ImageControlRenderer &&\n    renderer.component !== RichTextControlRenderer\n  ) {\n    return scheam;\n  }\n\n  if (scheam.reciever) {\n    scheam = {\n      ...scheam,\n      receiver: scheam.reciever\n    };\n    delete scheam.reciever;\n  }\n\n  if (scheam.videoReciever) {\n    scheam = {\n      ...scheam,\n      videoReceiver: scheam.reciever\n    };\n    delete scheam.reciever;\n  }\n\n  return scheam;\n});\n\n// Grid 一些旧格式的兼容\naddSchemaFilter(function (scheam: Schema, renderer) {\n  if (renderer.component !== GridRenderer) {\n    return scheam;\n  }\n\n  if (\n    Array.isArray(scheam.columns) &&\n    scheam.columns.some(item => Array.isArray(item) || item.type)\n  ) {\n    scheam = {\n      ...scheam,\n      columns: scheam.columns.map(item => {\n        if (Array.isArray(item)) {\n          return {\n            body: [\n              {\n                type: 'grid',\n                columns: item\n              }\n            ]\n          };\n        } else if (item.type) {\n          let {xs, sm, md, lg, columnClassName, ...rest} = item;\n          item = {\n            xs,\n            sm,\n            md,\n            lg,\n            columnClassName,\n            body: [rest]\n          };\n        }\n\n        return item;\n      })\n    };\n  }\n\n  return scheam;\n});\n\n// Hbox 一些旧格式的兼容\naddSchemaFilter(function (scheam: Schema, renderer) {\n  if (renderer.component !== HBoxRenderer) {\n    return scheam;\n  }\n\n  if (Array.isArray(scheam.columns) && scheam.columns.some(item => item.type)) {\n    scheam = {\n      ...scheam,\n      columns: scheam.columns.map(item => {\n        let {\n          width,\n          height,\n          style,\n          columnClassName,\n          visible,\n          visibleOn,\n          ...rest\n        } = item;\n        if (item.type) {\n          item = {\n            width,\n            height,\n            style,\n            columnClassName,\n            visible,\n            visibleOn,\n            body: [rest]\n          };\n        }\n\n        return item;\n      })\n    };\n  }\n\n  return scheam;\n});\n\nconst controlMapping: any = {\n  'array': 'input-array',\n  'button-group': 'button-group-select',\n  'city': 'input-city',\n  'color': 'input-color',\n  'date': 'input-date',\n  'datetime': 'input-datetime',\n  'time': 'input-time',\n  'quarter': 'input-quarter',\n  'month': 'input-month',\n  'year': 'input-year',\n  'date-range': 'input-date-range',\n  'datetime-range': 'input-datetime-range',\n  'diff': 'diff-editor',\n  'file': 'input-file',\n  'image': 'input-image',\n  'list': 'list-select',\n  'location': 'location-picker',\n  'matrix': 'matrix-checkboxes',\n  'month-range': 'input-month-range',\n  'quarter-range': 'input-quarter-range',\n  'number': 'input-number',\n  'range': 'input-range',\n  'rating': 'input-rating',\n  'repeat': 'input-repeat',\n  'rich-text': 'input-rich-text',\n  'form': 'input-sub-form',\n  'table': 'input-table',\n  'tag': 'input-tag',\n  'text': 'input-text',\n  'url': 'input-url',\n  'password': 'input-password',\n  'email': 'input-email',\n  'tree': 'input-tree',\n  'progress': 'static-progress',\n  'mapping': 'static-mapping'\n};\n\nconst maybeFormItem = [\n  'button',\n  'submit',\n  'reset',\n  'button-group',\n  'button-toolbar',\n  'container',\n  'grid',\n  'hbox',\n  'panel',\n  'anchor-nav',\n  'qr-code'\n];\n\nfunction wrapControl(item: any) {\n  if (!item || !item.type) {\n    return item;\n  }\n\n  let {\n    label,\n    description,\n    name,\n    required,\n    remark,\n    inputOnly,\n    labelClassName,\n    caption,\n    labelRemark,\n    descriptionClassName,\n    captionClassName,\n    hint,\n    showErrorMsg,\n    mode,\n    horizontal,\n    className,\n    inputClassName,\n    columnClassName,\n    visibleOn,\n    visible,\n    ...rest\n  } = item;\n\n  rest.name = name;\n  rest.className = inputClassName;\n\n  // 如果是按钮\n  if (~['button', 'submit', 'reset'].indexOf(rest.type)) {\n    rest.label = label;\n    label = '';\n  }\n\n  return {\n    type: 'control',\n    label,\n    description,\n    name,\n    required,\n    remark,\n    inputOnly,\n    labelClassName,\n    caption,\n    labelRemark,\n    descriptionClassName,\n    captionClassName,\n    hint,\n    showErrorMsg,\n    mode,\n    horizontal,\n    className,\n    columnClassName,\n    visibleOn,\n    visible,\n    body: rest\n  };\n}\n\nconst maybeStatic = [\n  'tpl',\n  'mapping',\n  'progress',\n  'status',\n  'json',\n  'video',\n  'qrcode',\n  'plain',\n  'each',\n  'link'\n];\n\nfunction wrapStatic(item: any) {\n  if (!item || !item.type) {\n    return item;\n  }\n\n  return {\n    ...item,\n    type: `static-${item.type}`\n  };\n}\n\naddSchemaFilter(function (schema: Schema, renderer: any, props: any) {\n  const type =\n    typeof schema?.type === 'string' ? schema.type.toLowerCase() : '';\n\n  // controls 转成 body\n  if (type === 'combo' && Array.isArray(schema.conditions)) {\n    schema = {\n      ...schema,\n      conditions: schema.conditions.map(condition => {\n        if (Array.isArray(condition.controls)) {\n          condition = {\n            ...condition,\n            items: condition.controls.map(controlToNormalRenderer)\n          };\n          delete condition.controls;\n        }\n\n        return condition;\n      })\n    };\n  }\n\n  if (\n    schema?.controls &&\n    schema.type !== 'audio' &&\n    schema.type !== 'carousel'\n  ) {\n    schema = {\n      ...schema,\n      [schema.type === 'combo' ? `items` : 'body']: (Array.isArray(\n        schema.controls\n      )\n        ? schema.controls\n        : [schema.controls]\n      ).map(controlToNormalRenderer)\n    };\n    delete schema.controls;\n  } else if (\n    schema?.quickEdit?.controls &&\n    (!schema.quickEdit.type ||\n      !~['combo', 'group', 'panel', 'fieldSet', 'fieldset'].indexOf(\n        schema.quickEdit.type\n      ))\n  ) {\n    schema = {\n      ...schema,\n      quickEdit: {\n        ...schema.quickEdit,\n        body: (Array.isArray(schema.quickEdit.controls)\n          ? schema.quickEdit.controls\n          : [schema.quickEdit.controls]\n        ).map(controlToNormalRenderer)\n      }\n    };\n    delete schema.quickEdit.controls;\n  } else if (schema?.quickEdit?.type) {\n    schema = {\n      ...schema,\n      quickEdit: controlToNormalRenderer(schema.quickEdit)\n    };\n  } else if (type === 'tabs' && Array.isArray(schema.tabs)) {\n    schema = {\n      ...schema,\n      tabs: schema.tabs.map(tab => {\n        if (Array.isArray(tab.controls) && !Array.isArray(tab.body)) {\n          tab = {\n            ...tab,\n            body: tab.controls.map(controlToNormalRenderer)\n          };\n          delete tab.controls;\n        }\n\n        return tab;\n      })\n    };\n  } else if (type === 'anchor-nav' && Array.isArray(schema.links)) {\n    schema = {\n      ...schema,\n      links: schema.links.map(link => {\n        if (Array.isArray(link.controls)) {\n          link = {\n            ...link,\n            body: link?.controls.map(controlToNormalRenderer)\n          };\n\n          delete link.controls;\n        }\n\n        return link;\n      })\n    };\n  } else if (type === 'input-array' && schema.items) {\n    schema = {\n      ...schema,\n      items: Array.isArray(schema.items)\n        ? schema.items.map(controlToNormalRenderer)\n        : controlToNormalRenderer(schema.items)\n    };\n  } else if (\n    (type === 'grid' || type === 'hbox') &&\n    Array.isArray(schema.columns)\n  ) {\n    schema = {\n      ...schema,\n      columns: schema.columns.map(column => {\n        if (Array.isArray(column.controls)) {\n          column = {\n            ...column,\n\n            body: column?.controls.map(controlToNormalRenderer)\n          };\n\n          // 有可能直接外面的grid 或者 bhox 列里面用 form 的。\n          if (column.type !== 'form') {\n            delete column.type;\n          }\n\n          delete column.controls;\n        }\n\n        return column;\n      })\n    };\n  } else if (type === 'service' && schema?.body?.controls) {\n    schema = {\n      ...schema,\n      body: (Array.isArray(schema.body.controls)\n        ? schema.body.controls\n        : [schema.body.controls]\n      ).map(controlToNormalRenderer)\n    };\n  }\n\n  return schema;\n\n  function controlToNormalRenderer(item: any) {\n    if (item?.$ref && props.resolveDefinitions) {\n      item = {\n        ...props.resolveDefinitions(item.$ref),\n        ...item\n      };\n      delete item.$ref;\n    }\n\n    return item && controlMapping[item.type]\n      ? {\n          ...item,\n          type: controlMapping[item.type]\n        }\n      : ~maybeFormItem.indexOf(item?.type)\n      ? wrapControl(item)\n      : ~maybeStatic.indexOf(item?.type)\n      ? wrapStatic(item)\n      : item;\n  }\n});\n"
    ]
}