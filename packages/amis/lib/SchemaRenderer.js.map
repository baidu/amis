{
    "version": 3,
    "file": "SchemaRenderer.js",
    "sourceRoot": "",
    "sources": [
        "/src/SchemaRenderer.tsx"
    ],
    "names": [],
    "mappings": "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",
    "sourcesContent": [
        "import difference from 'lodash/difference';\nimport omit from 'lodash/omit';\nimport React from 'react';\nimport LazyComponent from './components/LazyComponent';\nimport {\n  filterSchema,\n  loadRenderer,\n  RendererComponent,\n  RendererConfig,\n  RendererEnv,\n  RendererProps,\n  resolveRenderer\n} from './factory';\nimport {asFormItem} from './renderers/Form/Item';\nimport {renderChild, renderChildren} from './Root';\nimport {ScopedContext} from './Scoped';\nimport {Schema, SchemaNode} from './types';\nimport {DebugWrapper} from './utils/debug';\nimport getExprProperties from './utils/filter-schema';\nimport {anyChanged, chainEvents, autobind} from './utils/helper';\nimport {SimpleMap} from './utils/SimpleMap';\n\nimport {bindEvent, dispatchEvent, RendererEvent} from './utils/renderer-event';\nimport {isAlive} from 'mobx-state-tree';\nimport {reaction} from 'mobx';\nimport {resolveVariableAndFilter} from './utils/tpl-builtin';\n\ninterface SchemaRendererProps extends Partial<RendererProps> {\n  schema: Schema;\n  $path: string;\n  env: RendererEnv;\n}\n\nconst defaultOmitList = [\n  'type',\n  'name',\n  '$ref',\n  'className',\n  'data',\n  'children',\n  'ref',\n  'visible',\n  'visibleOn',\n  'hidden',\n  'hiddenOn',\n  'disabled',\n  'disabledOn',\n  'component',\n  'detectField',\n  'defaultValue',\n  'defaultData',\n  'required',\n  'requiredOn',\n  'syncSuperStore',\n  'mode',\n  'body'\n];\n\nconst componentCache: SimpleMap = new SimpleMap();\n\nexport class SchemaRenderer extends React.Component<SchemaRendererProps, any> {\n  static displayName: string = 'Renderer';\n  static contextType = ScopedContext;\n\n  rendererKey = '';\n  renderer: RendererConfig | null;\n  ref: any;\n  cRef: any;\n\n  schema: any;\n  path: string;\n\n  reaction: any;\n  unbindEvent: (() => void) | undefined = undefined;\n\n  constructor(props: SchemaRendererProps) {\n    super(props);\n    this.refFn = this.refFn.bind(this);\n    this.renderChild = this.renderChild.bind(this);\n    this.reRender = this.reRender.bind(this);\n    this.resolveRenderer(this.props);\n\n    this.dispatchEvent = this.dispatchEvent.bind(this);\n\n    // 监听rootStore更新\n    this.reaction = reaction(\n      () =>\n        `${props.rootStore.visibleState[props.schema.id || props.$path]}${\n          props.rootStore.disableState[props.schema.id || props.$path]\n        }`,\n      () => this.forceUpdate()\n    );\n  }\n\n  componentDidMount() {\n    // 这里无法区分监听的是不是广播，所以又bind一下，主要是为了绑广播\n    this.unbindEvent = bindEvent(this.cRef);\n  }\n\n  componentWillUnmount() {\n    this.reaction?.();\n    this.unbindEvent?.();\n  }\n\n  // 限制：只有 schema 除外的 props 变化，或者 schema 里面的某个成员值发生变化才更新。\n  shouldComponentUpdate(nextProps: SchemaRendererProps) {\n    const props = this.props;\n    const list: Array<string> = difference(Object.keys(nextProps), [\n      'schema',\n      'scope'\n    ]);\n\n    if (\n      difference(Object.keys(props), ['schema', 'scope']).length !==\n        list.length ||\n      anyChanged(list, this.props, nextProps)\n    ) {\n      return true;\n    } else {\n      const list: Array<string> = Object.keys(nextProps.schema);\n\n      if (\n        Object.keys(props.schema).length !== list.length ||\n        anyChanged(list, props.schema, nextProps.schema)\n      ) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  resolveRenderer(props: SchemaRendererProps, force = false): any {\n    let schema = props.schema;\n    let path = props.$path;\n\n    if (schema && schema.$ref) {\n      schema = {\n        ...props.resolveDefinitions(schema.$ref),\n        ...schema\n      };\n\n      path = path.replace(/(?!.*\\/).*/, schema.type);\n    }\n\n    if (\n      schema?.type &&\n      (force ||\n        !this.renderer ||\n        this.rendererKey !== `${schema.type}-${schema.$$id}`)\n    ) {\n      const rendererResolver = props.env.rendererResolver || resolveRenderer;\n      this.renderer = rendererResolver(path, schema, props);\n      this.rendererKey = `${schema.type}-${schema.$$id}`;\n    } else {\n      // 自定义组件如果在节点设置了 label name 什么的，就用 formItem 包一层\n      // 至少自动支持了 valdiations, label, description 等逻辑。\n      if (schema.children && !schema.component && schema.asFormItem) {\n        schema.component = PlaceholderComponent;\n        schema.renderChildren = schema.children;\n        delete schema.children;\n      }\n\n      if (\n        schema.component &&\n        !schema.component.wrapedAsFormItem &&\n        schema.asFormItem\n      ) {\n        const cache = componentCache.get(schema.component);\n\n        if (cache) {\n          schema.component = cache;\n        } else {\n          const cache = asFormItem({\n            strictMode: false,\n            ...schema.asFormItem\n          })(schema.component);\n          componentCache.set(schema.component, cache);\n          cache.wrapedAsFormItem = true;\n          schema.component = cache;\n        }\n      }\n    }\n\n    return {path, schema};\n  }\n\n  getWrappedInstance() {\n    return this.cRef;\n  }\n\n  refFn(ref: any) {\n    this.ref = ref;\n  }\n\n  @autobind\n  childRef(ref: any) {\n    while (ref && ref.getWrappedInstance) {\n      ref = ref.getWrappedInstance();\n    }\n\n    this.cRef = ref;\n  }\n\n  async dispatchEvent(\n    e: React.MouseEvent<any>,\n    data: any\n  ): Promise<RendererEvent<any> | void> {\n    return await dispatchEvent(e, this.cRef, this.context, data);\n  }\n\n  renderChild(\n    region: string,\n    node?: SchemaNode,\n    subProps: {\n      data?: object;\n      [propName: string]: any;\n    } = {}\n  ) {\n    let {schema: _, $path: __, env, ...rest} = this.props;\n    let {path: $path} = this.resolveRenderer(this.props);\n\n    const omitList = defaultOmitList.concat();\n    if (this.renderer) {\n      const Component = this.renderer.component;\n      Component.propsList &&\n        omitList.push.apply(omitList, Component.propsList as Array<string>);\n    }\n\n    return renderChild(`${$path}${region ? `/${region}` : ''}`, node || '', {\n      ...omit(rest, omitList),\n      ...subProps,\n      data: subProps.data || rest.data,\n      env: env\n    });\n  }\n\n  reRender() {\n    this.resolveRenderer(this.props, true);\n    this.forceUpdate();\n  }\n\n  render(): JSX.Element | null {\n    let {$path: _, schema: __, rootStore, ...rest} = this.props;\n\n    if (__ == null) {\n      return null;\n    }\n\n    let {path: $path, schema} = this.resolveRenderer(this.props);\n    const theme = this.props.env.theme;\n\n    if (Array.isArray(schema)) {\n      return renderChildren($path, schema as any, rest) as JSX.Element;\n    }\n\n    const detectData =\n      schema &&\n      (schema.detectField === '&' ? rest : rest[schema.detectField || 'data']);\n    const exprProps: any = detectData\n      ? getExprProperties(schema, detectData, undefined, rest)\n      : {};\n\n    // 控制显隐\n    const visible = isAlive(rootStore)\n      ? rootStore.visibleState[schema.id || $path]\n      : undefined;\n    const disable = isAlive(rootStore)\n      ? rootStore.disableState[schema.id || $path]\n      : undefined;\n\n    if (\n      visible === false ||\n      (visible !== true &&\n        exprProps &&\n        (exprProps.hidden ||\n          exprProps.visible === false ||\n          schema.hidden ||\n          schema.visible === false ||\n          rest.hidden ||\n          rest.visible === false))\n    ) {\n      (rest as any).invisible = true;\n    }\n\n    if (schema.children) {\n      return rest.invisible\n        ? null\n        : React.isValidElement(schema.children)\n        ? schema.children\n        : (schema.children as Function)({\n            ...rest,\n            ...exprProps,\n            $path: $path,\n            $schema: schema,\n            render: this.renderChild,\n            forwardedRef: this.refFn\n          });\n    } else if (typeof schema.component === 'function') {\n      const isSFC = !(schema.component.prototype instanceof React.Component);\n      const {\n        data: defaultData,\n        value: defaultValue,\n        activeKey: defaultActiveKey,\n        key: propKey,\n        ...restSchema\n      } = schema;\n      return rest.invisible\n        ? null\n        : React.createElement(schema.component as any, {\n            ...rest,\n            ...restSchema,\n            ...exprProps,\n            defaultData,\n            defaultValue,\n            defaultActiveKey,\n            propKey,\n            $path: $path,\n            $schema: schema,\n            ref: isSFC ? undefined : this.refFn,\n            forwardedRef: isSFC ? this.refFn : undefined,\n            render: this.renderChild\n          });\n    } else if (Object.keys(schema).length === 0) {\n      return null;\n    } else if (!this.renderer) {\n      return rest.invisible ? null : (\n        <LazyComponent\n          {...rest}\n          {...exprProps}\n          getComponent={async () => {\n            const result = await rest.env.loadRenderer(\n              schema,\n              $path,\n              this.reRender\n            );\n            if (result && typeof result === 'function') {\n              return result;\n            } else if (result && React.isValidElement(result)) {\n              return () => result;\n            }\n\n            this.reRender();\n            return () => loadRenderer(schema, $path);\n          }}\n          $path={$path}\n          $schema={schema}\n          retry={this.reRender}\n        />\n      );\n    }\n\n    const renderer = this.renderer as RendererConfig;\n    schema = filterSchema(schema, renderer, rest);\n    const {\n      data: defaultData,\n      value: defaultValue,\n      key: propKey,\n      activeKey: defaultActiveKey,\n      ...restSchema\n    } = schema;\n    const Component = renderer.component;\n\n    // 原来表单项的 visible: false 和 hidden: true 表单项的值和验证是有效的\n    // 而 visibleOn 和 hiddenOn 是无效的，\n    // 这个本来就是个bug，但是已经被广泛使用了\n    // 我只能继续实现这个bug了\n    if (\n      rest.invisible &&\n      (exprProps.hidden ||\n        exprProps.visible === false ||\n        !renderer.isFormItem ||\n        (schema.visible !== false && !schema.hidden))\n    ) {\n      return null;\n    }\n\n    const isClassComponent = Component.prototype?.isReactComponent;\n    const $schema = {...schema, ...exprProps};\n    let props = {\n      ...theme.getRendererConfig(renderer.name),\n      ...restSchema,\n      ...chainEvents(rest, restSchema),\n      ...exprProps,\n      defaultData: restSchema.defaultData ?? defaultData,\n      defaultValue: restSchema.defaultValue ?? defaultValue,\n      defaultActiveKey: defaultActiveKey,\n      propKey: propKey,\n      $path: $path,\n      $schema: $schema,\n      ref: this.refFn,\n      render: this.renderChild,\n      rootStore: rootStore,\n      disabled: disable ?? rest.disabled ?? restSchema.disabled,\n      dispatchEvent: this.dispatchEvent\n    };\n\n    // 自动解析变量模式，主要是方便直接引入第三方组件库，无需为了支持变量封装一层\n    if (renderer.autoVar) {\n      for (const key of Object.keys($schema)) {\n        if (typeof props[key] === 'string') {\n          props[key] = resolveVariableAndFilter(\n            props[key],\n            props.data,\n            '| raw'\n          );\n        }\n      }\n    }\n\n    const component = isClassComponent ? (\n      <Component {...props} ref={this.childRef} />\n    ) : (\n      <Component {...props} />\n    );\n\n    return this.props.env.enableAMISDebug ? (\n      <DebugWrapper renderer={renderer}>{component}</DebugWrapper>\n    ) : (\n      component\n    );\n  }\n}\n\nclass PlaceholderComponent extends React.Component {\n  render() {\n    const {renderChildren, ...rest} = this.props as any;\n\n    if (typeof renderChildren === 'function') {\n      return renderChildren(rest);\n    }\n\n    return null;\n  }\n}\n"
    ]
}