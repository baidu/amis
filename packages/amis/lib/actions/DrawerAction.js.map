{
    "version": 3,
    "file": "DrawerAction.js",
    "sourceRoot": "",
    "sources": [
        "/src/actions/DrawerAction.ts"
    ],
    "names": [],
    "mappings": ";;;;AAEA,mCAKkB;AAOlB;;;;;;GAMG;AACH;IAAA;IAQA,CAAC;IAPO,0BAAG,GAAT,UACE,MAAqB,EACrB,QAAyB,EACzB,KAAyB;;;;gBAEzB,MAAA,MAAA,QAAQ,CAAC,KAAK,EAAC,QAAQ,mDAAG,KAAK,EAAE,MAAM,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC;;;;KACvD;IACH,mBAAC;AAAD,CAAC,AARD,IAQC;AARY,oCAAY;AAczB;;;;;;GAMG;AACH;IAAA;IAqBA,CAAC;IApBO,+BAAG,GAAT,UACE,MAAsB,EACtB,QAAyB,EACzB,KAAyB;;;;gBAEzB,IAAI,MAAM,CAAC,WAAW,EAAE;oBACtB,SAAS;oBACT,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;iBACpD;qBAAM;oBACL,SAAS;oBACT,MAAA,MAAA,QAAQ,CAAC,KAAK,EAAC,QAAQ,mDACrB,KAAK,kDAEA,MAAM,KACT,UAAU,EAAE,OAAO,KAErB,MAAM,CAAC,IAAI,CACZ,CAAC;iBACH;;;;KACF;IACH,wBAAC;AAAD,CAAC,AArBD,IAqBC;AArBY,8CAAiB;AAuB9B,IAAA,uBAAc,EAAC,QAAQ,EAAE,IAAI,YAAY,EAAE,CAAC,CAAC;AAC7C,IAAA,uBAAc,EAAC,aAAa,EAAE,IAAI,iBAAiB,EAAE,CAAC,CAAC",
    "sourcesContent": [
        "import {SchemaNode} from '../types';\nimport {RendererEvent} from '../utils/renderer-event';\nimport {\n  RendererAction,\n  ListenerAction,\n  ListenerContext,\n  registerAction\n} from './Action';\n\nexport interface IDrawerAction extends ListenerAction {\n  actionType: 'drawer';\n  drawer: SchemaNode;\n}\n\n/**\n * 打开抽屉动作\n *\n * @export\n * @class DrawerAction\n * @implements {Action}\n */\nexport class DrawerAction implements RendererAction {\n  async run(\n    action: IDrawerAction,\n    renderer: ListenerContext,\n    event: RendererEvent<any>\n  ) {\n    renderer.props.onAction?.(event, action, action.args);\n  }\n}\n\nexport interface ICloseDrawerAction extends ListenerAction {\n  actionType: 'closeDrawer';\n}\n\n/**\n * 关闭抽屉动作\n *\n * @export\n * @class CloseDrawerAction\n * @implements {Action}\n */\nexport class CloseDrawerAction implements RendererAction {\n  async run(\n    action: ListenerAction,\n    renderer: ListenerContext,\n    event: RendererEvent<any>\n  ) {\n    if (action.componentId) {\n      // 关闭指定抽屉\n      event.context.scoped.closeById(action.componentId);\n    } else {\n      // 关闭当前抽屉\n      renderer.props.onAction?.(\n        event,\n        {\n          ...action,\n          actionType: 'close'\n        },\n        action.args\n      );\n    }\n  }\n}\n\nregisterAction('drawer', new DrawerAction());\nregisterAction('closeDrawer', new CloseDrawerAction());\n"
    ]
}