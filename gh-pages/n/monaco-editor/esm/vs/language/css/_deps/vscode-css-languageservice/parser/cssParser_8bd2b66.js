define("node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/cssParser",function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("node_modules/tslib/tslib"),i=e("node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/cssScanner"),s=r.__importStar(e("node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/cssNodes")),n=e("node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/cssErrors"),o=r.__importStar(e("node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/languageFacts/facts")),a=function(){function e(e){void 0===e&&(e=new i.Scanner),this.keyframeRegex=/^@(\-(webkit|ms|moz|o)\-)?keyframes$/i,this.scanner=e,this.token=null,this.prevToken=null}return e.prototype.peekIdent=function(e){return i.TokenType.Ident===this.token.type&&e.length===this.token.text.length&&e===this.token.text.toLowerCase()},e.prototype.peekKeyword=function(e){return i.TokenType.AtKeyword===this.token.type&&e.length===this.token.text.length&&e===this.token.text.toLowerCase()},e.prototype.peekDelim=function(e){return i.TokenType.Delim===this.token.type&&e===this.token.text},e.prototype.peek=function(e){return e===this.token.type},e.prototype.peekRegExp=function(e,t){return e!==this.token.type?!1:t.test(this.token.text)},e.prototype.hasWhitespace=function(){return this.prevToken&&this.prevToken.offset+this.prevToken.len!==this.token.offset},e.prototype.consumeToken=function(){this.prevToken=this.token,this.token=this.scanner.scan()},e.prototype.mark=function(){return{prev:this.prevToken,curr:this.token,pos:this.scanner.pos()}},e.prototype.restoreAtMark=function(e){this.prevToken=e.prev,this.token=e.curr,this.scanner.goBackTo(e.pos)},e.prototype.try=function(e){var t=this.mark(),r=e();return r?r:(this.restoreAtMark(t),null)},e.prototype.acceptOneKeyword=function(e){if(i.TokenType.AtKeyword===this.token.type)for(var t=0,r=e;t<r.length;t++){var s=r[t];if(s.length===this.token.text.length&&s===this.token.text.toLowerCase())return this.consumeToken(),!0}return!1},e.prototype.accept=function(e){return e===this.token.type?(this.consumeToken(),!0):!1},e.prototype.acceptIdent=function(e){return this.peekIdent(e)?(this.consumeToken(),!0):!1},e.prototype.acceptKeyword=function(e){return this.peekKeyword(e)?(this.consumeToken(),!0):!1},e.prototype.acceptDelim=function(e){return this.peekDelim(e)?(this.consumeToken(),!0):!1},e.prototype.acceptUnquotedString=function(){var e=this.scanner.pos();this.scanner.goBackTo(this.token.offset);var t=this.scanner.scanUnquotedString();return t?(this.token=t,this.consumeToken(),!0):(this.scanner.goBackTo(e),!1)},e.prototype.resync=function(e,t){for(;;){if(e&&-1!==e.indexOf(this.token.type))return this.consumeToken(),!0;if(t&&-1!==t.indexOf(this.token.type))return!0;if(this.token.type===i.TokenType.EOF)return!1;this.token=this.scanner.scan()}},e.prototype.createNode=function(e){return new s.Node(this.token.offset,this.token.len,e)},e.prototype.create=function(e){return new e(this.token.offset,this.token.len)},e.prototype.finish=function(e,t,r,i){if(!(e instanceof s.Nodelist)&&(t&&this.markError(e,t,r,i),null!==this.prevToken)){var n=this.prevToken.offset+this.prevToken.len;e.length=n>e.offset?n-e.offset:0}return e},e.prototype.markError=function(e,t,r,i){this.token!==this.lastErrorToken&&(e.addIssue(new s.Marker(e,t,s.Level.Error,null,this.token.offset,this.token.len)),this.lastErrorToken=this.token),(r||i)&&this.resync(r,i)},e.prototype.parseStylesheet=function(e){var t=e.version,r=function(r,i){if(e.version!==t)throw new Error("Underlying model has changed, AST is no longer valid");return e.getText().substr(r,i)};return this.internalParse(e.getText(),this._parseStylesheet,r)},e.prototype.internalParse=function(e,t,r){this.scanner.setSource(e),this.token=this.scanner.scan();var i=t.bind(this)();return i&&(i.textProvider=r?r:function(t,r){return e.substr(t,r)}),i},e.prototype._parseStylesheet=function(){var e=this.create(s.Stylesheet);e.addChild(this._parseCharset());var t=!1;do{var r=!1;do{r=!1;var o=this._parseStylesheetStatement();for(o&&(e.addChild(o),r=!0,t=!1,this.peek(i.TokenType.EOF)||!this._needsSemicolonAfter(o)||this.accept(i.TokenType.SemiColon)||this.markError(e,n.ParseError.SemiColonExpected));this.accept(i.TokenType.SemiColon)||this.accept(i.TokenType.CDO)||this.accept(i.TokenType.CDC);)r=!0,t=!1}while(r);if(this.peek(i.TokenType.EOF))break;t||(this.peek(i.TokenType.AtKeyword)?this.markError(e,n.ParseError.UnknownAtRule):this.markError(e,n.ParseError.RuleOrSelectorExpected),t=!0),this.consumeToken()}while(!this.peek(i.TokenType.EOF));return this.finish(e)},e.prototype._parseStylesheetStatement=function(e){return void 0===e&&(e=!1),this.peek(i.TokenType.AtKeyword)?this._parseStylesheetAtStatement(e):this._parseRuleset(e)},e.prototype._parseStylesheetAtStatement=function(e){return void 0===e&&(e=!1),this._parseImport()||this._parseMedia(e)||this._parsePage()||this._parseFontFace()||this._parseKeyframe()||this._parseSupports(e)||this._parseViewPort()||this._parseNamespace()||this._parseDocument()||this._parseUnknownAtRule()},e.prototype._tryParseRuleset=function(e){var t=this.mark();if(this._parseSelector(e)){for(;this.accept(i.TokenType.Comma)&&this._parseSelector(e););if(this.accept(i.TokenType.CurlyL))return this.restoreAtMark(t),this._parseRuleset(e)}return this.restoreAtMark(t),null},e.prototype._parseRuleset=function(e){void 0===e&&(e=!1);var t=this.create(s.RuleSet),r=t.getSelectors();if(!r.addChild(this._parseSelector(e)))return null;for(;this.accept(i.TokenType.Comma);)if(!r.addChild(this._parseSelector(e)))return this.finish(t,n.ParseError.SelectorExpected);return this._parseBody(t,this._parseRuleSetDeclaration.bind(this))},e.prototype._parseRuleSetDeclaration=function(){return this._parseAtApply()||this._tryParseCustomPropertyDeclaration()||this._parseDeclaration()||this._parseUnknownAtRule()},e.prototype._parseAtApply=function(){if(!this.peekKeyword("@apply"))return null;var e=this.create(s.AtApplyRule);return this.consumeToken(),e.setIdentifier(this._parseIdent([s.ReferenceType.Variable]))?this.finish(e):this.finish(e,n.ParseError.IdentifierExpected)},e.prototype._needsSemicolonAfter=function(e){switch(e.type){case s.NodeType.Keyframe:case s.NodeType.ViewPort:case s.NodeType.Media:case s.NodeType.Ruleset:case s.NodeType.Namespace:case s.NodeType.If:case s.NodeType.For:case s.NodeType.Each:case s.NodeType.While:case s.NodeType.MixinDeclaration:case s.NodeType.FunctionDeclaration:return!1;case s.NodeType.ExtendsReference:case s.NodeType.MixinContent:case s.NodeType.ReturnStatement:case s.NodeType.MediaQuery:case s.NodeType.Debug:case s.NodeType.Import:case s.NodeType.AtApplyRule:case s.NodeType.CustomPropertyDeclaration:return!0;case s.NodeType.VariableDeclaration:return e.needsSemicolon;case s.NodeType.MixinReference:return!e.getContent();case s.NodeType.Declaration:return!e.getNestedProperties()}return!1},e.prototype._parseDeclarations=function(e){var t=this.create(s.Declarations);if(!this.accept(i.TokenType.CurlyL))return null;for(var r=e();t.addChild(r)&&!this.peek(i.TokenType.CurlyR);){if(this._needsSemicolonAfter(r)&&!this.accept(i.TokenType.SemiColon))return this.finish(t,n.ParseError.SemiColonExpected,[i.TokenType.SemiColon,i.TokenType.CurlyR]);for(;this.accept(i.TokenType.SemiColon););r=e()}return this.accept(i.TokenType.CurlyR)?this.finish(t):this.finish(t,n.ParseError.RightCurlyExpected,[i.TokenType.CurlyR,i.TokenType.SemiColon])},e.prototype._parseBody=function(e,t){return e.setDeclarations(this._parseDeclarations(t))?this.finish(e):this.finish(e,n.ParseError.LeftCurlyExpected,[i.TokenType.CurlyR,i.TokenType.SemiColon])},e.prototype._parseSelector=function(e){var t=this.create(s.Selector),r=!1;for(e&&(r=t.addChild(this._parseCombinator()));t.addChild(this._parseSimpleSelector());)r=!0,t.addChild(this._parseCombinator());return r?this.finish(t):null},e.prototype._parseDeclaration=function(e){var t=this.create(s.Declaration);return t.setProperty(this._parseProperty())?this.accept(i.TokenType.Colon)?(t.colonPosition=this.prevToken.offset,t.setValue(this._parseExpr())?(t.addChild(this._parsePrio()),this.peek(i.TokenType.SemiColon)&&(t.semicolonPosition=this.token.offset),this.finish(t)):this.finish(t,n.ParseError.PropertyValueExpected)):this.finish(t,n.ParseError.ColonExpected,[i.TokenType.Colon],e):null},e.prototype._tryParseCustomPropertyDeclaration=function(){if(!this.peekRegExp(i.TokenType.Ident,/^--/))return null;var e=this.create(s.CustomPropertyDeclaration);if(!e.setProperty(this._parseProperty()))return null;if(!this.accept(i.TokenType.Colon))return this.finish(e,n.ParseError.ColonExpected,[i.TokenType.Colon]);e.colonPosition=this.prevToken.offset;var t=this.mark();if(this.peek(i.TokenType.CurlyL)){var r=this.create(s.CustomPropertySet),o=this._parseDeclarations(this._parseRuleSetDeclaration.bind(this));if(r.setDeclarations(o)&&!o.isErroneous(!0)&&(r.addChild(this._parsePrio()),this.peek(i.TokenType.SemiColon)))return this.finish(r),e.setPropertySet(r),e.semicolonPosition=this.token.offset,this.finish(e);this.restoreAtMark(t)}var a=this._parseExpr();return a&&!a.isErroneous(!0)&&(this._parsePrio(),this.peek(i.TokenType.SemiColon))?(e.setValue(a),e.semicolonPosition=this.token.offset,this.finish(e)):(this.restoreAtMark(t),e.addChild(this._parseCustomPropertyValue()),e.addChild(this._parsePrio()),this.token.offset===e.colonPosition+1?this.finish(e,n.ParseError.PropertyValueExpected):this.finish(e))},e.prototype._parseCustomPropertyValue=function(){var e=this.create(s.Node),t=function(){return 0===r&&0===o&&0===a},r=0,o=0,a=0;e:for(;;){switch(this.token.type){case i.TokenType.SemiColon:if(t())break e;break;case i.TokenType.Exclamation:if(t())break e;break;case i.TokenType.CurlyL:r++;break;case i.TokenType.CurlyR:if(r--,0>r){if(0===o&&0===a)break e;return this.finish(e,n.ParseError.LeftCurlyExpected)}break;case i.TokenType.ParenthesisL:o++;break;case i.TokenType.ParenthesisR:if(o--,0>o)return this.finish(e,n.ParseError.LeftParenthesisExpected);break;case i.TokenType.BracketL:a++;break;case i.TokenType.BracketR:if(a--,0>a)return this.finish(e,n.ParseError.LeftSquareBracketExpected);break;case i.TokenType.BadString:break e;case i.TokenType.EOF:var p=n.ParseError.RightCurlyExpected;return a>0?p=n.ParseError.RightSquareBracketExpected:o>0&&(p=n.ParseError.RightParenthesisExpected),this.finish(e,p)}this.consumeToken()}return this.finish(e)},e.prototype._tryToParseDeclaration=function(){var e=this.mark();return this._parseProperty()&&this.accept(i.TokenType.Colon)?(this.restoreAtMark(e),this._parseDeclaration()):(this.restoreAtMark(e),null)},e.prototype._parseProperty=function(){var e=this.create(s.Property),t=this.mark();return(this.acceptDelim("*")||this.acceptDelim("_"))&&this.hasWhitespace()?(this.restoreAtMark(t),null):e.setIdentifier(this._parsePropertyIdentifier())?this.finish(e):null},e.prototype._parsePropertyIdentifier=function(){return this._parseIdent()},e.prototype._parseCharset=function(){if(!this.peek(i.TokenType.Charset))return null;var e=this.create(s.Node);return this.consumeToken(),this.accept(i.TokenType.String)?this.accept(i.TokenType.SemiColon)?this.finish(e):this.finish(e,n.ParseError.SemiColonExpected):this.finish(e,n.ParseError.IdentifierExpected)},e.prototype._parseImport=function(){if(!this.peekKeyword("@import"))return null;var e=this.create(s.Import);return this.consumeToken(),e.addChild(this._parseURILiteral())||e.addChild(this._parseStringLiteral())?(this.peek(i.TokenType.SemiColon)||this.peek(i.TokenType.EOF)||e.setMedialist(this._parseMediaQueryList()),this.finish(e)):this.finish(e,n.ParseError.URIOrStringExpected)},e.prototype._parseNamespace=function(){if(!this.peekKeyword("@namespace"))return null;var e=this.create(s.Namespace);return this.consumeToken(),e.addChild(this._parseURILiteral())||(e.addChild(this._parseIdent()),e.addChild(this._parseURILiteral())||e.addChild(this._parseStringLiteral()))?this.accept(i.TokenType.SemiColon)?this.finish(e):this.finish(e,n.ParseError.SemiColonExpected):this.finish(e,n.ParseError.URIExpected,[i.TokenType.SemiColon])},e.prototype._parseFontFace=function(){if(!this.peekKeyword("@font-face"))return null;var e=this.create(s.FontFace);return this.consumeToken(),this._parseBody(e,this._parseRuleSetDeclaration.bind(this))},e.prototype._parseViewPort=function(){if(!this.peekKeyword("@-ms-viewport")&&!this.peekKeyword("@-o-viewport")&&!this.peekKeyword("@viewport"))return null;var e=this.create(s.ViewPort);return this.consumeToken(),this._parseBody(e,this._parseRuleSetDeclaration.bind(this))},e.prototype._parseKeyframe=function(){if(!this.peekRegExp(i.TokenType.AtKeyword,this.keyframeRegex))return null;var e=this.create(s.Keyframe),t=this.create(s.Node);return this.consumeToken(),e.setKeyword(this.finish(t)),"@-ms-keyframes"===t.getText()&&this.markError(t,n.ParseError.UnknownKeyword),e.setIdentifier(this._parseKeyframeIdent())?this._parseBody(e,this._parseKeyframeSelector.bind(this)):this.finish(e,n.ParseError.IdentifierExpected,[i.TokenType.CurlyR])},e.prototype._parseKeyframeIdent=function(){return this._parseIdent([s.ReferenceType.Keyframe])},e.prototype._parseKeyframeSelector=function(){var e=this.create(s.KeyframeSelector);if(!e.addChild(this._parseIdent())&&!this.accept(i.TokenType.Percentage))return null;for(;this.accept(i.TokenType.Comma);)if(!e.addChild(this._parseIdent())&&!this.accept(i.TokenType.Percentage))return this.finish(e,n.ParseError.PercentageExpected);return this._parseBody(e,this._parseRuleSetDeclaration.bind(this))},e.prototype._tryParseKeyframeSelector=function(){var e=this.create(s.KeyframeSelector),t=this.mark();if(!e.addChild(this._parseIdent())&&!this.accept(i.TokenType.Percentage))return null;for(;this.accept(i.TokenType.Comma);)if(!e.addChild(this._parseIdent())&&!this.accept(i.TokenType.Percentage))return this.restoreAtMark(t),null;return this.peek(i.TokenType.CurlyL)?this._parseBody(e,this._parseRuleSetDeclaration.bind(this)):(this.restoreAtMark(t),null)},e.prototype._parseSupports=function(e){if(void 0===e&&(e=!1),!this.peekKeyword("@supports"))return null;var t=this.create(s.Supports);return this.consumeToken(),t.addChild(this._parseSupportsCondition()),this._parseBody(t,this._parseSupportsDeclaration.bind(this,e))},e.prototype._parseSupportsDeclaration=function(e){return void 0===e&&(e=!1),e?this._tryParseRuleset(!0)||this._tryToParseDeclaration()||this._parseStylesheetStatement(!0):this._parseStylesheetStatement(!1)},e.prototype._parseSupportsCondition=function(){var e=this.create(s.SupportsCondition);if(this.acceptIdent("not"))e.addChild(this._parseSupportsConditionInParens());else if(e.addChild(this._parseSupportsConditionInParens()),this.peekRegExp(i.TokenType.Ident,/^(and|or)$/i))for(var t=this.token.text.toLowerCase();this.acceptIdent(t);)e.addChild(this._parseSupportsConditionInParens());return this.finish(e)},e.prototype._parseSupportsConditionInParens=function(){var e=this.create(s.SupportsCondition);if(this.accept(i.TokenType.ParenthesisL))return e.lParent=this.prevToken.offset,e.addChild(this._tryToParseDeclaration())||this._parseSupportsCondition()?this.accept(i.TokenType.ParenthesisR)?(e.rParent=this.prevToken.offset,this.finish(e)):this.finish(e,n.ParseError.RightParenthesisExpected,[i.TokenType.ParenthesisR],[]):this.finish(e,n.ParseError.ConditionExpected);if(this.peek(i.TokenType.Ident)){var t=this.mark();if(this.consumeToken(),!this.hasWhitespace()&&this.accept(i.TokenType.ParenthesisL)){for(var r=1;this.token.type!==i.TokenType.EOF&&0!==r;)this.token.type===i.TokenType.ParenthesisL?r++:this.token.type===i.TokenType.ParenthesisR&&r--,this.consumeToken();return this.finish(e)}this.restoreAtMark(t)}return this.finish(e,n.ParseError.LeftParenthesisExpected,[],[i.TokenType.ParenthesisL])},e.prototype._parseMediaDeclaration=function(e){return void 0===e&&(e=!1),e?this._tryParseRuleset(!0)||this._tryToParseDeclaration()||this._parseStylesheetStatement(!0):this._parseStylesheetStatement(!1)},e.prototype._parseMedia=function(e){if(void 0===e&&(e=!1),!this.peekKeyword("@media"))return null;var t=this.create(s.Media);return this.consumeToken(),t.addChild(this._parseMediaQueryList())?this._parseBody(t,this._parseMediaDeclaration.bind(this,e)):this.finish(t,n.ParseError.MediaQueryExpected)},e.prototype._parseMediaQueryList=function(){var e=this.create(s.Medialist);if(!e.addChild(this._parseMediaQuery([i.TokenType.CurlyL])))return this.finish(e,n.ParseError.MediaQueryExpected);for(;this.accept(i.TokenType.Comma);)if(!e.addChild(this._parseMediaQuery([i.TokenType.CurlyL])))return this.finish(e,n.ParseError.MediaQueryExpected);return this.finish(e)},e.prototype._parseMediaQuery=function(e){var t=this.create(s.MediaQuery),r=!0,o=!1;if(!this.peek(i.TokenType.ParenthesisL)){if(this.acceptIdent("only")||this.acceptIdent("not"),!t.addChild(this._parseIdent()))return null;o=!0,r=this.acceptIdent("and")}for(;r;){if(!this.accept(i.TokenType.ParenthesisL))return o?this.finish(t,n.ParseError.LeftParenthesisExpected,[],e):null;if(!t.addChild(this._parseMediaFeatureName()))return this.finish(t,n.ParseError.IdentifierExpected,[],e);if(this.accept(i.TokenType.Colon)&&!t.addChild(this._parseExpr()))return this.finish(t,n.ParseError.TermExpected,[],e);if(!this.accept(i.TokenType.ParenthesisR))return this.finish(t,n.ParseError.RightParenthesisExpected,[],e);r=this.acceptIdent("and")}return this.finish(t)},e.prototype._parseMediaFeatureName=function(){return this._parseIdent()},e.prototype._parseMedium=function(){var e=this.create(s.Node);return e.addChild(this._parseIdent())?this.finish(e):null},e.prototype._parsePageDeclaration=function(){return this._parsePageMarginBox()||this._parseRuleSetDeclaration()},e.prototype._parsePage=function(){if(!this.peekKeyword("@page"))return null;var e=this.create(s.Page);if(this.consumeToken(),e.addChild(this._parsePageSelector()))for(;this.accept(i.TokenType.Comma);)if(!e.addChild(this._parsePageSelector()))return this.finish(e,n.ParseError.IdentifierExpected);return this._parseBody(e,this._parsePageDeclaration.bind(this))},e.prototype._parsePageMarginBox=function(){if(!this.peek(i.TokenType.AtKeyword))return null;var e=this.create(s.PageBoxMarginBox);return this.acceptOneKeyword(o.pageBoxDirectives)||this.markError(e,n.ParseError.UnknownAtRule,[],[i.TokenType.CurlyL]),this._parseBody(e,this._parseRuleSetDeclaration.bind(this))},e.prototype._parsePageSelector=function(){if(!this.peek(i.TokenType.Ident)&&!this.peek(i.TokenType.Colon))return null;var e=this.create(s.Node);return e.addChild(this._parseIdent()),this.accept(i.TokenType.Colon)&&!e.addChild(this._parseIdent())?this.finish(e,n.ParseError.IdentifierExpected):this.finish(e)},e.prototype._parseDocument=function(){if(!this.peekKeyword("@-moz-document"))return null;var e=this.create(s.Document);return this.consumeToken(),this.resync([],[i.TokenType.CurlyL]),this._parseBody(e,this._parseStylesheetStatement.bind(this))},e.prototype._parseUnknownAtRule=function(){if(!this.peek(i.TokenType.AtKeyword))return null;var e=this.create(s.UnknownAtRule);e.addChild(this._parseUnknownAtRuleName());var t=function(){return 0===o&&0===a&&0===p},r=0,o=0,a=0,p=0;e:for(;;){switch(this.token.type){case i.TokenType.SemiColon:if(t())break e;break;case i.TokenType.EOF:return o>0?this.finish(e,n.ParseError.RightCurlyExpected):p>0?this.finish(e,n.ParseError.RightSquareBracketExpected):a>0?this.finish(e,n.ParseError.RightParenthesisExpected):this.finish(e);case i.TokenType.CurlyL:r++,o++;break;case i.TokenType.CurlyR:if(o--,r>0&&0===o){if(this.consumeToken(),p>0)return this.finish(e,n.ParseError.RightSquareBracketExpected);if(a>0)return this.finish(e,n.ParseError.RightParenthesisExpected);break e}if(0>o){if(0===a&&0===p)break e;return this.finish(e,n.ParseError.LeftCurlyExpected)}break;case i.TokenType.ParenthesisL:a++;break;case i.TokenType.ParenthesisR:if(a--,0>a)return this.finish(e,n.ParseError.LeftParenthesisExpected);break;case i.TokenType.BracketL:p++;break;case i.TokenType.BracketR:if(p--,0>p)return this.finish(e,n.ParseError.LeftSquareBracketExpected)}this.consumeToken()}return e},e.prototype._parseUnknownAtRuleName=function(){var e=this.create(s.Node);return this.accept(i.TokenType.AtKeyword)?this.finish(e):e},e.prototype._parseOperator=function(){if(this.peekDelim("/")||this.peekDelim("*")||this.peekDelim("+")||this.peekDelim("-")||this.peek(i.TokenType.Dashmatch)||this.peek(i.TokenType.Includes)||this.peek(i.TokenType.SubstringOperator)||this.peek(i.TokenType.PrefixOperator)||this.peek(i.TokenType.SuffixOperator)||this.peekDelim("=")){var e=this.createNode(s.NodeType.Operator);return this.consumeToken(),this.finish(e)}return null},e.prototype._parseUnaryOperator=function(){if(!this.peekDelim("+")&&!this.peekDelim("-"))return null;var e=this.create(s.Node);return this.consumeToken(),this.finish(e)},e.prototype._parseCombinator=function(){if(this.peekDelim(">")){var e=this.create(s.Node);this.consumeToken();var t=this.mark();if(!this.hasWhitespace()&&this.acceptDelim(">")){if(!this.hasWhitespace()&&this.acceptDelim(">"))return e.type=s.NodeType.SelectorCombinatorShadowPiercingDescendant,this.finish(e);this.restoreAtMark(t)}return e.type=s.NodeType.SelectorCombinatorParent,this.finish(e)}if(this.peekDelim("+")){var e=this.create(s.Node);return this.consumeToken(),e.type=s.NodeType.SelectorCombinatorSibling,this.finish(e)}if(this.peekDelim("~")){var e=this.create(s.Node);return this.consumeToken(),e.type=s.NodeType.SelectorCombinatorAllSiblings,this.finish(e)}if(!this.peekDelim("/"))return null;var e=this.create(s.Node);this.consumeToken();var t=this.mark();return!this.hasWhitespace()&&this.acceptIdent("deep")&&!this.hasWhitespace()&&this.acceptDelim("/")?(e.type=s.NodeType.SelectorCombinatorShadowPiercingDescendant,this.finish(e)):void this.restoreAtMark(t)},e.prototype._parseSimpleSelector=function(){var e=this.create(s.SimpleSelector),t=0;for(e.addChild(this._parseElementName())&&t++;(0===t||!this.hasWhitespace())&&e.addChild(this._parseSimpleSelectorBody());)t++;return t>0?this.finish(e):null},e.prototype._parseSimpleSelectorBody=function(){return this._parsePseudo()||this._parseHash()||this._parseClass()||this._parseAttrib()},e.prototype._parseSelectorIdent=function(){return this._parseIdent()},e.prototype._parseHash=function(){if(!this.peek(i.TokenType.Hash)&&!this.peekDelim("#"))return null;var e=this.createNode(s.NodeType.IdentifierSelector);if(this.acceptDelim("#")){if(this.hasWhitespace()||!e.addChild(this._parseSelectorIdent()))return this.finish(e,n.ParseError.IdentifierExpected)}else this.consumeToken();return this.finish(e)},e.prototype._parseClass=function(){if(!this.peekDelim("."))return null;var e=this.createNode(s.NodeType.ClassSelector);return this.consumeToken(),this.hasWhitespace()||!e.addChild(this._parseSelectorIdent())?this.finish(e,n.ParseError.IdentifierExpected):this.finish(e)},e.prototype._parseElementName=function(){var e=this.mark(),t=this.createNode(s.NodeType.ElementNameSelector);return t.addChild(this._parseNamespacePrefix()),t.addChild(this._parseSelectorIdent())||this.acceptDelim("*")?this.finish(t):(this.restoreAtMark(e),null)},e.prototype._parseNamespacePrefix=function(){var e=this.mark(),t=this.createNode(s.NodeType.NamespacePrefix);return!t.addChild(this._parseIdent())&&!this.acceptDelim("*"),this.acceptDelim("|")?this.finish(t):(this.restoreAtMark(e),null)},e.prototype._parseAttrib=function(){if(!this.peek(i.TokenType.BracketL))return null;var e=this.create(s.AttributeSelector);return this.consumeToken(),e.setNamespacePrefix(this._parseNamespacePrefix()),e.setIdentifier(this._parseIdent())?(e.setOperator(this._parseOperator())&&(e.setValue(this._parseBinaryExpr()),this.acceptIdent("i")),this.accept(i.TokenType.BracketR)?this.finish(e):this.finish(e,n.ParseError.RightSquareBracketExpected)):this.finish(e,n.ParseError.IdentifierExpected)},e.prototype._parsePseudo=function(){var e=this,t=this._tryParsePseudoIdentifier();if(t){if(!this.hasWhitespace()&&this.accept(i.TokenType.ParenthesisL)){var r=function(){var t=e.create(s.Node);if(!t.addChild(e._parseSelector(!1)))return null;for(;e.accept(i.TokenType.Comma)&&t.addChild(e._parseSelector(!1)););return e.peek(i.TokenType.ParenthesisR)?e.finish(t):void 0};if(t.addChild(this.try(r)||this._parseBinaryExpr()),!this.accept(i.TokenType.ParenthesisR))return this.finish(t,n.ParseError.RightParenthesisExpected)}return this.finish(t)}return null},e.prototype._tryParsePseudoIdentifier=function(){if(!this.peek(i.TokenType.Colon))return null;var e=this.mark(),t=this.createNode(s.NodeType.PseudoSelector);return this.consumeToken(),this.hasWhitespace()?(this.restoreAtMark(e),null):(this.accept(i.TokenType.Colon)&&this.hasWhitespace()&&this.markError(t,n.ParseError.IdentifierExpected),t.addChild(this._parseIdent())||this.markError(t,n.ParseError.IdentifierExpected),t)},e.prototype._tryParsePrio=function(){var e=this.mark(),t=this._parsePrio();return t?t:(this.restoreAtMark(e),null)},e.prototype._parsePrio=function(){if(!this.peek(i.TokenType.Exclamation))return null;var e=this.createNode(s.NodeType.Prio);return this.accept(i.TokenType.Exclamation)&&this.acceptIdent("important")?this.finish(e):null},e.prototype._parseExpr=function(e){void 0===e&&(e=!1);var t=this.create(s.Expression);if(!t.addChild(this._parseBinaryExpr()))return null;for(;;){if(this.peek(i.TokenType.Comma)){if(e)return this.finish(t);this.consumeToken()}if(!t.addChild(this._parseBinaryExpr()))break}return this.finish(t)},e.prototype._parseNamedLine=function(){if(!this.peek(i.TokenType.BracketL))return null;var e=this.createNode(s.NodeType.GridLine);for(this.consumeToken();e.addChild(this._parseIdent()););return this.accept(i.TokenType.BracketR)?this.finish(e):this.finish(e,n.ParseError.RightSquareBracketExpected)},e.prototype._parseBinaryExpr=function(e,t){var r=this.create(s.BinaryExpression);if(!r.setLeft(e||this._parseTerm()))return null;if(!r.setOperator(t||this._parseOperator()))return this.finish(r);if(!r.setRight(this._parseTerm()))return this.finish(r,n.ParseError.TermExpected);r=this.finish(r);var i=this._parseOperator();return i&&(r=this._parseBinaryExpr(r,i)),this.finish(r)},e.prototype._parseTerm=function(){var e=this.create(s.Term);return e.setOperator(this._parseUnaryOperator()),e.setExpression(this._parseURILiteral())||e.setExpression(this._parseFunction())||e.setExpression(this._parseIdent())||e.setExpression(this._parseStringLiteral())||e.setExpression(this._parseNumeric())||e.setExpression(this._parseHexColor())||e.setExpression(this._parseOperation())||e.setExpression(this._parseNamedLine())?this.finish(e):null},e.prototype._parseOperation=function(){if(!this.peek(i.TokenType.ParenthesisL))return null;var e=this.create(s.Node);return this.consumeToken(),e.addChild(this._parseExpr()),this.accept(i.TokenType.ParenthesisR)?this.finish(e):this.finish(e,n.ParseError.RightParenthesisExpected)},e.prototype._parseNumeric=function(){if(this.peek(i.TokenType.Num)||this.peek(i.TokenType.Percentage)||this.peek(i.TokenType.Resolution)||this.peek(i.TokenType.Length)||this.peek(i.TokenType.EMS)||this.peek(i.TokenType.EXS)||this.peek(i.TokenType.Angle)||this.peek(i.TokenType.Time)||this.peek(i.TokenType.Dimension)||this.peek(i.TokenType.Freq)){var e=this.create(s.NumericValue);return this.consumeToken(),this.finish(e)}return null},e.prototype._parseStringLiteral=function(){if(!this.peek(i.TokenType.String)&&!this.peek(i.TokenType.BadString))return null;var e=this.createNode(s.NodeType.StringLiteral);return this.consumeToken(),this.finish(e)},e.prototype._parseURILiteral=function(){if(!this.peekRegExp(i.TokenType.Ident,/^url(-prefix)?$/i))return null;var e=this.mark(),t=this.createNode(s.NodeType.URILiteral);return this.accept(i.TokenType.Ident),this.hasWhitespace()||!this.peek(i.TokenType.ParenthesisL)?(this.restoreAtMark(e),null):(this.scanner.inURL=!0,this.consumeToken(),t.addChild(this._parseURLArgument()),this.scanner.inURL=!1,this.accept(i.TokenType.ParenthesisR)?this.finish(t):this.finish(t,n.ParseError.RightParenthesisExpected))},e.prototype._parseURLArgument=function(){var e=this.create(s.Node);return this.accept(i.TokenType.String)||this.accept(i.TokenType.BadString)||this.acceptUnquotedString()?this.finish(e):null},e.prototype._parseIdent=function(e){if(!this.peek(i.TokenType.Ident))return null;var t=this.create(s.Identifier);return e&&(t.referenceTypes=e),t.isCustomProperty=this.peekRegExp(i.TokenType.Ident,/^--/),this.consumeToken(),this.finish(t)},e.prototype._parseFunction=function(){var e=this.mark(),t=this.create(s.Function);if(!t.setIdentifier(this._parseFunctionIdentifier()))return null;if(this.hasWhitespace()||!this.accept(i.TokenType.ParenthesisL))return this.restoreAtMark(e),null;if(t.getArguments().addChild(this._parseFunctionArgument()))for(;this.accept(i.TokenType.Comma)&&!this.peek(i.TokenType.ParenthesisR);)t.getArguments().addChild(this._parseFunctionArgument())||this.markError(t,n.ParseError.ExpressionExpected);return this.accept(i.TokenType.ParenthesisR)?this.finish(t):this.finish(t,n.ParseError.RightParenthesisExpected)},e.prototype._parseFunctionIdentifier=function(){if(!this.peek(i.TokenType.Ident))return null;var e=this.create(s.Identifier);if(e.referenceTypes=[s.ReferenceType.Function],this.acceptIdent("progid")){if(this.accept(i.TokenType.Colon))for(;this.accept(i.TokenType.Ident)&&this.acceptDelim("."););return this.finish(e)}return this.consumeToken(),this.finish(e)},e.prototype._parseFunctionArgument=function(){var e=this.create(s.FunctionArgument);return e.setValue(this._parseExpr(!0))?this.finish(e):null},e.prototype._parseHexColor=function(){if(this.peekRegExp(i.TokenType.Hash,/^#([A-Fa-f0-9]{3}|[A-Fa-f0-9]{4}|[A-Fa-f0-9]{6}|[A-Fa-f0-9]{8})$/g)){var e=this.create(s.HexColorValue);return this.consumeToken(),this.finish(e)}return null},e}();t.Parser=a});