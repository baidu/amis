---
title: è¡¨è¾¾å¼
description:
type: 0
group: ğŸ’¡ æ¦‚å¿µ
menuName: è¡¨è¾¾å¼
icon:
order: 13
---

ä¸€èˆ¬æ¥è¯´ï¼Œå±æ€§åç±»ä¼¼äº`xxxOn` æˆ–è€… `className` çš„é…ç½®é¡¹ï¼Œéƒ½å¯ä»¥ä½¿ç”¨è¡¨è¾¾å¼è¿›è¡Œé…ç½®ï¼Œè¡¨è¾¾å¼å…·æœ‰å¦‚ä¸‹çš„è¯­æ³•ï¼š

```json
{
  "type": "tpl",
  "tpl": "å½“å‰ä½œç”¨åŸŸä¸­å˜é‡ show æ˜¯ 1 çš„æ—¶å€™æ‰å¯ä»¥çœ‹å¾—åˆ°æˆ‘å“¦~",
  "visibleOn": "this.show === 1"
}
```

å…¶ä¸­ï¼š`this.show === 1` å°±æ˜¯è¡¨è¾¾å¼ã€‚

## è¡¨è¾¾å¼è¯­æ³•

> è¡¨è¾¾å¼è¯­æ³•å®é™…ä¸Šæ˜¯ JavaScript ä»£ç ï¼Œæ›´å¤š JavaScript çŸ¥è¯†æŸ¥çœ‹ [è¿™é‡Œ](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript)ã€‚

åœ¨ amis çš„å®ç°è¿‡ç¨‹ä¸­ï¼Œå½“æ­£åˆ™åŒ¹é…åˆ°æŸä¸ªç»„ä»¶å­˜åœ¨`xxxOn`è¯­æ³•çš„å±æ€§åæ—¶ï¼Œä¼šå°è¯•è¿›è¡Œä¸‹é¢æ­¥éª¤ï¼ˆä»¥ä¸Šé¢é…ç½®ä¸ºä¾‹ï¼‰ï¼š

1. æå–`visibleOn`é…ç½®é¡¹é…ç½®çš„ JavaScript è¯­å¥`this.show === 1`ï¼Œå¹¶ä»¥å½“å‰ç»„ä»¶çš„æ•°æ®åŸŸä¸ºè¿™æ®µä»£ç çš„æ•°æ®ä½œç”¨åŸŸï¼Œæ‰§è¡Œè¿™æ®µ js ä»£ç ï¼›
2. ä¹‹åå°†æ‰§è¡Œç»“æœèµ‹å€¼ç»™`visible`å¹¶æ·»åŠ åˆ°ç»„ä»¶å±æ€§ä¸­
3. æ‰§è¡Œæ¸²æŸ“ã€‚å½“å‰ç¤ºä¾‹ä¸­ï¼š`visible`ä»£è¡¨ç€æ˜¯å¦æ˜¾ç¤ºå½“å‰ç»„ä»¶ï¼›

ç»„ä»¶ä¸åŒçš„é…ç½®é¡¹ä¼šæœ‰ä¸åŒçš„æ•ˆæœï¼Œè¯·å¤§å®¶åœ¨ç»„ä»¶æ–‡æ¡£ä¸­å¤šç•™æ„ã€‚

> è¡¨è¾¾å¼çš„æ‰§è¡Œç»“æœé¢„æœŸåº”è¯¥æ˜¯`boolean`ç±»å‹å€¼ï¼Œå¦‚æœä¸æ˜¯ï¼Œamis ä¼šæ ¹æ® JavaScript çš„è§„åˆ™å°†ç»“æœè§†ä½œ`boolean`ç±»å‹è¿›è¡Œåˆ¤æ–­

## æ–°è¡¨è¾¾å¼è¯­æ³•

> 1.5.0 åŠä»¥ä¸Šç‰ˆæœ¬

åŸæ¥çš„è¡¨è¾¾å¼ç”¨çš„å°±æ˜¯åŸç”Ÿ jsï¼Œçµæ´»æ€§è™½å¤§ï¼Œä½†æ˜¯å®‰å…¨æ€§ä¸ä½³ï¼Œä¸ºäº†ä¸åç«¯å…¬å¼ä¿æŒç»Ÿä¸€ï¼Œæ•…å¼•å…¥äº†æ–°çš„è§„åˆ™ï¼Œå¦‚ï¼š`${è¿™é‡Œæ˜¯è¡¨è¾¾å¼}`ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœå¼€å§‹å­—ç¬¦æ˜¯ `${` ä¸” `}` ç»“å°¾åˆ™è®¤ä¸ºæ˜¯æ–°ç‰ˆæœ¬çš„è¡¨è¾¾å¼ã€‚è¿™ä¸ªè§„åˆ™ä¸æ¨¡æ¿ä¸­çš„è¯­æ³•ä¿æŒä¸€è‡´ã€‚

- `${a == 1}` å˜é‡ a æ˜¯å¦å’Œ 1 ç›¸ç­‰
- `${a % 2}` å˜é‡ a æ˜¯å¦ä¸ºå¶æ•°ã€‚

è¡¨è¾¾å¼ä¸­çš„è¯­æ³•ä¸é»˜è®¤æ¨¡æ¿ä¸­çš„è¯­æ³•ä¿æŒä¸€è‡´ï¼Œæ‰€ä»¥ä»¥ä¸‹ç¤ºä¾‹ç›´æ¥ç”¨æ¨¡æ¿æ¥æ–¹ä¾¿å‘ˆç°ç»“æœã€‚

```schema
{
  "type": "page",
  "data": {
    "a": 1,
    "key": "y",
    "obj": {
      "x": 2,
      "y": 3
    },
    "arr": [1, 2, 3]
  },
  "body": [
    "a is ${a} <br />",
    "a + 1 is ${a + 1} <br />",
    "obj.x is ${obj.x} <br />",
    "obj['x'] is ${obj['x']} <br />",
    "obj[key] is ${obj[key]} <br />",
    "arr[0] is ${arr[0]} <br />",
    "arr[a] is ${arr[a]} <br />",
    "arr[a + 1] is ${arr[a + 1]} <br />"
  ]
}
```

_ç‰¹æ®Šå­—ç¬¦å˜é‡å_

> 1.6.1 åŠä»¥ä¸Šç‰ˆæœ¬

é»˜è®¤å˜é‡åä¸æ”¯æŒç‰¹æ®Šå­—ç¬¦æ¯”å¦‚ `${ xxx.yyy }` æ„æ€å– xxx å˜é‡çš„ yyy å±æ€§ï¼Œå¦‚æœå˜é‡åå°±æ˜¯ `xxx.yyy` æ€ä¹ˆè·å–ï¼Ÿè¿™ä¸ªæ—¶å€™éœ€è¦ç”¨åˆ°è½¬ä¹‰è¯­æ³•ï¼Œå¦‚ï¼š`${ xxx\.yyy }`

### å…¬å¼

é™¤äº†æ”¯æŒç®€å•è¡¨è¾¾å¼å¤–ï¼Œè¿˜é›†æˆäº†å¾ˆå¤šå…¬å¼(å‡½æ•°)å¦‚ `${ AVG(1, 2, 3, 4)}`ï¼š

```schema
{
  "type": "page",
  "data": {
    "a": "",
    "è¯­æ–‡æˆç»©": 81
  },
  "body": [
    "1, 2, 3, 4 çš„å¹³å‡æ•°ä½ ${ AVG(1, 2, 3, 4)}",

    "å½“å‰æˆç»©ï¼š${IF(è¯­æ–‡æˆç»© > 80, 'ä¼˜ç§€', 'ç»§ç»­åŠªåŠ›')}"
  ]
}
```

## å‡½æ•°è°ƒç”¨ç¤ºä¾‹

å‡½æ•°æ”¯æŒåµŒå¥—ï¼Œå‚æ•°æ”¯æŒå¸¸é‡åŠå˜é‡

```schema
{
  "type": "page",
  "body": [
    {
      "type": "form",
      "wrapWithPanel": false,
      "data": {
        "val": 3.5
      },
      "body": [
        {
          "type": "static",
          "label": "IF(true, 2, 3)",
          "tpl": "${IF(true, 2, 3)}"
        },
        {
          "type": "static",
          "label": "MAX(1, -1, 2, 3, 5, -9)",
          "tpl": "${MAX(1, -1, 2, 3, 5, -9)}"
        },
        {
          "type": "static",
          "label": "ROUND(3.5)",
          "tpl": "${ROUND(3.5)}"
        },
        {
          "type": "static",
          "label": "ROUND(val)",
          "tpl": "${ROUND(val)}"
        },
        {
          "type": "static",
          "label": "AVG(4, 6, 10, 10, 10)",
          "tpl": "${AVG(4, 6, 10, 10, 10)}"
        },
        {
          "type": "static",
          "label": "UPPERMONEY(7682.01)",
          "tpl": "${UPPERMONEY(7682.01)}"
        },
        {
          "type": "static",
          "label": "TIMESTAMP(DATE(2021, 11, 21, 0, 0, 0), 'x')",
          "tpl": "${TIMESTAMP(DATE(2021, 11, 21, 0, 0, 0), 'x')}"
        },
        {
          "type": "static",
          "label": "DATETOSTR(NOW(), 'YYYY-MM-DD')",
          "tpl": "${DATETOSTR(NOW(), 'YYYY-MM-DD')}"
        }
      ]
    }
  ]
}
```

ä¸‹é¢æ˜¯ç›®å‰æ‰€æ”¯æŒå‡½æ•°çš„ä½¿ç”¨æ‰‹å†Œ

!!!include(amis-formula/lib/doc.md)!!!
