---
title: è”åŠ¨
description:
type: 0
group: ğŸ’¡ æ¦‚å¿µ
menuName: è”åŠ¨
icon:
order: 14
---

ä¸Šä¸€èŠ‚æˆ‘ä»¬ä»‹ç»äº†è¡¨è¾¾å¼çš„æ¦‚å¿µï¼Œè€Œè¡¨è¾¾å¼åº”ç”¨æœ€å¤šçš„åœºæ™¯ï¼Œæ˜¯å®ç°é¡µé¢çš„è”åŠ¨æ•ˆæœã€‚

## åŸºæœ¬è”åŠ¨

å…ƒç´ çš„è”åŠ¨æ˜¯é¡µé¢å¼€å‘ä¸­å¾ˆå¸¸è§çš„åŠŸèƒ½ä¹‹ä¸€ï¼Œç±»ä¼¼äºï¼š

- æŸä¸ªæ¡ä»¶ä¸‹æ˜¾ç¤ºæˆ–éšè—æŸä¸ªç»„ä»¶
- æŸä¸ªæ¡ä»¶ä¸‹è¯·æ±‚æ¥å£
- æŸä¸ªæ¡ä»¶ä¸‹è½®è¯¢æ¥å£åœæ­¢è½®è¯¢
- ç­‰ç­‰...

> è”åŠ¨é…ç½®é¡¹ä¸€èˆ¬éƒ½æ˜¯ [è¡¨è¾¾å¼](./expression)

### ç»„ä»¶é…ç½®è”åŠ¨

æ§åˆ¶ç»„ä»¶çš„æ˜¾éšï¼Œè¡¨å•é¡¹çš„ç¦ç”¨çŠ¶æ€ç­‰ï¼Œçœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š

```schema: scope="body"
{
    "type": "form",
    "body": [
        {
            "type": "radios",
            "name": "foo",
            "label": false,
            "options": [
                {
                    "label": "ç±»å‹1",
                    "value": 1
                },
                {
                    "label": "ç±»å‹2",
                    "value": 2
                }
            ]
        },
        {
            "type": "input-text",
            "name": "text1",
            "label": false,
            "placeholder": "é€‰ä¸­ ç±»å‹1 æ—¶å¯è§",
            "visibleOn": "${foo == 1}"
        },
        {
            "type": "input-text",
            "name": "text2",
            "label": false,
            "placeholder": "é€‰ä¸­ ç±»å‹2 æ—¶ä¸å¯ç‚¹",
            "disabledOn": "${foo == 2}"
        }
    ]
}
```

ä¸Šé¢å®ä¾‹ä¸»è¦ä¸ºä¸€ä¸ªè¡¨å•ï¼Œè¡¨å•å†…æœ‰ä¸‰ä¸ªç»„ä»¶ï¼šä¸€ä¸ª`radio`, ä¸¤ä¸ª`text`ï¼Œé€šè¿‡é…ç½®è”åŠ¨é…ç½®é¡¹ï¼Œå®ç°ä¸‹é¢è”åŠ¨æ•ˆæœï¼š

1. åªè¦å½“`radio`é€‰ä¸­`ç±»å‹1`æ—¶ï¼Œæ‰ä¼šæ˜¾ç¤º`text1`ï¼›
2. å½“`radio`é€‰ä¸­`ç±»å‹2`æ—¶ï¼Œ`text2`å°†ä¼šå˜ä¸º`ç¦ç”¨çŠ¶æ€`

> **æ³¨æ„ï¼š**
>
> åœ¨è¡¨å•é¡¹è”åŠ¨ä¸­ï¼Œä¸ºäº†æ–¹ä¾¿æ•°æ®çš„è¯»å–ï¼Œèµ‹å€¼åæˆ–è€…ä¿®æ”¹è¿‡çš„è¡¨å•é¡¹ï¼Œé€šè¿‡éšè—åï¼Œå¹¶ä¸ä¼šåœ¨å½“å‰æ•°æ®åŸŸä¸­åˆ é™¤æ‰è¯¥å­—æ®µå€¼ï¼Œå› æ­¤é»˜è®¤æäº¤çš„æ—¶å€™å¯èƒ½ä»ç„¶ä¼šå¸¦ä¸Šå·²éšè—è¡¨å•é¡¹çš„å€¼ã€‚
>
> å¦‚æœæƒ³è¦åœ¨æäº¤æ—¶å»æ‰æŸä¸ªéšè—çš„å­—æ®µï¼Œå¯ä»¥é€šè¿‡æ·»åŠ  [clearValueOnHidden](../../components/form/formitem#éšè—æ—¶åˆ é™¤è¡¨å•é¡¹å€¼) å±æ€§å®ç°ã€‚

### æ¥å£è”åŠ¨

#### åŸºæœ¬ä½¿ç”¨

æ¥å£è”åŠ¨æ˜¯å¦å¤–ä¸€ç§å¾ˆå¸¸è§çš„åœºæ™¯ï¼ŒæŸ¥çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š

```schema: scope="body"
{
    "title": "",
    "type": "form",
    "mode": "horizontal",
    "body": [
      {
        "label": "é€‰é¡¹1",
        "type": "radios",
        "name": "a",
        "inline": true,
        "options": [
          {
            "label": "é€‰é¡¹A",
            "value": 1
          },
          {
            "label": "é€‰é¡¹B",
            "value": 2
          },
          {
            "label": "é€‰é¡¹C",
            "value": 3
          }
        ]
      },
      {
        "label": "é€‰é¡¹2",
        "type": "select",
        "size": "sm",
        "name": "b",
        "source": "/api/mock2/options/level2?a=${a}",
        "description": "åˆ‡æ¢<code>é€‰é¡¹1</code>çš„å€¼ï¼Œä¼šè§¦å‘<code>é€‰é¡¹2</code>çš„<code>source</code> æ¥å£é‡æ–°æ‹‰å–"
      }
    ],
    "actions": []
}
```

ä¸Šé¢ä¾‹å­æˆ‘ä»¬å®ç°äº†è¿™ä¸ªé€»è¾‘ï¼šæ¯æ¬¡é€‰æ‹©`é€‰é¡¹1`çš„æ—¶å€™ï¼Œä¼šè§¦å‘`é€‰é¡¹2`çš„`source`é…ç½®çš„æ¥å£é‡æ–°è¯·æ±‚ï¼Œå¹¶è¿”å›ä¸åŒçš„ä¸‹æ‹‰é€‰é¡¹ã€‚

æ˜¯å¦‚ä½•åšåˆ°çš„ï¼Ÿ

å®é™…ä¸Šï¼Œæ‰€æœ‰**åˆå§‹åŒ–æ¥å£é“¾æ¥ä¸Šä½¿ç”¨æ•°æ®æ˜ å°„è·å–å‚æ•°çš„å½¢å¼**æ—¶ï¼Œä¾‹å¦‚ä¸‹é¢çš„`query=${query}`ï¼Œåœ¨å½“å‰æ•°æ®åŸŸä¸­ï¼Œ**æ‰€å¼•ç”¨çš„å˜é‡å€¼ï¼ˆå³ queryï¼‰å‘ç”Ÿå˜åŒ–æ—¶**ï¼Œè‡ªåŠ¨é‡æ–°è¯·æ±‚è¯¥æ¥å£ã€‚

```json
{
  "initApi": "/api/initData?query=${query}"
}
```

> **tip:**
>
> è§¦å‘æ‰€å¼•ç”¨å˜é‡å€¼å‘ç”Ÿå˜åŒ–çš„æ–¹å¼æœ‰ä»¥ä¸‹å‡ ç§ï¼š
>
> 1. é€šè¿‡å¯¹è¡¨å•é¡¹çš„ä¿®æ”¹ï¼Œå¯ä»¥æ›´æ”¹è¡¨å•é¡¹`name`å±æ€§å€¼æ‰€é…ç½®å˜é‡çš„å€¼ï¼›
> 2. é€šè¿‡[ç»„ä»¶é—´è”åŠ¨](./linkage#%E7%BB%84%E4%BB%B6%E9%97%B4%E8%81%94%E5%8A%A8)ï¼Œå°†å…¶ä»–ç»„ä»¶çš„å€¼å‘é€åˆ°ç›®æ ‡ç»„ä»¶ï¼Œè¿›è¡Œæ•°æ®åŸŸçš„æ›´æ–°ï¼Œä»è€Œè§¦å‘è”åŠ¨æ•ˆæœ
>
> æ¥å£è”åŠ¨ä¸€èˆ¬åªé€‚ç”¨äºåˆå§‹åŒ–æ¥å£ï¼Œä¾‹å¦‚ï¼š
>
> - `form`ç»„ä»¶ä¸­çš„`initApi`ï¼›
> - `select`ç»„ä»¶ä¸­çš„`source`é€‰é¡¹æºæ¥å£`url`, `data`åªèƒ½ç”¨äºä¸»åŠ¨è”åŠ¨ï¼›
> - `service`ç»„ä»¶ä¸­çš„`api`å’Œ`schemaApi`ï¼›
> - `crud`ç»„ä»¶ä¸­çš„`api`ï¼›ï¼ˆcrud é»˜è®¤æ˜¯è·Ÿåœ°å€æ è”åŠ¨ï¼Œå¦‚æœè¦åšè¯·å…³é—­åŒæ­¥åœ°å€æ  syncLocation: falseï¼‰
> - ç­‰ç­‰...

> å¦‚æœ api åœ°å€ä¸­æœ‰å˜é‡ï¼Œæ¯”å¦‚ `/api/mock2/sample/${id}`ï¼Œamis å°±ä¸ä¼šè‡ªåŠ¨åŠ ä¸Šåˆ†é¡µå‚æ•°ï¼Œéœ€è¦è‡ªå·±åŠ ä¸Šï¼Œæ”¹æˆ `/api/mock2/sample/${id}?page=${page}&perPage=${perPage}`

#### é…ç½®è¯·æ±‚æ¡ä»¶

é»˜è®¤åœ¨å˜é‡å˜åŒ–æ—¶ï¼Œæ€»æ˜¯ä¼šå»è¯·æ±‚è”åŠ¨çš„æ¥å£ï¼Œä½ ä¹Ÿå¯ä»¥é…ç½®è¯·æ±‚æ¡ä»¶ï¼Œå½“åªæœ‰å½“å‰æ•°æ®åŸŸä¸­æŸä¸ªå€¼ç¬¦åˆç‰¹å®šæ¡ä»¶æ‰å»è¯·æ±‚è¯¥æ¥å£ã€‚

```schema: scope="body"
{
    "title": "",
    "type": "form",
    "mode": "horizontal",
    "body": [
      {
        "label": "é€‰é¡¹1",
        "type": "radios",
        "name": "a",
        "inline": true,
        "options": [
          {
            "label": "é€‰é¡¹A",
            "value": 1
          },
          {
            "label": "é€‰é¡¹B",
            "value": 2
          },
          {
            "label": "é€‰é¡¹C",
            "value": 3
          }
        ]
      },
      {
        "label": "é€‰é¡¹2",
        "type": "select",
        "size": "sm",
        "name": "b",
        "source": {
            "method": "get",
            "url": "/api/mock2/options/level2?a=${a}",
            "sendOn": "this.a === 2"
        },
        "description": "åªæœ‰<code>é€‰é¡¹1</code>é€‰æ‹©<code>B</code>çš„æ—¶å€™ï¼Œæ‰è§¦å‘<code>é€‰é¡¹2</code>çš„<code>source</code>æ¥å£é‡æ–°æ‹‰å–"
      }
    ],
    "actions": []
}
```

æ›´å¤šç”¨æ³•ï¼Œè§ï¼š[Api-é…ç½®è¯·æ±‚æ¡ä»¶](../types/api#%E9%85%8D%E7%BD%AE%E8%AF%B7%E6%B1%82%E6%9D%A1%E4%BB%B6)

#### ä¸»åŠ¨è§¦å‘

ä¸Šé¢ç¤ºä¾‹æœ‰ä¸ªé—®é¢˜ï¼Œå°±æ˜¯æ•°æ®ä¸€æ—¦å˜åŒ–å°±ä¼šå‡ºå‘é‡æ–°æ‹‰å–ï¼Œè€Œè¾“å…¥æ¡†çš„é¢‘ç¹å˜åŒ–å€¼ä¼šå¯¼è‡´é¢‘ç¹çš„æ‹‰å–ï¼Ÿæ²¡å…³ç³»ï¼Œä¹Ÿå¯ä»¥é…ç½®ä¸»åŠ¨æ‹‰å–å¦‚ï¼š

```schema: scope="body"
{
    "type": "form",
    "name": "my_form",
    "body": [
      {
        "type": "input-text",
        "name": "keyword",
        "addOn": {
          "label": "æœç´¢",
          "type": "button",
          "actionType": "reload",
          "target": "my_form.select"
        }
      },
      {
        "type": "select",
        "name": "select",
        "label": "Select",
        "source": {
          "method": "get",
          "url": "/api/mock2/form/getOptions?waitSeconds=1",
          "data": {
            "a": "${keyword}"
          }
        }
      }
    ]
}
```

1. é€šè¿‡`api`å¯¹è±¡å½¢å¼ï¼Œå°†è·å–å˜é‡å€¼é…ç½®åˆ°`data`è¯·æ±‚ä½“ä¸­ã€‚
2. é…ç½®æœç´¢æŒ‰é’®ï¼Œå¹¶é…ç½®è¯¥è¡Œä¸ºæ˜¯åˆ·æ–°ç›®æ ‡ç»„ä»¶ï¼Œå¹¶é…ç½®ç›®æ ‡ç»„ä»¶`target`
3. è¿™æ ·æˆ‘ä»¬åªæœ‰åœ¨ç‚¹å‡»æœç´¢æŒ‰é’®çš„æ—¶å€™ï¼Œæ‰ä¼šå°†`keyword`å€¼å‘é€ç»™`select`ç»„ä»¶ï¼Œé‡æ–°æ‹‰å–é€‰é¡¹

### è¡¨å•æäº¤è¿”å›æ•°æ®

è¡¨å•æäº¤åä¼šå°†è¿”å›ç»“æœåˆå¹¶åˆ°å½“å‰è¡¨å•æ•°æ®åŸŸï¼Œå› æ­¤å¯ä»¥åŸºäºå®ƒå®ç°æäº¤æŒ‰é’®åæ˜¾ç¤ºç»“æœï¼Œæ¯”å¦‚

```schema: scope="body"
{
    "type": "form",
    "api": "/api/mock2/form/saveForm",
    "title": "æŸ¥è¯¢ç”¨æˆ· ID",
    "body": [
      {
        "type": "input-group",
        "name": "input-group",
        "body": [
           {
            "type": "input-text",
            "name": "name",
            "label": "å§“å"
          },
          {
            "type": "submit",
            "label": "æŸ¥è¯¢",
            "level": "primary"
          }
        ]
      },
      {
        "type": "static",
        "name": "id",
        "visibleOn": "typeof data.id !== 'undefined'",
        "label": "è¿”å› ID"
      }
    ],
    "actions": []
}
```

ä¸Šé¢çš„ä¾‹å­é¦–å…ˆç”¨ `"actions": []` å°†è¡¨å•é»˜è®¤çš„æäº¤æŒ‰é’®å»æ‰ï¼Œç„¶ååœ¨ `input-group` é‡Œæ”¾ä¸€ä¸ª `submit` ç±»å‹çš„æŒ‰é’®æ¥æ›¿ä»£è¡¨å•æŸ¥è¯¢ã€‚

è¿™ä¸ªæŸ¥è¯¢ç»“æœè¿”å›ç±»ä¼¼å¦‚ä¸‹çš„æ•°æ®

```json
{
  "status": 0,
  "msg": "ä¿å­˜æˆåŠŸ",
  "data": {
    "id": 1
  }
}
```

amis ä¼šå°†è¿”å›çš„ `data` å†™å…¥è¡¨å•æ•°æ®åŸŸï¼Œå› æ­¤ä¸‹é¢çš„ `static` ç»„ä»¶å°±èƒ½æ˜¾ç¤ºäº†ã€‚

### å…¶ä»–è”åŠ¨

è¿˜æœ‰ä¸€äº›ç»„ä»¶ç‰¹æœ‰çš„è”åŠ¨æ•ˆæœï¼Œä¾‹å¦‚ form çš„ disabledOnï¼Œcrud ä¸­çš„ itemDraggableOn ç­‰ç­‰ï¼Œå¯ä»¥å‚è€ƒç›¸åº”çš„ç»„ä»¶æ–‡æ¡£ã€‚

## ç»„ä»¶é—´è”åŠ¨

è”åŠ¨å¾ˆå¯èƒ½ä¼šå‡ºç°è·¨ç»„ä»¶çš„å½¢å¼ï¼Œæ€è€ƒä¸‹é¢è¿™ç§åœºæ™¯ï¼š

æœ‰ä¸€ä¸ªè¡¨å•`form`ç»„ä»¶ï¼Œè¿˜æœ‰ä¸€ä¸ªåˆ—è¡¨ç»„ä»¶`crud`ï¼Œæˆ‘ä»¬æƒ³è¦æŠŠ`form`æäº¤çš„æ•°æ®ï¼Œå¯ä»¥ç”¨ä½œ`crud`çš„æŸ¥è¯¢æ¡ä»¶ï¼Œå¹¶è¯·æ±‚`crud`çš„æ¥å£ï¼Œç”±äº`form`å’Œ`crud`ä½äºåŒä¸€å±‚çº§ï¼Œå› æ­¤æ²¡æ³•ä½¿ç”¨æ•°æ®é“¾çš„æ–¹å¼è¿›è¡Œå–å€¼ã€‚

```schema: scope="body"
[
    {
      "title": "æŸ¥è¯¢æ¡ä»¶",
      "type": "form",
      "body": [
        {
          "type": "input-text",
          "name": "keywords",
          "label": "å…³é”®å­—ï¼š"
        }
      ],
      "submitText": "æœç´¢"
    },
    {
      "type": "crud",
      "api": "/api/mock2/sample",
      "columns": [
            {
                "name": "id",
                "label": "ID"
            },
            {
                "name": "engine",
                "label": "Rendering engine"
            },
            {
                "name": "browser",
                "label": "Browser"
            },
            {
                "name": "platform",
                "label": "Platform(s)"
            },
            {
                "name": "version",
                "label": "Engine version"
            }
        ]
    }
]
```

ç°åœ¨æ›´æ”¹é…ç½®å¦‚ä¸‹ï¼š

```schema: scope="body"
[
    {
      "title": "æŸ¥è¯¢æ¡ä»¶",
      "type": "form",
      "target": "my_crud",
      "body": [
        {
          "type": "input-text",
          "name": "keywords",
          "label": "å…³é”®å­—ï¼š"
        }
      ],
      "submitText": "æœç´¢"
    },
    {
      "type": "crud",
      "name": "my_crud",
      "api": "/api/mock2/sample",
      "columns": [
            {
                "name": "id",
                "label": "ID"
            },
            {
                "name": "engine",
                "label": "Rendering engine"
            },
            {
                "name": "browser",
                "label": "Browser"
            },
            {
                "name": "platform",
                "label": "Platform(s)"
            },
            {
                "name": "version",
                "label": "Engine version"
            }
        ]
    }
]
```

æˆ‘ä»¬è¿›è¡Œä¸¤ä¸ªè°ƒæ•´ï¼š

1. ä¸º`crud`ç»„ä»¶è®¾ç½®äº†`name`å±æ€§ä¸º`my_crud`
2. ä¸º`form`ç»„ä»¶é…ç½®äº†`target`å±æ€§ä¸º`crud`çš„`name`ï¼š`my_crud`

æ›´æ”¹é…ç½®åï¼Œæäº¤è¡¨å•æ—¶ï¼Œamis ä¼šå¯»æ‰¾`target`æ‰€é…ç½®çš„ç›®æ ‡ç»„ä»¶ï¼ŒæŠŠ`form`ä¸­æ‰€æäº¤çš„æ•°æ®ï¼Œå‘é€ç»™è¯¥ç›®æ ‡ç»„ä»¶ä¸­ï¼Œå¹¶å°†è¯¥æ•°æ®**åˆå¹¶**åˆ°ç›®æ ‡ç»„ä»¶çš„æ•°æ®åŸŸä¸­ï¼Œå¹¶è§¦å‘ç›®æ ‡ç»„ä»¶çš„åˆ·æ–°æ“ä½œï¼Œå¯¹äº CRUD ç»„ä»¶æ¥è¯´ï¼Œåˆ·æ–°å³é‡æ–°æ‹‰å–æ•°æ®æ¥å£ã€‚

> å½“ç„¶ï¼Œ`crud`ç»„ä»¶å†…ç½®å·²ç»æ”¯æŒæ­¤åŠŸèƒ½ï¼Œä½ åªéœ€è¦é…ç½®`crud`ä¸­çš„`filter`å±æ€§ï¼Œå°±å¯ä»¥å®ç°ä¸Šé¢çš„æ•ˆæœï¼Œæ›´å¤šå†…å®¹æŸ¥çœ‹ [crud -> filter](../../components/crud) æ–‡æ¡£ã€‚

æˆ‘ä»¬å†æ¥ä¸€ä¸ªä¾‹å­ï¼Œè¿™æ¬¡æˆ‘ä»¬å®ç° [ä¸¤ä¸ª form ä¹‹é—´çš„è”åŠ¨](../../components/form/index#%E5%B0%86%E6%95%B0%E6%8D%AE%E5%9F%9F%E5%8F%91%E9%80%81%E7%BB%99%E7%9B%AE%E6%A0%87%E7%BB%84%E4%BB%B6)

### å‘é€æŒ‡å®šæ•°æ®

`target`å±æ€§æ”¯æŒé€šè¿‡é…ç½®å‚æ•°æ¥å‘é€æŒ‡å®šæ•°æ®ï¼Œä¾‹å¦‚ï¼š`"target" :"xxx?a=${a}&b=${b}"`ï¼Œè¿™æ ·å°±ä¼šæŠŠå½“å‰æ•°æ®åŸŸä¸­çš„`a`å˜é‡å’Œ`b`å˜é‡å‘é€ç»™ç›®æ ‡ç»„ä»¶

```schema: scope="body"
[
  {
    "type": "form",
    "title": "form1",
    "mode": "horizontal",
    "api": "/api/mock2/form/saveForm",
    "body": [
      {
        "label": "Name",
        "type": "input-text",
        "name": "name"
      },

      {
        "label": "Email",
        "type": "input-text",
        "name": "email"
      },

      {
        "label": "Company",
        "type": "input-text",
        "name": "company"
      }
    ],
    "actions": [
      {
        "type": "action",
        "actionType": "reload",
        "label": "å‘é€åˆ° form2",
        "target": "form2?name=${name}&email=${email}"
      }
    ]
  },
  {
    "type": "form",
    "title": "form2",
    "name": "form2",
    "mode": "horizontal",
    "api": "/api/mock2/form/saveForm",
    "body": [
      {
        "label": "MyName",
        "type": "input-text",
        "name": "name"
      },

      {
        "label": "MyEmail",
        "type": "input-text",
        "name": "email"
      },

      {
        "label": "Company",
        "type": "input-text",
        "name": "company"
      }
    ]
  }
]
```

ä¸Šä¾‹ä¸­æˆ‘ä»¬ç»™æŒ‰é’®ä¸Šé…ç½®äº†`"target": "form2?name=${name}&email=${email}"`,å¯ä»¥æŠŠå½“å‰æ•°æ®é“¾ä¸­çš„`name`å˜é‡å’Œ`email`å˜é‡å‘é€ç»™`form2`

### é…ç½®å¤šä¸ªç›®æ ‡

`target`æ”¯æŒé…ç½®å¤šä¸ªç›®æ ‡ç»„ä»¶ nameï¼Œç”¨é€—å·éš”å¼€ï¼Œä¾‹å¦‚ï¼š

```json
{
  "type": "action",
  "actionType": "reload",
  "label": "åˆ·æ–°ç›®æ ‡ç»„ä»¶",
  "target": "target1,target2"
}
```

ä¸Šä¾‹ä¸­ç‚¹å‡»æŒ‰é’®ä¼šåˆ·æ–°`target1`å’Œ`target2`ç»„ä»¶ã€‚

äº‹å®ä¸Šï¼Œ**ç»„ä»¶é—´è”åŠ¨ä¹Ÿå¯ä»¥å®ç°ä¸Šè¿°ä»»æ„çš„ [åŸºæœ¬è”åŠ¨æ•ˆæœ](./linkage#%E5%9F%BA%E6%9C%AC%E8%81%94%E5%8A%A8)ï¼ˆæ˜¾éšè”åŠ¨ã€æ¥å£è”åŠ¨ç­‰å…¶ä»–è”åŠ¨ï¼‰ã€‚**
