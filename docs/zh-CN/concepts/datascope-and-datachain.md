---
title: æ•°æ®åŸŸä¸æ•°æ®é“¾
description:
type: 0
group: ğŸ’¡ æ¦‚å¿µ
menuName: æ•°æ®åŸŸä¸æ•°æ®é“¾
icon:
order: 10
---

## åŸºæœ¬çš„æ•°æ®å±•ç¤º

æˆ‘ä»¬å†çœ‹ä¹‹å‰çš„ç®€å•ç¤ºä¾‹ï¼š

```json
{
  "type": "page",
  "body": "Hello World!"
}
```

ç›®å‰æˆ‘ä»¬åªæ˜¯åœ¨ `Page` ç»„ä»¶ä¸­æ¸²æŸ“ä¸€ä¸²å›ºå®šçš„æ–‡æœ¬ï¼Œå¦‚ä½•å®ç° **é€šè¿‡æ¥å£æ‹‰å–æƒ³è¦çš„æ•°æ®ï¼Œå¹¶å±•ç¤ºåˆ° `Page` ç»„ä»¶çš„å†…å®¹åŒº** å‘¢ï¼Ÿ

## æ·»åŠ åˆå§‹åŒ–æ¥å£

```json
{
  "type": "page",
  "initApi": "/api/mock2/page/initData",
  "body": "date is ${date}"
}
```

è¿™ä¸ª api æ¥å£è¿”å›çš„æ•°æ®ç»“æ„å¦‚ä¸‹ï¼š

```json
{
  "status": 0,
  "msg": "",
  "data": {
    "title": "Test Page Component",
    "date": "2017-10-13"
  }
}
```

æ¸²æŸ“åé¡µé¢æ•ˆæœï¼š

```schema
{
  "type": "page",
  "initApi": "/api/mock2/page/initData",
  "body": "date is ${date}"
}
```

## å‘ç”Ÿäº†ä»€ä¹ˆ?

æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè¾“å‡ºç»“æœä¸å˜ï¼Œä½†æ˜¯æˆ‘ä»¬è¿™æ¬¡æ¸²æŸ“çš„æ˜¯æ¥å£è¿”å›çš„æ•°æ®ï¼š

1. é¦–å…ˆæˆ‘ä»¬ç»™ `Page` ç»„ä»¶é…ç½®äº†`initApi`å±æ€§ï¼Œè¯¥å±æ€§ä¼šåœ¨ç»„ä»¶åˆå§‹åŒ–æ—¶ï¼Œè¯·æ±‚æ‰€è¯¥å±æ€§æ‰€é…ç½®çš„æ¥å£
2. æ¥å£è¯·æ±‚æˆåŠŸåï¼Œ`Page` ä¼šæŠŠæ¥å£è¿”å›çš„`data`å†…æ•°æ®å­˜åˆ°å½“å‰çš„æ•°æ®åŸŸä¸­
3. `Page` åœ¨æ¸²æŸ“ `body` æ‰€é…ç½®çš„æ–‡æœ¬æ—¶ï¼Œä¼šè§£ææ–‡æœ¬å†…å®¹ï¼Œå½“è§£æåˆ°æ¨¡æ¿å˜é‡`${text}`æ—¶ï¼Œamis ä¼šæŠŠå°è¯•åœ¨å½“å‰ç»„ä»¶çš„æ•°æ®åŸŸä¸­è·å–`text`å˜é‡å€¼ï¼Œå¹¶æ›¿æ¢æ‰`${text}`ï¼Œæœ€åæ¸²æŸ“è§£æåçš„æ–‡æœ¬ã€‚

> ä¸‹ä¸€èŠ‚æˆ‘ä»¬ä¼šä»‹ç»[æ¨¡æ¿](./template)ï¼Œ`body`å±æ€§è‡ªèº«æ”¯æŒæ¨¡æ¿è¯­æ³•ï¼Œamis ä¸­æ”¯æŒæ¨¡æ¿è¯­æ³•çš„ç»„ä»¶è¿˜æœ‰å¾ˆå¤š

## æ•°æ®åŸŸ

å‰é¢æˆ‘ä»¬æåˆ°äº†**æ•°æ®åŸŸ**è¿™ä¸ªæ¦‚å¿µï¼Œå®ƒæ˜¯ amis ä¸­æœ€é‡è¦çš„æ¦‚å¿µä¹‹ä¸€ã€‚

è¿˜æ˜¯é€šè¿‡æœ€ç®€å•çš„ç¤ºä¾‹è¿›è¡Œè®²è§£ï¼š

```json
{
  "type": "page",
  "body": "Hello ${text}"
}
```

ä¸Šé¢çš„é…ç½®è¦åšçš„å¾ˆç®€å•ï¼šä½¿ç”¨ `Page` ç»„ä»¶ï¼Œåœ¨å†…å®¹åŒºå†…æ¸²æŸ“ä¸€æ®µæ¨¡æ¿æ–‡å­—ï¼Œå…¶ä¸­`${text}`æ˜¯**æ¨¡æ¿å˜é‡**ï¼Œå®ƒä¼šå»åˆ°å½“å‰ç»„ä»¶çš„æ•°æ®åŸŸä¸­ï¼Œè·å–`text`å˜é‡å€¼ã€‚

æ¯«æ— ç–‘é—®ï¼Œ`${text}`å°†ä¼šè§£æä¸ºç©ºç™½æ–‡æœ¬ï¼Œæœ€ç»ˆæ¸²æŸ“çš„æ–‡æœ¬æ˜¯ `Hello`

```schema
{
  "type": "page",
  "body": "Hello ${text}"
}
```

å› ä¸ºå½“å‰ `Page` ç»„ä»¶çš„æ•°æ®åŸŸä¸­æ˜¯æ²¡æœ‰ä»»ä½•æ•°æ®çš„ï¼Œç›¸æ¯”ä¹‹å‰çš„ç¤ºä¾‹ï¼ŒåŒºåˆ«åœ¨äºå‰é¢æˆ‘ä»¬ä¸º `Page` ç»„ä»¶é…ç½®äº†åˆå§‹åŒ–æ¥å£ï¼Œå®ƒä¼šå°†æ¥å£è¿”å›çš„æ•°æ®å­˜å…¥æ•°æ®åŸŸä¸­ä»¥ä¾›ç»„ä»¶ä½¿ç”¨ã€‚

å†è§‚å¯Ÿä¸‹é¢è¿™æ®µé…ç½®ï¼š

```schema
{
  "data": {
    "text": "World!"
  },
  "type": "page",
  "body": "Hello ${text}"
}
```

å†æ¬¡æŸ¥çœ‹æ¸²æŸ“ç»“æœï¼Œé¡ºåˆ©è¾“å‡ºäº† `Hello World!`

ç›¸ä¿¡ä½ å¯èƒ½å·²ç»çŒœåˆ°ï¼Œ**ç»„ä»¶çš„`data`å±æ€§å€¼æ˜¯æ•°æ®åŸŸçš„ä¸€ç§å½¢å¼**ï¼Œå®é™…ä¸Šå½“æˆ‘ä»¬æ²¡æœ‰æ˜¾å¼çš„é…ç½®æ•°æ®åŸŸæ—¶ï¼Œå¯ä»¥å‡æƒ³æˆè¿™æ ·ï¼š

```schema
{
  "data": {}, // ç©ºçš„æ•°æ®åŸŸ
  "type": "page",
  "body": "Hello ${text}"
}
```

> è€Œå‰é¢æˆ‘ä»¬çŸ¥é“ amis çš„ç‰¹æ€§ä¹‹ä¸€æ˜¯åŸºäºç»„ä»¶æ ‘ï¼Œå› æ­¤è‡ªç„¶æ•°æ®åŸŸä¹Ÿä¼šå½¢æˆç±»ä¼¼äºæ ‘å‹ç»“æ„ï¼Œå¦‚ä½•æ¥å¤„ç†è¿™äº›æ•°æ®åŸŸä¹‹é—´çš„è”ç³»å‘¢ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬é©¬ä¸Šè¦ä»‹ç»åˆ°çš„ **[æ•°æ®é“¾](./datascope-and-datachain#%E6%95%B0%E6%8D%AE%E9%93%BE)**

## æ•°æ®é“¾

ç›¸ä¿¡é€šè¿‡ä¸Šæ–‡ï¼Œä½ å·²ç»åŸºæœ¬æŒæ¡äº† amis ä¸­æ•°æ®åŸŸçš„æ¦‚å¿µï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ä¼šä»‹ç»å¦ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼š**æ•°æ®é“¾**ã€‚

**æ•°æ®é“¾**çš„ç‰¹æ€§æ˜¯ï¼Œå½“å‰ç»„ä»¶åœ¨é‡åˆ°è·å–å˜é‡çš„åœºæ™¯ï¼ˆä¾‹å¦‚æ¨¡æ¿æ¸²æŸ“ã€å±•ç¤ºè¡¨å•æ•°æ®ã€æ¸²æŸ“åˆ—è¡¨ç­‰ç­‰ï¼‰æ—¶ï¼š

1. é¦–å…ˆä¼šå…ˆå°è¯•åœ¨å½“å‰ç»„ä»¶çš„æ•°æ®åŸŸä¸­å¯»æ‰¾å˜é‡ï¼Œå½“æˆåŠŸæ‰¾åˆ°å˜é‡æ—¶ï¼Œé€šè¿‡æ•°æ®æ˜ å°„å®Œæˆæ¸²æŸ“ï¼Œåœæ­¢å¯»æ‰¾è¿‡ç¨‹ï¼›
2. å½“åœ¨å½“å‰æ•°æ®åŸŸä¸­æ²¡æœ‰æ‰¾åˆ°å˜é‡æ—¶ï¼Œåˆ™å‘ä¸Šå¯»æ‰¾ï¼Œåœ¨çˆ¶ç»„ä»¶çš„æ•°æ®åŸŸä¸­ï¼Œé‡å¤æ­¥éª¤`1`å’Œ`2`ï¼›
3. ä¸€ç›´å¯»æ‰¾ï¼Œç›´åˆ°é¡¶çº§èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯`page`èŠ‚ç‚¹ï¼Œå¯»æ‰¾è¿‡ç¨‹ç»“æŸã€‚
4. ä½†æ˜¯å¦‚æœ url ä¸­æœ‰å‚æ•°ï¼Œè¿˜ä¼šç»§ç»­å‘ä¸ŠæŸ¥æ‰¾è¿™å±‚ï¼Œæ‰€ä»¥å¾ˆå¤šæ—¶å€™é…ç½®ä¸­å¯ä»¥ç›´æ¥ `${id}` å–åœ°å€æ å‚æ•°ã€‚

> ä¸ºäº†æ–¹ä¾¿è®²è§£ï¼Œæˆ‘ä»¬è¿™ä¸€ç« çš„ä¾‹å­ç»Ÿä¸€ä½¿ç”¨çš„è®¾ç½®ç»„ä»¶`data`å±æ€§çš„æ–¹å¼æ¥åˆå§‹åŒ–æ•°æ®åŸŸï¼Œè¯·è®°ä½ï¼Œå¦‚æœç»„ä»¶æ”¯æŒï¼Œä½ æ°¸è¿œå¯ä»¥é€šè¿‡æ¥å£æ¥è¿›è¡Œæ•°æ®åŸŸçš„åˆå§‹åŒ–

ç»§ç»­æ¥çœ‹è¿™ä¸ªä¾‹å­ï¼š

```schema
{
  "type": "page",
  "data": {
    "name": "zhangsan",
    "age": 20
  },
  "body": [
    {
      "type": "tpl",
      "tpl": "my name is ${name}"
    },
    {
      "type": "service",
      "data": {
        "name": "lisi"
      },
      "body":  {
        "type": "tpl",
        "tpl": "my name is ${name}, I'm ${age} years old"
      }
    }
  ]
}
```

ä¸Šé¢çš„é…ç½®é¡¹å½¢æˆäº†å¦‚ä¸‹çš„ç»„ä»¶æ ‘å’Œæ•°æ®é“¾ï¼š

ç»„ä»¶æ ‘ï¼š

```
page
  â”œâ”€ tpl
  â””â”€ service
       â””â”€ tpl
```

æ•°æ®é“¾ï¼š

```json
{
  "name": "zhangsan",
  "age": 20,
  "__sub": {
    "name": "lisi"
  }
}
```

> `__sub` å­—æ®µåªæ˜¯ä¸ºäº†æ–¹ä¾¿ç†è§£ã€‚

é¦–å…ˆï¼Œ`page`ç»„ä»¶ä¸‹çš„`tpl`ç»„ä»¶ï¼Œåœ¨æ¸²æŸ“`my name is ${name}`æ—¶ï¼Œé¦–å…ˆä¼šåœ¨`page`çš„æ•°æ®åŸŸä¸­ï¼Œå°è¯•å¯»æ‰¾`name`å˜é‡ï¼Œåœ¨å½“å‰æ•°æ®åŸŸä¸­ï¼Œ`name`å˜é‡ä¸º`zhangsan`ï¼Œå› æ­¤å¯»æ‰¾å˜é‡ç»“æŸï¼Œé€šè¿‡æ•°æ®æ˜ å°„æ¸²æŸ“ï¼Œè¾“å‡ºï¼š`my name is zhangsan`ï¼Œæ¸²æŸ“ç»“æŸï¼›

ç„¶åï¼Œ`service`ç»„ä»¶å¼€å§‹æ¸²æŸ“ï¼Œ`service`ç»„ä»¶å†…å­ç»„ä»¶`tpl`ï¼Œå®ƒé…ç½®çš„æ¨¡æ¿å­—ç¬¦ä¸²æ˜¯ï¼š`my name is ${name}, I'm ${age} years old`ï¼Œå®ƒä¼šåœ¨`service`çš„æ•°æ®åŸŸä¸­ï¼Œå°è¯•å¯»æ‰¾`name`å’Œ`age`å˜é‡ã€‚

ç”±ä»£ç å¯ä»¥çœ‹å‡ºï¼Œ`service`æ•°æ®åŸŸä¸­`name`å˜é‡ä¸º`lisi`ï¼Œå› æ­¤åœæ­¢è¯¥å˜é‡çš„å¯»æ‰¾ï¼Œæ¥ä¸‹æ¥å¯»æ‰¾`age`å˜é‡ã€‚

å¾ˆæ˜æ˜¾åœ¨`service`æ•°æ®åŸŸä¸­å¯»æ‰¾`age`å˜é‡ä¼šå¤±è´¥ï¼Œå› æ­¤å‘ä¸ŠæŸ¥æ‰¾ï¼Œå°è¯•åœ¨`page`æ•°æ®åŸŸä¸­å¯»æ‰¾`age`å˜é‡ï¼Œæ‰¾åˆ°ä¸º`20`ï¼Œå¯»æ‰¾å˜é‡ç»“æŸï¼Œé€šè¿‡æ•°æ®æ˜ å°„æ¸²æŸ“ï¼Œè¾“å‡ºï¼š`my name is lisi, I'm 20 years old`ï¼Œæ¸²æŸ“ç»“æŸã€‚

> **æ³¨æ„ï¼š** å½“å‰ä¾‹å­ä¸­ï¼Œå¯¹æ•°æ®åŸŸä¸­æ•°æ®çš„è·å–ä½¿ç”¨çš„æ˜¯ **\${xxx}** æ¨¡æ¿è¯­æ³•ï¼Œä½†æ˜¯åœ¨ä¸åŒçš„ç»„ä»¶é…ç½®é¡¹ä¸­ï¼Œè·å–æ•°æ®çš„è¯­æ³•ä¼šæœ‰å·®å¼‚ï¼Œæˆ‘ä»¬ä¼šåœ¨åç»­çš„[æ¨¡æ¿](./template)å’Œ[è¡¨è¾¾å¼ç« èŠ‚](./expression)ä¸­ä¸€ä¸€ä»‹ç»ã€‚

### å¸¸è§è¯¯è§£

éœ€è¦æ³¨æ„ï¼Œåªæœ‰å°‘æ•°å‡ ä¸ªå®¹å™¨ç»„ä»¶ä¼šåˆ›å»ºæ–°çš„æ•°æ®åŸŸï¼Œé™¤äº†æœ€é¡¶å±‚çš„ Pageï¼Œè¿˜æœ‰ CRUDã€Dialogã€IFrameã€Formã€Service ç­‰ã€‚

å¸¸è§çš„é”™è¯¯å†™æ³•æ˜¯ç»™å®¹å™¨ç»„ä»¶åŠ  data å±æ€§ï¼Œæ¯”å¦‚ï¼š

```schema
{
  "type": "page",
  "data": {
    "name": "zhangsan"
  },
  "body": [
    {
      "type": "tpl",
      "tpl": "my name is ${name}"
    },
    {
      "type": "container",
      "data": {
        "name": "lisi"
      },
      "body":  {
        "type": "tpl",
        "tpl": "my name is ${name}"
      }
    }
  ]
}
```

è¿™æ ·æ˜¯ä¸ä¼šç”Ÿæ•ˆçš„ï¼Œæ­£ç¡®çš„åšæ³•æ˜¯ä½¿ç”¨ Service åŒ…è£¹ä¸€å±‚ï¼Œå¦‚ä¸‹æ‰€ç¤º

```schema
{
  "type": "page",
  "data": {
    "name": "zhangsan"
  },
  "body": [
    {
      "type": "tpl",
      "tpl": "my name is ${name}"
    },
    {
      "type": "service",
      "data": {
        "name": "lisi"
      },
      "body": {
        "type": "container",
        "body":  {
          "type": "tpl",
          "tpl": "my name is ${name}"
        }
      }
    }
  ]
}
```

## åˆå§‹åŒ–æ•°æ®åŸŸ

é€šè¿‡ä¸Šé¢çš„ä»‹ç»ä½ å¯èƒ½å‘ç°ï¼Œåˆå§‹åŒ–æ•°æ®åŸŸæœ‰ä¸¤ç§æ–¹å¼ï¼š

### 1. é…ç½®ç»„ä»¶åˆå§‹åŒ–æ¥å£

æƒ³è¦å°†è‡ªå·±çš„æœåŠ¡ä¸­çš„æ•°æ®ä¿å­˜åˆ°æŸä¸ªç»„ä»¶çš„æ•°æ®åŸŸä¸­ï¼Œæœ€å¥½çš„æ–¹å¼å°±æ˜¯ä¸ºå½“å‰ç»„ä»¶é…ç½®åˆå§‹åŒ–æ¥å£ï¼š

```json
{
  "type": "page",
  "initApi": "/api/initData",
  "body": "Hello ${text}"
}
```

æ¥å£å¿…é¡»æŒ‰ç…§ä¸‹é¢çš„æ ¼å¼è¿”å›ï¼š

```json
{
  "status": 0,
  "msg": "",
  "data": {
    "text": "World!"
    ...å…¶ä»–å­—æ®µ
  }
}
```

**æ³¨æ„ï¼š**

1. **å¹¶ä¸æ˜¯æ‰€æœ‰ç»„ä»¶éƒ½æ”¯æŒé…ç½®åˆå§‹åŒ–æ¥å£æ¥å®ç°æ•°æ®åŸŸåˆå§‹åŒ–æ“ä½œ**ï¼Œå¯¹äºé‚£äº›ä¸æ”¯æŒé…ç½®åˆå§‹åŒ–æ¥å£çš„ç»„ä»¶æ¥è¯´ï¼Œä¸€èˆ¬ä¼šä½¿ç”¨ [**Service ç»„ä»¶**](../../components/service) æ¥è¾…åŠ©å®ç°æ•°æ®åŸŸåˆå§‹åŒ–ï¼›
2. **`status`**ã€**`msg`** å’Œ **`data`** å­—æ®µä¸ºæ¥å£è¿”å›çš„å¿…è¦å­—æ®µï¼›
3. `data`å¿…é¡»è¿”å›ä¸€ä¸ªå…·æœ‰`key-value`ç»“æ„çš„å¯¹è±¡

```json
{
  "status": 0,
  "msg": "",
  "data": { // æ­£ç¡®
    "text": "World!"
  }
}

// ç›´æ¥è¿”å›å­—ç¬¦ä¸²æˆ–è€…æ•°ç»„éƒ½æ˜¯æ— æ•ˆçš„
{
  "status": 0,
  "msg": "",
  "data": "some string" // é”™è¯¯ï¼Œä½¿ç”¨ key åŒ…è£…
}
{
  "status": 0,
  "msg": "",
  "data": ["a", "b"] // é”™è¯¯ï¼Œä½¿ç”¨ key åŒ…è£…
}
```

> `api` é™¤äº†é…ç½®å­—ç¬¦ä¸²æ ¼å¼ä»¥å¤–ï¼Œè¿˜å¯ä»¥é…ç½®å¤æ‚å¯¹è±¡ç»“æ„ï¼Œæ›´å¤šè¯¦æƒ…æŸ¥çœ‹[API æ–‡æ¡£](../types/api)

### 2. æ˜¾å¼é…ç½® data å±æ€§å€¼

å¦ä¸€ç§åˆå§‹åŒ–å½“å‰æ•°æ®åŸŸçš„æ–¹å¼æ˜¯æ˜¾å¼çš„è®¾ç½®ç»„ä»¶çš„`data`å±æ€§å€¼ï¼š

```schema
{
  "data": {
    "text": "World!",
    "name": "amis"
  },
  "type": "page",
  "body": "Hello ${text}, my name is ${name}."
}
```

### åŒæ—¶é…ç½®

åœ¨åŒæ—¶é…ç½® **åˆå§‹åŒ–æ¥å£** å’Œ **`data`å±æ€§** æ—¶ï¼Œæ•°æ®åŸŸå°†ä¼šåˆå¹¶`data`å±æ€§å€¼å’Œåˆå§‹åŒ–æ¥å£è¿”å›çš„æ•°æ®

## æ›´æ–°æ•°æ®åŸŸ

éƒ¨åˆ†ç»„ä»¶çš„æŸäº›äº¤äº’æˆ–è¡Œä¸ºä¼šå¯¹å½“å‰ç»„ä»¶çš„æ•°æ®åŸŸè¿›è¡Œæ›´æ–°ï¼š

```schema
{
  "type": "page",
  "body": {
    "type": "form",
    "api": "/api/mock2/form/saveForm",
    "body": [
      {
        "type": "input-text",
        "name": "name",
        "label": "å§“åï¼š"
      },
      {
        "type": "input-text",
        "name": "age",
        "label": "å¹´é¾„ï¼š"
      },
      {
        "type": "static-tpl",
        "tpl": "ç”Ÿæˆçš„idä¸ºï¼š${id}"
      }
    ]
  }
}
```

`/api/saveForm`æ¥å£ä¼šä¿å­˜å½“å‰è¡¨å•æäº¤çš„æ•°æ®ï¼Œå¹¶è¿”å›åç«¯æœåŠ¡ç”Ÿæˆçš„`id`ï¼Œå¹¶è¿”å›åˆ°å‰ç«¯ï¼Œæ ¼å¼å¦‚ä¸‹;

```json
{
  "status": 0,
  "msg": "ä¿å­˜æˆåŠŸ",
  "data": {
    "id": 1
  }
}
```

è¿™æ—¶ amis å°†ä¼šæŠŠ`data`æ•°æ®ä¸å½“å‰`form`ç»„ä»¶çš„æ•°æ®åŸŸè¿›è¡Œ**merge**ï¼Œ`form`ç»„ä»¶ä¸­çš„`static-tpl`ç»„ä»¶ä¼šæ ¹æ®æ›´æ–°åçš„æ•°æ®åŸŸï¼Œæ˜¾ç¤º`id`ä¸º`1`ã€‚

> å…·æœ‰ç±»ä¼¼ç‰¹å¾çš„ç»„ä»¶è¿˜æœ‰`Formula`ç­‰

## URL å‚æ•°

url ä¸­çš„å‚æ•°ä¼šè¿›å…¥é¡¶å±‚æ•°æ®åŸŸï¼Œæ¯”å¦‚ä¸‹é¢çš„ä¾‹å­ï¼Œå¯ä»¥ç‚¹å‡»[è¿™é‡Œ](./datascope-and-datachain?word=myquery#url-å‚æ•°)çœ‹æ•ˆæœã€‚

```schema
{
  "type": "page",
  "body": "${word}"
}
```
